{
  "ingest_source": {
    "id": "558082d3-9ac3-4533-b065-f6976822ee75",
    "source_type": "evernote_html",
    "source_path": "backups/2023年6月/IT技术/解决树莓派上 ssh 时终端中文显示乱码问题.html",
    "collected_at": "2025-11-10T15:43:33.139065Z",
    "external_id": null,
    "title_hint": null,
    "language_hint": "no",
    "captured_at": null,
    "checksum": "961dd306b5fc4a50b736cf8c212983c2987099b31bb085d3134ad5c17c37e346",
    "status": "pending",
    "notes": {
      "batch_id": "phase2-backfill-202306"
    }
  },
  "note": {
    "id": "9e10f0ff-00fe-4f8b-b482-3edad62b6b9d",
    "ingest_source_id": "558082d3-9ac3-4533-b065-f6976822ee75",
    "canonical_title": "解决树莓派上 ssh 时终端中文显示乱码问题",
    "language": "no",
    "ingested_at": "2025-11-10T15:43:33.139069Z",
    "created_at": null,
    "status": "active",
    "importance": 0,
    "attributes": {
      "source_filename": "解决树莓派上 ssh 时终端中文显示乱码问题.html"
    }
  },
  "variants": [
    {
      "id": "ca72333b-10ca-4978-9e55-0f621ced2ef2",
      "note_id": "9e10f0ff-00fe-4f8b-b482-3edad62b6b9d",
      "variant_type": "raw_html",
      "version": 1,
      "created_by": "evernote_ingest:v0",
      "created_at": "2025-11-10T15:43:33.139072Z",
      "content": "---\ntitle: 解决树莓派上 ssh 时终端中文显示乱码问题\nupdated: 2019-06-01 11:08:24Z\ncreated: 2019-06-01 11:08:24Z\nauthor: tangyongfeng@gmail.com\n---\n\n\n\n<en-note>\n<div>解决树莓派上 <span>ssh</span> 时终端中文显示乱码问题</div>\n<div>配置树莓派端</div>\n<div>1. <span>进入到系统的语言配置页面</span><br/>\n<span>&nbsp;</span>sudo raspi-config</div>\n<div>2.<br/>\n<br/>\n<br/></div>\n<div><span>3.</span>在像 <span>BIOS</span> 界面的界面中依次进行操作<span><br/></span>空格操作勾选<span>/</span>取消勾选，<span>tab</span> 跳转到<span>[</span>确定，取消<span>]</span>选择区域<span><br/></span></div>\n<div>i. <span>选择</span> Localisation Options</div>\n<div>ii. <span>选择</span> Change Locale</div>\n<div>iii. <span>取消勾选</span> en_GB.UTF-8 UTF-8<span>，勾选</span> en_US.UTF-8, zh_CN.UTF-8 UTF-8, zh_CN.GBK GBK</div>\n<div>4. <span>安装中文字体库</span><br/>\n<span>&nbsp;</span>sudo apt-get install ttf-wqy-zenhei</div>\n<div>5.<br/>\n<br/>\n<br/></div>\n<div>然而，这一切之后，通过 <span>Mac</span> 的 <span>Terminal ssh</span> 访问树莓派，中文还是显示乱码，但通过 <span>ssh</span> 客户端，如 <span>Termius,</span> 中文显示正常，说明问题已经不在树莓派上了</div>\n<div><span>配置</span> Mac <span>端</span></div>\n<div>在笔者的 <span>Mac</span> 上，系统语言选择了英文，但是区域还是中国，也许是因为这个问题</div>\n<div><span>通过命令</span>&nbsp;locale, <span>输出</span></div>\n<div>LANG=&quot;&quot;</div>\n<div>LC_COLLATE=&quot;en_US.UTF-8&quot;</div>\n<div>LC_CTYPE=&quot;en_US.UTF-8&quot;</div>\n<div>LC_MESSAGES=&quot;en_US.UTF-8&quot;</div>\n<div>LC_MONETARY=&quot;en_US.UTF-8&quot;</div>\n<div>LC_NUMERIC=&quot;en_US.UTF-8&quot;</div>\n<div>LC_TIME=&quot;en_US.UTF-8&quot;</div>\n<div>LC_ALL=&quot;&quot;</div>\n<div><span>LANG</span> 和 <span>LC_ALL</span> 是空的，参考网上各种资料，推测就是这个问题造成的</div>\n<div><br/></div>\n<div>解决方法</div>\n<div><span>1.</span> 在 <span>`~/.bash_profile`</span> 中添加（有这个文件就追加，没有就创建一个再写入）：</div>\n<div><br/></div>\n<div><span>&nbsp; &nbsp;</span> ```sh</div>\n<div><span>&nbsp; &nbsp;</span> export LC_ALL=en_US.UTF-8</div>\n<div><span>&nbsp; &nbsp;</span> export LANG=en_US.UTF-8</div>\n<div><span>&nbsp; &nbsp;</span> ```</div>\n<div><span>&nbsp;&nbsp; &nbsp;</span></div>\n<div>2. <span>重新加载</span> `~/.bash_profile`, <span>使得配置生效</span></div>\n<div><br/></div>\n<div><span>&nbsp; &nbsp;</span> ```sh</div>\n<div><span>&nbsp; &nbsp;</span> source ~/.bash_profile</div>\n<div><span>&nbsp; &nbsp;</span> ```</div>\n<div>此时，再次运行命令<span>&nbsp;lcoale,</span> 内容已经发生了变化，<span>ssh</span> 到树莓派时，中文也显示正常</div>\n<div>LANG=&quot;en_US.UTF-8&quot;</div>\n<div>LC_COLLATE=&quot;en_US.UTF-8&quot;</div>\n<div>LC_CTYPE=&quot;en_US.UTF-8&quot;</div>\n<div>LC_MESSAGES=&quot;en_US.UTF-8&quot;</div>\n<div>LC_MONETARY=&quot;en_US.UTF-8&quot;</div>\n<div>LC_NUMERIC=&quot;en_US.UTF-8&quot;</div>\n<div>LC_TIME=&quot;en_US.UTF-8&quot;</div>\n<div>LC_ALL=&quot;en_US.UTF-8&quot;</div>\n</en-note>      ",
      "content_path": null,
      "diff_base_variant_id": null,
      "metadata": {
        "checksum": "961dd306b5fc4a50b736cf8c212983c2987099b31bb085d3134ad5c17c37e346",
        "path": "backups/2023年6月/IT技术/解决树莓派上 ssh 时终端中文显示乱码问题.html"
      }
    },
    {
      "id": "6769b13f-4bda-498f-af9f-fff4336ef1dc",
      "note_id": "9e10f0ff-00fe-4f8b-b482-3edad62b6b9d",
      "variant_type": "clean_text",
      "version": 1,
      "created_by": "evernote_ingest:v0",
      "created_at": "2025-11-10T15:43:33.139074Z",
      "content": "---\ntitle: 解决树莓派上 ssh 时终端中文显示乱码问题\nupdated: 2019-06-01 11:08:24Z\ncreated: 2019-06-01 11:08:24Z\nauthor: tangyongfeng@gmail.com\n---\n\n解决树莓派上\nssh\n 时终端中文显示乱码问题\n\n配置树莓派端\n\n1.\n进入到系统的语言配置页面\n\nsudo raspi-config\n\n2.\n\n3.\n在像\nBIOS\n 界面的界面中依次进行操作\n空格操作勾选\n/\n取消勾选，\ntab\n 跳转到\n[\n确定，取消\n]\n选择区域\n\ni.\n选择\n Localisation Options\n\nii.\n选择\n Change Locale\n\niii.\n取消勾选\n en_GB.UTF-8 UTF-8\n，勾选\n en_US.UTF-8, zh_CN.UTF-8 UTF-8, zh_CN.GBK GBK\n\n4.\n安装中文字体库\n\nsudo apt-get install ttf-wqy-zenhei\n\n5.\n\n然而，这一切之后，通过\nMac\n 的\nTerminal ssh\n 访问树莓派，中文还是显示乱码，但通过\nssh\n 客户端，如\nTermius,\n 中文显示正常，说明问题已经不在树莓派上了\n\n配置\n Mac\n端\n\n在笔者的\nMac\n 上，系统语言选择了英文，但是区域还是中国，也许是因为这个问题\n\n通过命令\n locale,\n输出\n\nLANG=\"\"\n\nLC_COLLATE=\"en_US.UTF-8\"\n\nLC_CTYPE=\"en_US.UTF-8\"\n\nLC_MESSAGES=\"en_US.UTF-8\"\n\nLC_MONETARY=\"en_US.UTF-8\"\n\nLC_NUMERIC=\"en_US.UTF-8\"\n\nLC_TIME=\"en_US.UTF-8\"\n\nLC_ALL=\"\"\n\nLANG\n 和\nLC_ALL\n 是空的，参考网上各种资料，推测就是这个问题造成的\n\n解决方法\n\n1.\n 在\n`~/.bash_profile`\n 中添加（有这个文件就追加，没有就创建一个再写入）：\n\n ```sh\n\n export LC_ALL=en_US.UTF-8\n\n export LANG=en_US.UTF-8\n\n ```\n\n2.\n重新加载\n `~/.bash_profile`,\n使得配置生效\n\n ```sh\n\n source ~/.bash_profile\n\n ```\n\n此时，再次运行命令\n lcoale,\n 内容已经发生了变化，\nssh\n 到树莓派时，中文也显示正常\n\nLANG=\"en_US.UTF-8\"\n\nLC_COLLATE=\"en_US.UTF-8\"\n\nLC_CTYPE=\"en_US.UTF-8\"\n\nLC_MESSAGES=\"en_US.UTF-8\"\n\nLC_MONETARY=\"en_US.UTF-8\"\n\nLC_NUMERIC=\"en_US.UTF-8\"\n\nLC_TIME=\"en_US.UTF-8\"\n\nLC_ALL=\"en_US.UTF-8\"",
      "content_path": null,
      "diff_base_variant_id": null,
      "metadata": {
        "language": "no",
        "length": 1280,
        "rule_count": 2,
        "applied_rules": [
          {
            "rule_id": "dedupe_lines",
            "description": "Collapse adjacent duplicate lines",
            "note": "collapsed duplicate adjacent lines"
          },
          {
            "rule_id": "whitespace",
            "description": "Normalize whitespace",
            "note": "collapsed whitespace"
          }
        ]
      }
    }
  ],
  "extractions": [
    {
      "id": "f150953c-12f8-486f-a2de-bcf5f86640f9",
      "note_id": "9e10f0ff-00fe-4f8b-b482-3edad62b6b9d",
      "extractor": "llm_enhance:v0#qwen3:30b",
      "payload": {
        "summary": "通过配置树莓派locale和Mac终端bash_profile环境变量，解决SSH连接中文显示乱码问题。",
        "keywords": [
          "树莓派",
          "SSH",
          "中文乱码",
          "locale",
          "bash_profile"
        ],
        "action_items": [
          "配置树莓派locale和中文字体，修改Mac的~/.bash_profile设置LANG=en_US.UTF-8和LC_ALL=en_US.UTF-8"
        ],
        "source": "qwen3:30b",
        "category_path": [
          "Education"
        ],
        "new_category_suggestion": [
          "Technology",
          "System Configuration"
        ]
      },
      "version": 1,
      "created_at": "2025-11-12T02:54:37.062732Z",
      "created_by": "llm_enhance:v0",
      "quality_score": 0.327
    }
  ],
  "journal": {
    "id": "7366661a-6d2d-4d4e-a630-a4fbea921a56",
    "note_id": "9e10f0ff-00fe-4f8b-b482-3edad62b6b9d",
    "stage": "ingest",
    "agent_id": "evernote_ingest:v0",
    "started_at": "2025-11-10T15:43:33.139079Z",
    "finished_at": "2025-11-10T15:43:33.139080Z",
    "status": "success",
    "input_ref": {
      "task_id": "0a1d3d7b-2c1e-4b16-b26d-06b80eb9f95e",
      "source_path": "backups/2023年6月/IT技术/解决树莓派上 ssh 时终端中文显示乱码问题.html",
      "checksum": "961dd306b5fc4a50b736cf8c212983c2987099b31bb085d3134ad5c17c37e346"
    },
    "output_ref": {
      "ingest_source": "558082d3-9ac3-4533-b065-f6976822ee75",
      "note": "9e10f0ff-00fe-4f8b-b482-3edad62b6b9d",
      "variants": [
        "ca72333b-10ca-4978-9e55-0f621ced2ef2",
        "6769b13f-4bda-498f-af9f-fff4336ef1dc"
      ]
    },
    "error_detail": null
  },
  "llm": {
    "status": "success",
    "model": "qwen3:30b",
    "updated_at": "2025-11-12T02:54:37.062413Z",
    "latency_seconds": 38.161077750031836,
    "attempts": 1,
    "summary": {
      "summary": "通过配置树莓派locale和Mac终端bash_profile环境变量，解决SSH连接中文显示乱码问题。",
      "keywords": [
        "树莓派",
        "SSH",
        "中文乱码",
        "locale",
        "bash_profile"
      ],
      "action_items": [
        "配置树莓派locale和中文字体，修改Mac的~/.bash_profile设置LANG=en_US.UTF-8和LC_ALL=en_US.UTF-8"
      ],
      "source": "qwen3:30b",
      "category_path": [
        "Education"
      ],
      "new_category_suggestion": [
        "Technology",
        "System Configuration"
      ]
    },
    "quality": {
      "score": 0.327,
      "metrics": {
        "input_chars": 1280.0,
        "input_lines": 101.0,
        "summary_chars": 52.0,
        "summary_coverage_ratio": 0.041,
        "keyword_hit_rate": 0.8,
        "action_item_count": 1.0,
        "unique_summary_sentences": 1.0,
        "estimated_read_seconds": 76.8
      }
    }
  }
}