---
title: >-
  GitHub - beurtschipper/Depix: Recovers passwords from pixelized screenshots
  马赛克消除工具
updated: 2021-06-12 22:42:34Z
created: 2021-05-11 08:27:23Z
source: https://github.com/beurtschipper/Depix
---

马赛克消除工具

Skip to content

                  Sign up
               
                    Why GitHub?
                   
Features
→

Mobile
→

Actions
→

Codespaces
→

Packages
→

Security
→

Code review
→

Project management
→

Integrations
→

GitHub Sponsors
→

Customer stories
→

Team

Enterprise

                    Explore
                   
Explore GitHub
→

Learn and contribute

Topics
→

Collections
→

Trending
→

Learning Lab
→

Open source guides
→

Connect with others

The ReadME Project
→

Events
→

Community forum
→

GitHub Education
→

GitHub Stars program
→

Marketplace

                    Pricing
                   
Plans
→

Compare plans
→

Contact Sales
→

Education
→

This repository

          Sign in
       
                Sign up
             
{{ message }}

beurtschipper

/

Depix

    Notifications

        Star

      18.3k
   
          Fork

        2.2k
     
        Recovers passwords from pixelized screenshots
     
            View license
       
18.3k

        stars

2.2k

        forks

        Star

    Notifications

Code

Pull requests

0

Actions

Projects

0

Security

Insights

More

                    Code

                    Pull requests

                    Actions

                    Projects

                    Security

                    Insights

main

Switch branches/tags

Branches

Tags

Nothing to show

{{ refName }}

default

View all branches

Nothing to show

{{ refName }}

default

View all tags

3

branches

0

tags

    Go to file

Latest commit

beurtschipper

Update README.md

        …
     
          1
       
        6ec05c9
     
on 27 Mar

Update README.md

6ec05c9

          1
       
Git stats

35

                      commits
                   
Files

Permalink

    Failed to load latest commit information.

Type

Name

Latest commit message

Commit time

depixlib

Implemented linear filter

2 months ago

              depixlib

docs/
img

Implemented linear filter

2 months ago

docs/
img

images

Implemented linear filter

2 months ago

              images

.gitignore

Initial Depix commit

5 months ago

              .gitignore

LICENSE

Initial Depix commit

5 months ago

              LICENSE

README.md

Update README.md

2 months ago

              README.md

depix.py

Implemented linear filter

2 months ago

              depix.py

genpixed.py

added generation function to compare with git

5 months ago

              genpixed.py

requirements.txt

add requirements.txt

5 months ago

              requirements.txt

        View code
     
Depix

Example

Installation

Example usage

About

Making a Search Image

Algorithm

Known limitations

Future development

README.md

Depix

Depix is a tool for recovering passwords from pixelized screenshots.

This implementation works on pixelized images that were created with a linear box filter.
In
this article
 I cover background information on pixelization and similar research.

Example

Installation

Clone the repo:

git clone https://github.com/beurtschipper/Depix.git

cd
 Depix

Install the dependencies:

python -m pip install -r requirements.txt

Run Depix:

python depix.py -p /path/to/your/input/image.png -s images/searchimages/debruinseq_notepad_Windows10_closeAndSpaced.png -o /path/to/your/output.png

Example usage

Depixelize example image created with Notepad and pixelized with Greenshot. Greenshot averages by averaging the gamma-encoded 0-255 values, which is Depix's default mode.

python3 depix.py -p images/testimages/testimage3_pixels.png -s images/searchimages/debruinseq_notepad_Windows10_closeAndSpaced.png

Result:

Depixelize example image created with Sublime and pixelized with Gimp, where averaging is done in linear sRGB. The backgroundcolor option filters out the background color of the editor.

python3 depix.py -p images/testimages/sublime_screenshot_pixels_gimp.png -s images/searchimages/debruin_sublime_Linux_small.png --backgroundcolor 40,41,35 --averagetype linear

Result:

About

Making a Search Image

Cut out the pixelated blocks from the screenshot as a single rectangle.

Paste a
De Bruijn sequence
 with expected characters in an editor with the same font settings as your input image (Same text size, similar font, same colors).

Make a screenshot of the sequence.

Move that screenshot into a folder like
images/searchimages/
.

Run Depix with the
-s
 flag set to the location of this screenshot.

Algorithm

The algorithm uses the fact that the linear box filter processes every block separately. For every block it pixelizes all blocks in the search image to check for direct matches.

For most pixelized images Depix manages to find single-match results. It assumes these are correct. The matches of surrounding multi-match blocks are then compared to be geometrically at the same distance as in the pixelized image. Matches are also treated as correct. This process is repeated a couple of times.

After correct blocks have no more geometrical matches, it will output all correct blocks directly. For multi-match blocks, it outputs the average of all matches.
The algorithm uses the fact that the linear box filter processes every block separately. For every block it pixelizes all blocks in the search image to check for direct matches.

Known limitations

The algorithm matches by integer block-boundaries. As a result, it has the underlying assumption that for all characters rendered (both in the de Brujin sequence and the pixelated image), the text positioning is done at pixel level. However, some modern text rasterizers position text
at sub-pixel accuracies
.

The algorithm currently performs pixel averaging in the image's gamma-corrected RGB space. As a result, it cannot reconstruct images pixelated using linear RGB.

Future development

Implement more filter functions

Create more averaging filters that work like some popular editors do.

Create a new tool that utilizes HMMs

After creating this program, someone pointed me to a research document from 2016 where a group of researchers managed to create a similar tool. Their tool has better precision and works across many different fonts. However, their code is not public. I encourage anyone passionate about this type of depixalization to implement their HMM-based version and share it:

https://www.researchgate.net/publication/305423573_On_the_Ineffectiveness_of_Mosaicing_and_Blurring_as_Tools_for_Document_Redaction

About

      Recovers passwords from pixelized screenshots
   
Resources

      Readme

License

        View license
   
    Releases

No releases published

    Packages
0

        No packages published

    Contributors
7

Languages

Python

100.0%

© 2021 GitHub, Inc.

Terms

Privacy

Security

Status

Docs

Contact GitHub

Pricing

API

Training

Blog

About

    You can’t perform that action at this time.
 
You signed in with another tab or window.
Reload
 to refresh your session.

You signed out in another tab or window.
Reload
 to refresh your session.