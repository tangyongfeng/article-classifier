{
  "ingest_source": {
    "id": "bb619340-7f44-488c-94ee-4e7a7993369b",
    "source_type": "evernote_html",
    "source_path": "backups/2023年6月/个人的乱78糟/NAT123之类的软件是如何实现访问域名然后穿透到内网主机的80端口？——有公网ip就是动态域名解析.html",
    "collected_at": "2025-11-10T15:43:33.404877Z",
    "external_id": null,
    "title_hint": null,
    "language_hint": "zh-cn",
    "captured_at": null,
    "checksum": "45a130c62dd798a9e41cb004b9a753890053e5b826cab983c0dd4653e5e23a55",
    "status": "pending",
    "notes": {
      "batch_id": "phase2-backfill-202306"
    }
  },
  "note": {
    "id": "5dbd0dce-723a-4c01-9217-87da8caf299e",
    "ingest_source_id": "bb619340-7f44-488c-94ee-4e7a7993369b",
    "canonical_title": "NAT123之类的软件是如何实现访问域名然后穿透到内网主机的80端口？——有公网ip就是动态域名解析",
    "language": "zh-cn",
    "ingested_at": "2025-11-10T15:43:33.404881Z",
    "created_at": null,
    "status": "active",
    "importance": 0,
    "attributes": {
      "source_filename": "NAT123之类的软件是如何实现访问域名然后穿透到内网主机的80端口？——有公网ip就是动态域名解析.html"
    }
  },
  "variants": [
    {
      "id": "b1055636-c8e0-4245-80cd-af0a34e3e18d",
      "note_id": "5dbd0dce-723a-4c01-9217-87da8caf299e",
      "variant_type": "raw_html",
      "version": 1,
      "created_by": "evernote_ingest:v0",
      "created_at": "2025-11-10T15:43:33.404883Z",
      "content": "---\ntitle: NAT123之类的软件是如何实现访问域名然后穿透到内网主机的80端口？——有公网ip就是动态域名解析，没有就是穿透+代理转发\nupdated: 2021-05-03 22:06:34Z\ncreated: 2021-05-03 22:05:23Z\nauthor: tangyongfeng@gmail.com\n---\n\n\n<en-note><p STYLE=\"text-indent: 0px; color: rgb(0, 0, 0); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);\"></p><div>实际上两种都用到了：</div><div><span STYLE=\"-en-paragraph:true;\">1，服务提供商（123NAT，花生壳）做Proxy转发\n</span></div><div><span STYLE=\"-en-paragraph:true;\">2，两个私网地址直接连接：STUN 和TURN\n</span></div><div><span STYLE=\"-en-paragraph:true;\"> \n</span></div><h3><span STYLE=\"font-weight: bold;\">使用动态域名解析还是端口映射\n</span></h3><div> \n</div><div>什么情况下使用动态域名解析？什么情况下使用nat123端口映射？\n</div><div> \n</div><div><span STYLE=\"font-weight: bold;\">概述：</span></div><div>1，本地有公网IP时，使用动态域名解析。动态解析后，域名访问走本地带宽，80端口是否可用等以本地网络环境是否支持为准；即动态域名解析不能解决80端口被屏蔽的问题；必须要有公网IP才能使用动态域名解析，且如经过路由器需有路由器管理权限。\n</div><div>2，端口被屏蔽和内网环境，使用nat123端口映射。任何可上网环境都可以使用nat123端口映射；使用80映射可以发布80网站；使用非80映射可以发布网站应用到外网；支持所有端口协议应用。\n</div><div> \n</div><div><span STYLE=\"font-weight: bold;\">以下是详细：</span></div><div>不同的本地网络环境可以使用不同的方案，充分发挥本地带宽优势。\n</div><div><span STYLE=\"-en-paragraph:true;\"> \n</span></div><div><span STYLE=\"font-weight: bold;-en-paragraph:true;\">环境一，小习本地是ADSL网络，路由分配的是动态公网IP，且80端口是正常的。如何做网站服务，如何实现外网访问内网应用？</span></div><div><span STYLE=\"-en-paragraph:true;\">使用nat123动态域名解析即可。将域名实时解析到本地公网IP，即使公网IP变化，也不会影响到域名的正常使用。同时还需要在路由做下路由映射，将外网需要访问的端口，映射到内网对应应用服务器。\n</span></div><p STYLE=\"text-indent: 0px; color: rgb(0, 0, 0); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);\"></p><div><span STYLE=\"font-weight: bold;\">环境二，小李家是ADSL，路由分配的是动态公网IP，但80端口被某某封了。怎样外网访问内网应用？如何做大众网站服务？</span></div><div>访问内网应用：使用nat123动态域名解析。将域名实时固定解析到本公网IP后，即可通过域名进行访问。</div><div><span STYLE=\"-en-paragraph:true;\">做大众网站服务：使用nat123端口映射80映射+本地公网IP加速。本地加速后，网站数据加载是直接走本地IP的，可以发挥本地带宽优势。\n</span></div><p STYLE=\"text-indent: 0px; color: rgb(0, 0, 0); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);\"></p><div><span STYLE=\"font-weight: bold;\">环境三，小温家是长城带宽，100M独享，但是路由分配的IP是10开头的，是经过网络运营商NAT转发的内网IP。如何做网站服务？如何实现外网访问内网应用？</span></div><div><span STYLE=\"-en-paragraph:true;\">做大众网站服务时，使用80映射+网站加速。\n</span></div><div><span STYLE=\"-en-paragraph:true;\">外网访问内网应用时，使用nat123端口映射，将内网应用地址映射到外网域名。\n</span></div><p STYLE=\"text-indent: 0px; color: rgb(0, 0, 0); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);\"></p><div><span STYLE=\"font-weight: bold;\">环境四，小胡自己也不知道自己本地是什么网络环境，只知道可以上网。如何发布网站到外网？如何让外网其他盆友访问他电脑应用？如何与远在他乡的基友进行游戏开服联机？</span></div><div><span STYLE=\"-en-paragraph:true;\">做大众网站服务时，使用80映射+网站加速。\n</span></div><div><span STYLE=\"-en-paragraph:true;\">外网访问内网应用时，使用nat123端口映射，将内网应用地址映射到外网域名。\n</span></div><div><span STYLE=\"-en-paragraph:true;\"> \n</span></div><div><span STYLE=\"font-weight: bold;\">nat123动态域名解析使用场景：</span></div><div>1.本地(动态)公网IP时，且本地公网80端口正常时，可用动态域名解析，发布80大众网站。\n</div><div>2.本地(动态)公网IP时，但本地公网80端口被屏蔽时，发布非大众网站，外网访问时用非80端口。\n</div><div>3.本地(动态)公网IP时，外网访问内网应用。\n</div><div><img src=\"../_resources/66cd9ca128036ee0ee8fa03681950ee9.jpg\"  hash=\"66cd9ca128036ee0ee8fa03681950ee9\" type=\"image/jpeg\" alt=\"\" /></en-media> \n</div><div><span STYLE=\"font-weight: bold;\">nat123端口映射使用场景：</span></div><div>1.80端口被屏蔽时。\n</div><div>2.无公网IP时。\n</div><div>3.其他任何环境。\n</div><div><img src=\"../_resources/64e582bcfe337a89ff6159295a871214.jpg\"  hash=\"64e582bcfe337a89ff6159295a871214\" type=\"image/jpeg\" alt=\"\" /></en-media> \n</div><div><h3><span STYLE=\"font-weight: bold;\">选择什么映射类型\n</span></h3><div>使用nat123映射，根据自己应用类型，选择最适合的映射线路，可以提升应用访问速度和稳定。\n</div><div><img src=\"../_resources/63e6521a562315bac3860ba3a47e91fd.jpg\"  hash=\"63e6521a562315bac3860ba3a47e91fd\" type=\"image/jpeg\" alt=\"\" /></en-media></div><div> \n</div><div> \n</div><div><span STYLE=\"font-weight: bold;\">四，多端口、固定端口、UDP应用：选择使用</span><span STYLE=\"font-weight: bold;\">全端口映射</span>。\n</div><div>1，需要在访问端同时使用访问者。\n</div><div>2，不需要改变访问端口。\n</div><div>3，访问目标主机任意固定端口应用。\n</div><div>4，支持所有协议。包括tcp/udp/http/https/ftp/广播通信/等。\n</div><div>5，全端口映射转发p2p是有服务器支持稳定VIP模式，需购买支持全端口映射的VIP使用。</div><div>6，点到点模式，穿透不限速。穿透失败走转发，由(购买)服务端带宽和本地带宽速度决定。</div></div><div><br/></div></en-note>      ",
      "content_path": null,
      "diff_base_variant_id": null,
      "metadata": {
        "checksum": "45a130c62dd798a9e41cb004b9a753890053e5b826cab983c0dd4653e5e23a55",
        "path": "backups/2023年6月/个人的乱78糟/NAT123之类的软件是如何实现访问域名然后穿透到内网主机的80端口？——有公网ip就是动态域名解析.html"
      }
    },
    {
      "id": "0d787f79-13c2-44f9-a72e-acae38cb1a3a",
      "note_id": "5dbd0dce-723a-4c01-9217-87da8caf299e",
      "variant_type": "clean_text",
      "version": 1,
      "created_by": "evernote_ingest:v0",
      "created_at": "2025-11-10T15:43:33.404886Z",
      "content": "---\ntitle: NAT123之类的软件是如何实现访问域名然后穿透到内网主机的80端口？——有公网ip就是动态域名解析，没有就是穿透+代理转发\nupdated: 2021-05-03 22:06:34Z\ncreated: 2021-05-03 22:05:23Z\nauthor: tangyongfeng@gmail.com\n---\n\n实际上两种都用到了：\n1，服务提供商（123NAT，花生壳）做Proxy转发\n\n2，两个私网地址直接连接：STUN 和TURN\n\n使用动态域名解析还是端口映射\n\n什么情况下使用动态域名解析？什么情况下使用nat123端口映射？\n\n概述：\n1，本地有公网IP时，使用动态域名解析。动态解析后，域名访问走本地带宽，80端口是否可用等以本地网络环境是否支持为准；即动态域名解析不能解决80端口被屏蔽的问题；必须要有公网IP才能使用动态域名解析，且如经过路由器需有路由器管理权限。\n\n2，端口被屏蔽和内网环境，使用nat123端口映射。任何可上网环境都可以使用nat123端口映射；使用80映射可以发布80网站；使用非80映射可以发布网站应用到外网；支持所有端口协议应用。\n\n以下是详细：\n不同的本地网络环境可以使用不同的方案，充分发挥本地带宽优势。\n\n环境一，小习本地是ADSL网络，路由分配的是动态公网IP，且80端口是正常的。如何做网站服务，如何实现外网访问内网应用？\n使用nat123动态域名解析即可。将域名实时解析到本地公网IP，即使公网IP变化，也不会影响到域名的正常使用。同时还需要在路由做下路由映射，将外网需要访问的端口，映射到内网对应应用服务器。\n\n环境二，小李家是ADSL，路由分配的是动态公网IP，但80端口被某某封了。怎样外网访问内网应用？如何做大众网站服务？\n访问内网应用：使用nat123动态域名解析。将域名实时固定解析到本公网IP后，即可通过域名进行访问。\n做大众网站服务：使用nat123端口映射80映射+本地公网IP加速。本地加速后，网站数据加载是直接走本地IP的，可以发挥本地带宽优势。\n\n环境三，小温家是长城带宽，100M独享，但是路由分配的IP是10开头的，是经过网络运营商NAT转发的内网IP。如何做网站服务？如何实现外网访问内网应用？\n做大众网站服务时，使用80映射+网站加速。\n\n外网访问内网应用时，使用nat123端口映射，将内网应用地址映射到外网域名。\n\n环境四，小胡自己也不知道自己本地是什么网络环境，只知道可以上网。如何发布网站到外网？如何让外网其他盆友访问他电脑应用？如何与远在他乡的基友进行游戏开服联机？\n做大众网站服务时，使用80映射+网站加速。\n\n外网访问内网应用时，使用nat123端口映射，将内网应用地址映射到外网域名。\n\nnat123动态域名解析使用场景：\n1.本地(动态)公网IP时，且本地公网80端口正常时，可用动态域名解析，发布80大众网站。\n\n2.本地(动态)公网IP时，但本地公网80端口被屏蔽时，发布非大众网站，外网访问时用非80端口。\n\n3.本地(动态)公网IP时，外网访问内网应用。\n\nnat123端口映射使用场景：\n1.80端口被屏蔽时。\n\n2.无公网IP时。\n\n3.其他任何环境。\n\n选择什么映射类型\n\n使用nat123映射，根据自己应用类型，选择最适合的映射线路，可以提升应用访问速度和稳定。\n\n四，多端口、固定端口、UDP应用：选择使用\n全端口映射\n。\n\n1，需要在访问端同时使用访问者。\n\n2，不需要改变访问端口。\n\n3，访问目标主机任意固定端口应用。\n\n4，支持所有协议。包括tcp/udp/http/https/ftp/广播通信/等。\n\n5，全端口映射转发p2p是有服务器支持稳定VIP模式，需购买支持全端口映射的VIP使用。\n6，点到点模式，穿透不限速。穿透失败走转发，由(购买)服务端带宽和本地带宽速度决定。",
      "content_path": null,
      "diff_base_variant_id": null,
      "metadata": {
        "language": "zh-cn",
        "length": 1621,
        "rule_count": 0,
        "applied_rules": []
      }
    }
  ],
  "extractions": [],
  "journal": {
    "id": "4e325ac5-e57e-4773-ac84-69e7d89261f9",
    "note_id": "5dbd0dce-723a-4c01-9217-87da8caf299e",
    "stage": "ingest",
    "agent_id": "evernote_ingest:v0",
    "started_at": "2025-11-10T15:43:33.404891Z",
    "finished_at": "2025-11-10T15:43:33.404891Z",
    "status": "success",
    "input_ref": {
      "task_id": "6fbf6449-c698-4287-acdd-4e7356cdfd4b",
      "source_path": "backups/2023年6月/个人的乱78糟/NAT123之类的软件是如何实现访问域名然后穿透到内网主机的80端口？——有公网ip就是动态域名解析.html",
      "checksum": "45a130c62dd798a9e41cb004b9a753890053e5b826cab983c0dd4653e5e23a55"
    },
    "output_ref": {
      "ingest_source": "bb619340-7f44-488c-94ee-4e7a7993369b",
      "note": "5dbd0dce-723a-4c01-9217-87da8caf299e",
      "variants": [
        "b1055636-c8e0-4245-80cd-af0a34e3e18d",
        "0d787f79-13c2-44f9-a72e-acae38cb1a3a"
      ]
    },
    "error_detail": null
  }
}