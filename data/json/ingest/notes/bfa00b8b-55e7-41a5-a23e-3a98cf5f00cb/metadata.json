{
  "ingest_source": {
    "id": "46965c11-ae0b-4b10-8d19-e2a7a7a3804e",
    "source_type": "evernote_html",
    "source_path": "backups/2023年6月/IT技术/OsmocomBB项目 - 酒水不犯茶水 - BlogJava.html",
    "collected_at": "2025-11-10T15:43:31.132688Z",
    "external_id": null,
    "title_hint": null,
    "language_hint": "en",
    "captured_at": null,
    "checksum": "798cd002655cf4e4b04189888ce6a83cc054e4331e2cec38190aeeaa2a723f08",
    "status": "pending",
    "notes": {
      "batch_id": "phase2-backfill-202306"
    }
  },
  "note": {
    "id": "bfa00b8b-55e7-41a5-a23e-3a98cf5f00cb",
    "ingest_source_id": "46965c11-ae0b-4b10-8d19-e2a7a7a3804e",
    "canonical_title": "OsmocomBB项目 - 酒水不犯茶水 - BlogJava",
    "language": "en",
    "ingested_at": "2025-11-10T15:43:31.132695Z",
    "created_at": null,
    "status": "active",
    "importance": 0,
    "attributes": {
      "source_filename": "OsmocomBB项目 - 酒水不犯茶水 - BlogJava.html"
    }
  },
  "variants": [
    {
      "id": "e252f519-b845-44d1-85e6-fad4a065752c",
      "note_id": "bfa00b8b-55e7-41a5-a23e-3a98cf5f00cb",
      "variant_type": "raw_html",
      "version": 1,
      "created_by": "evernote_ingest:v0",
      "created_at": "2025-11-10T15:43:31.132699Z",
      "content": "---\ntitle: OsmocomBB项目 - 酒水不犯茶水 - BlogJava\nupdated: 2016-04-03 10:07:03Z\ncreated: 2016-04-03 10:07:03Z\nsource: http://www.blogjava.net/baicker/archive/2013/11/13/406293.html\n---\n\n\n\n<en-note><div STYLE=\"position:relative;\"><div STYLE=\"margin-top:10px;background-image:url(&quot;http://www.blogjava.net/skins/green/images/bg_content.gif&quot;);background-repeat:no-repeat;font-size:12px;color:rgb(48, 48, 48);\">\n&Tab;&Tab;&Tab;&nbsp;&nbsp;&nbsp;&nbsp; 之前看过好多大牛玩osmocomBB项目，改个手机，连电脑，然后编译一堆东西，到最后都是开个console，满屏红红绿绿的文字滚动，看着很吊。<div></div>\n但都不说最终能干啥，滚屏完了就没了，大牛都太低调了，最近有朋友也在搞这个，了解了一下，以下描述都是我最近查阅的大量鸟文资料及少量中文资料之后的理解，如有误望指出。<div></div>\n<div><span>&nbsp;&nbsp;&nbsp; OsmocomBB是国外一个开源项目，是GSM协议栈(Protocols stack)的开源实现，全称是Open source mobile communication Baseband.目的是要实现手机端从物理层(layer1)到layer3的三层实现。<div></div>\n<div></div>\n</span></div>\n&nbsp;&nbsp;&nbsp; 这里记录一下过程，以便备忘和其它有需要的童鞋少走弯路。<div></div>\n<div></div>\n相关链接：<div></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">\n</p>\n<div><a HREF=\"https://github.com/osmocom/osmocom-bb\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\">https://github.com/osmocom/osmocom-bb</a></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><a HREF=\"http://bb.osmocom.org/trac/wiki/TitleIndex\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\">http://bb.osmocom.org/trac/wiki/TitleIndex</a></p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><div></div>\n</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><strong><span STYLE=\"font-size:32px;\">硬件部分</span></strong></p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><div></div>\n</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><strong>支持的手机</strong></p>\n<div>\n<ul STYLE=\"margin-block-start:;margin-block-end:;padding-inline-start:;\">\n     <li STYLE=\"text-align:justify;\">\n     <ul STYLE=\"list-style-type:circle;margin-block-start:;margin-block-end:;padding-inline-start:;padding-block-start:;\">\n         <li STYLE=\"text-align:justify;\"><a HREF=\"http://bb.osmocom.org/trac/wiki/MotorolaC123\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\">MotorolaC123</a>/C121/C118 (E88) -- our primary target </li>\n         <li STYLE=\"text-align:justify;\"><a HREF=\"http://bb.osmocom.org/trac/wiki/MotorolaC140\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\">MotorolaC140</a>/C139 (E86) </li>\n         <li STYLE=\"text-align:justify;\"><a HREF=\"http://bb.osmocom.org/trac/wiki/MotorolaC155\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\">MotorolaC155</a> (E99) -- our secondary target </li>\n         <li STYLE=\"text-align:justify;\"><a HREF=\"http://bb.osmocom.org/trac/wiki/MotorolaV171\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\">MotorolaV171</a> (E68/E69) </li>\n         <li STYLE=\"text-align:justify;\"><a HREF=\"http://bb.osmocom.org/trac/wiki/SonyEricssonJ100i\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\">SonyEricssonJ100i</a></li>\n         <li STYLE=\"text-align:justify;\"><a HREF=\"http://bb.osmocom.org/trac/wiki/PirelliDPL10\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\">Pirelli DP-L10</a> </li>\n         <li STYLE=\"text-align:justify;\">Neo 1973 (GTA01)</li>\n         <li STYLE=\"text-align:justify;\"><a HREF=\"http://bb.osmocom.org/trac/wiki/OpenMoko\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\">OpenMoko</a> - Neo Freerunner (GTA02)</li>\n         <li STYLE=\"text-align:justify;\"><a HREF=\"http://bb.osmocom.org/trac/wiki/SciphoneDreamG2\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\">SciphoneDreamG2</a> (<a HREF=\"http://bb.osmocom.org/trac/wiki/MT6235\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\">MT6235</a> based) </li>\n     </ul>\n     </li>\n</ul>\n</div>\n<strong>手机硬件修改</strong><div></div>\n<div></div>\n&nbsp;&nbsp;&nbsp; 国内比较多的是C118，需要换两个balun，不知道怎么翻译，好像是接收数据过滤用的，不过手艺不好的就算了，不换也可以用，只是没有uplink的数据，只能抓到基站广播的数据。<div></div>\n官方的教程<a HREF=\"http://bb.osmocom.org/trac/wiki/Hardware/FilterReplacement\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\">http://bb.osmocom.org/trac/wiki/Hardware/FilterReplacement</a><div></div>\n以下贴几个我改的图，有热风枪应该好改一些，反正没有好的工具的话我这辈子是不会再改这个了。<div></div>\n<div></div>\n一打开盖子就看到两个大铁壳，傻眼了<div></div>\n<a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/hardware6.jpg\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/23e2b3d6a15d38e15f26d938ffb2f4e1.png\"  alt=\"\" hash=\"23e2b3d6a15d38e15f26d938ffb2f4e1\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a><div></div>\n<div>还好我有小电机把上面那个屏蔽层磨掉了</div>\n<a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/hardware3.jpg\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/32a4d5d376e38555b4d1e9e230093b0c.png\"  alt=\"\" hash=\"32a4d5d376e38555b4d1e9e230093b0c\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a><div></div>\n这么小真是下不去手啊，有热风枪会好办一点，再来几个改机的图<div></div>\n<a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/IMG_20131102_153321.jpg\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/2599c12459961ce69447418c251338b3.png\"  alt=\"\" hash=\"2599c12459961ce69447418c251338b3\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a><div></div>\n<a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/IMG_20131102_204429.jpg\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/b6421186c59feeab86721a55773922a3.png\"  alt=\"\" hash=\"b6421186c59feeab86721a55773922a3\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a><div></div>\n<a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/hardware7.jpg\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/b19e2ce27842f5d9baccdcc6191f1273.png\"  alt=\"\" hash=\"b19e2ce27842f5d9baccdcc6191f1273\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a><div></div>\n以下刷的rssi固件，如果没改硬件，uplink信号没有的，图中是downlink，uplink的图没截<div></div>\n<a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/hardware4.jpg\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/55a11208cbba1adbda338c28568a86a3.png\"  alt=\"\" hash=\"55a11208cbba1adbda338c28568a86a3\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a><div></div>\n<a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/hardware5.jpg\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/33b432b7ec92d15725571d18a222209e.png\"  alt=\"\" hash=\"33b432b7ec92d15725571d18a222209e\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a><div></div>\n<div></div>\n<div></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><strong>刷机线</strong></p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">&nbsp;&nbsp;&nbsp; 自己买根T191线或者把带的耳机线改改（下图的红白颜色说的是手机自带的耳机线，别的耳机线可能颜色不同）</p>\n<a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/hardware1.jpg\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/8e76ffff8a2272e0bb829c74e90c1716.png\"  alt=\"\" hash=\"8e76ffff8a2272e0bb829c74e90c1716\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a><div></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">&nbsp;</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/hardware2.jpg\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/a13b3e15d8f367456c2ddc0300d5c4c2.png\"  alt=\"\" hash=\"a13b3e15d8f367456c2ddc0300d5c4c2\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a><div></div>\n</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">下图参考<div></div>\n</p>\n<a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/t191cable.jpg\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/7327545846332ec0aa7c7a89a0429ae5.png\"  alt=\"\" hash=\"7327545846332ec0aa7c7a89a0429ae5\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a><div></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">&nbsp;</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><a HREF=\"http://bb.osmocom.org/trac/wiki/TitleIndex\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><div></div>\n</a></p>\n<strong STYLE=\"font-size:32px;\">\n</strong><strong STYLE=\"font-size:32px;\">软件部分</strong><div STYLE=\"font-size:32px;\"></div>\n<div STYLE=\"font-size:32px;\"></div>\n大家也可以上官网查看手册及相关刷机、编译步骤：<div></div>\n<a HREF=\"http://bb.osmocom.org/trac/wiki/GettingStarted\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\">http://bb.osmocom.org/trac/wiki/GettingStarted</a><div></div>\n<div></div>\n&nbsp;&nbsp;&nbsp; 不过我按照官网的步骤编译的时候卡在开始下载<a HREF=\"https://bb.osmocom.org/trac/wiki/toolchain\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\">交叉编译环境</a>上了，由于时间太久了，文中那个链接已经失效，使用这里的地址：http://bb.osmocom.org/trac/wiki/GnuArmToolchain<div></div>\n<div></div>\n下面是完整步骤，我的Ubuntu 12.10 内核3.5.0-17 x86_64编译测试通过，干净的系统按照我下面的步骤一般都不会有什么问题：<div></div>\n<div></div>\n<div></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">-------------------------<span STYLE=\"font-family:宋体;\">准备交叉编译环境</span>--------------------------</p>\n<div STYLE=\"background-color:rgb(238, 238, 238);font-size:13px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-bottom:4px;padding-top:4px;width:1177.57px;word-break:break-all;\"><span>cd&nbsp;</span><span>~</span><span><div></div>\nmkdir&nbsp;osmcombb<div></div>\ncd&nbsp;osmcombb<div></div>\nwget&nbsp;http:</span><span STYLE=\"color:rgb(0, 128, 0);\">//</span><span STYLE=\"color:rgb(0, 128, 0);\">bb.osmocom.org/trac/raw-attachment/wiki/GnuArmToolchain/gnu-arm-build.2.sh</span><span STYLE=\"color:rgb(0, 128, 0);\"><div></div>\n</span><span>chmod&nbsp;</span><span>+</span><span>x&nbsp;gnu</span><span>-</span><span>arm</span><span>-</span><span>build.</span><span>2</span><span>.sh<div></div>\nsudo&nbsp;apt</span><span>-</span><span>get&nbsp;install&nbsp;build</span><span>-</span><span>essential&nbsp;libgmp3</span><span>-</span><span>dev&nbsp;libmpfr</span><span>-</span><span>dev&nbsp;libx11</span><span>-</span><span>6</span><span>&nbsp;libx11</span><span>-</span><span>dev&nbsp;texinfo&nbsp;flex&nbsp;bison&nbsp;libncurses5&nbsp;libncurses5</span><span>-</span><span>dbg&nbsp;libncurses5</span><span>-</span><span>dev&nbsp;libncursesw5&nbsp;libncursesw5</span><span>-</span><span>dbg&nbsp;libncursesw5</span><span>-</span><span>dev&nbsp;zlibc&nbsp;zlib1g</span><span>-</span><span>dev&nbsp;libmpfr4&nbsp;libmpc</span><span>-</span><span>dev<div></div>\nmkdir&nbsp;build&nbsp;install&nbsp;src<div></div>\ncd&nbsp;src</span><span>/</span><span><div></div>\nwget&nbsp;http:</span><span STYLE=\"color:rgb(0, 128, 0);\">//</span><span STYLE=\"color:rgb(0, 128, 0);\">ftp.gnu.org/gnu/gcc/gcc-4.5.2/gcc-4.5.2.tar.bz2</span><span STYLE=\"color:rgb(0, 128, 0);\"><div></div>\n</span><span>wget&nbsp;http:</span><span STYLE=\"color:rgb(0, 128, 0);\">//</span><span STYLE=\"color:rgb(0, 128, 0);\">ftp.gnu.org/gnu/binutils/binutils-2.21.1a.tar.bz2</span><span STYLE=\"color:rgb(0, 128, 0);\"><div></div>\n</span><span>wget&nbsp;ftp:</span><span STYLE=\"color:rgb(0, 128, 0);\">//</span><span STYLE=\"color:rgb(0, 128, 0);\">sources.redhat.com/pub/newlib/newlib-1.19.0.tar.gz</span><span STYLE=\"color:rgb(0, 128, 0);\"><div></div>\n</span><span>cd&nbsp;..<div></div>\n.</span><span>/</span><span>gnu</span><span>-</span><span>arm</span><span>-</span><span>build.</span><span>2</span><span>.sh<div></div>\nexport&nbsp;PATH</span><span>=</span><span>$PATH:</span><strong><span>&lt;</span><span>YOURPATH</span></strong><span><strong>&gt;</strong>/</span><span>install</span><span>/</span><span>bin</span></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">&nbsp;</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">--------------------------<span STYLE=\"font-family:宋体;\">准备</span>libosmocore----------------------</p>\n<div STYLE=\"background-color:rgb(238, 238, 238);font-size:13px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-bottom:4px;padding-top:4px;width:1177.57px;word-break:break-all;\"><span>git&nbsp;clone&nbsp;git:</span><span STYLE=\"color:rgb(0, 128, 0);\">//</span><span STYLE=\"color:rgb(0, 128, 0);\">git.osmocom.org/libosmocore.git</span><span STYLE=\"color:rgb(0, 128, 0);\"><div></div>\n</span><span>cd&nbsp;libosmocore</span><span>/</span><span><div></div>\nautoreconf&nbsp;</span><span>-</span><span>i<div></div>\n.</span><span>/</span><span>configure<div></div>\nmake<div></div>\nsudo&nbsp;make&nbsp;install<div></div>\ncd&nbsp;..<div></div>\nsudo&nbsp;ldconfig</span></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">&nbsp;</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">---------------------------<span STYLE=\"font-family:宋体;\">编译</span>osmocomBB---------------------</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">我编译了无数遍无数版本，包括master分支，Sylvain/burst_ind分支，sylvain/testing分支，还有另外一个老外存的老版本，需要打patch补丁的版本，最终还是用luca/gsmmap的版本成功，也不能说前面说的几个版本有问题，之前有很多问题，编译器，git等等一团乱麻，可能是我别的地方有出错。</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">另：Sylvain/burst_ind分支是网上说的比较多的带sniffer功能的分支，但是编译完无法刷固件，需要修改osmocom-bb/src/host/osmocon/osmocon.c，文件中添加定义</p>\n<div STYLE=\"background-color:rgb(238, 238, 238);font-size:13px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-bottom:4px;padding-top:4px;width:1177.57px;word-break:break-all;\"><span STYLE=\"color:rgb(0, 0, 255);\">#define</span><span>&nbsp;I_HAVE_A_CP210x</span></div>\n否则会出现&ldquo;Unable to set custom baudrate, please use appropriate cable&quot;，即使这里通过了我刷了还是不行。<div></div>\n<div></div>\nok，我们使用luca/gsmmap分支，<div></div>\n<div STYLE=\"background-color:rgb(238, 238, 238);font-size:13px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-bottom:4px;padding-top:4px;width:1177.57px;word-break:break-all;\"><em><span STYLE=\"font-size:10.6667px;\"><a HREF=\"https://gsmmap.org/\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\">GsmMap</a>项目使用osmocom</span><span STYLE=\"font-size:10.6667px;\">-</span><span STYLE=\"font-size:10.6667px;\">bb项目所支持的手机通过捕捉GSM数据，对应地理位置；然后用户上传后被分析，结果会被展示在项目主页上的地图上。<div></div>\n</span><span STYLE=\"font-size:10.6667px;\">该项目的主要目标是建立GSM网络的地理分布，然后分析&nbsp;伪造，拦截和跟踪的可能性，会在官网上披露GSM的安全性。<div></div>\n</span><span STYLE=\"font-size:10.6667px;\">官方提供一个自己的LiveCD，基于Debian，木有xWindow，参加项目的可以傻瓜化的使用并且抓包，用VirtualBOX或者VMware载入，开机后记得把osmocom</span><span STYLE=\"font-size:10.6667px;\">-</span><span STYLE=\"font-size:10.6667px;\">bb所用的C1</span><span STYLE=\"font-size:10.6667px;\">**</span><span STYLE=\"font-size:10.6667px;\">系列手机和数据线连到虚拟机，然后按照提示输入gsm即可开始。</span></em></div>\n<div></div>\n<div STYLE=\"background-color:rgb(238, 238, 238);font-size:13px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-bottom:4px;padding-top:4px;width:1177.57px;word-break:break-all;\"><span>sudo&nbsp;aptitude&nbsp;install&nbsp;libtool&nbsp;shtool&nbsp;autoconf&nbsp;git</span><span>-</span><span>core&nbsp;pkg</span><span>-</span><span>config&nbsp;make&nbsp;gcc<div></div>\ngit&nbsp;clone&nbsp;git:</span><span STYLE=\"color:rgb(0, 128, 0);\">//</span><span STYLE=\"color:rgb(0, 128, 0);\">git.osmocom.org/osmocom-bb.git</span><span STYLE=\"color:rgb(0, 128, 0);\"><div></div>\n</span><span>cd&nbsp;osmocom</span><span>-</span><span>bb<div></div>\ngit&nbsp;checkout&nbsp;</span><span>--</span><span>track&nbsp;origin</span><span>/</span><span>luca</span><span>/</span><span>gsmmap<div></div>\n<div></div>\n</span><span STYLE=\"color:rgb(0, 128, 0);\">//</span><span STYLE=\"color:rgb(0, 128, 0);\">git&nbsp;clone&nbsp;git:</span><span STYLE=\"color:rgb(0, 128, 0);\">//</span><span STYLE=\"color:rgb(0, 128, 0);\">git.osmocom.org/osmocom-bb.git<div></div>\n</span><span STYLE=\"color:rgb(0, 128, 0);\">//</span><span STYLE=\"color:rgb(0, 128, 0);\">cd&nbsp;osmocom-bb<div></div>\n</span><span STYLE=\"color:rgb(0, 128, 0);\">//</span><span STYLE=\"color:rgb(0, 128, 0);\">git&nbsp;pull&nbsp;&ndash;rebase</span></div>\n<div></div>\n<div>\n<div>默认编译出的版本发送信号相关的功能是被注释掉的，用mobile启动layer23后会一直于搜信号的过程中，因为无法发送信号。<div></div>\n如果需要进行实网测试需要打开src/target/firmware/Makefile文件中的编译开关</div>\n把osmocom-bb/src/target/firmwire/下的Makefile中的&nbsp;CONFIG_TX_ENABLE宏打开：</div>\n<div STYLE=\"background-color:rgb(238, 238, 238);font-size:13px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-bottom:4px;padding-top:4px;width:1177.57px;word-break:break-all;\"><span>#&nbsp;Uncomment&nbsp;</span><span STYLE=\"color:rgb(0, 0, 255);\">this</span><span>&nbsp;line&nbsp;</span><span STYLE=\"color:rgb(0, 0, 255);\">if</span><span>&nbsp;you&nbsp;want&nbsp;to&nbsp;enable&nbsp;Tx&nbsp;(Transmit)&nbsp;Support.<div></div>\n</span><span>-</span><span>#CFLAGS&nbsp;</span><span>+=-</span><span>DCONFIG_TX_ENABLE<div></div>\n</span><span>+</span><span>CFLAGS&nbsp;</span><span>+=-</span><span>DCONFIG_TX_ENABLE</span></div>\n然后到src目录下编译<div></div>\n<div STYLE=\"background-color:rgb(238, 238, 238);font-size:13px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-bottom:4px;padding-top:4px;width:1177.57px;word-break:break-all;\"><span>cd&nbsp;src<div></div>\nmake</span></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">&nbsp; <div></div>\n</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">-------------------------<span STYLE=\"font-family:宋体;\">运行</span>-------------------------------------------</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">编译一切OK后，进行刷手机操作，我的C118手机，固件都是在compal_e88目录下的bin文件，会有很多bin文件</p>\n<a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/4.png\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/d71c10a7fcf53e821b011047b77b025e.png\"  alt=\"\" hash=\"d71c10a7fcf53e821b011047b77b025e\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a><div></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">其中compalram为我们用来刷手机的，只会写入ram，重启手机就没了，highram是为了加载超过65535的大文件，比如rssi.highram.bin，e88flash和e88loader是用来真实刷入手机固件的，慎用，因为我还想平时打打电话呢。我之前就刷挂了，bootloader还在，还好我买了两个，把另外一个读出来重新写回去了。</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">&nbsp;&nbsp;&nbsp; layer1和src/host/layer23/src/mobile/mobile程序，实现了从layer1到layer3的功能，我们主要用layer1，rssi是用来测试信号的，不同的信道信号强度等等一些相关信息，需要配合chainload或loader刷入，这几个应用详细说明在这里：http://bb.osmocom.org/trac/wiki/Applications</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">连上硬件，使用lsusb和dmesg查看端口号，我都是ttyUSB0，c123和c118手机都用c123xor参数，CompalE88（C118/C120/C121/C123），CompalE99（C155）\n</p>\n<div STYLE=\"background-color:rgb(238, 238, 238);font-size:13px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-bottom:4px;padding-top:4px;width:1177.57px;word-break:break-all;\"><span>cd </span><span></span><span>host</span><span>/</span><span>osmocon</span><span>/</span><span><div></div>\nsudo .</span><span>/</span><span>osmocon&nbsp;</span><span>-</span><span>p&nbsp;</span><span>/</span><span>dev</span><span>/</span><span>ttyUSB0&nbsp;</span><span>-</span><span>m&nbsp;c123xor&nbsp;..</span><span>/</span><span>..</span><span>/</span><span>target</span><span>/</span><span>firmware</span><span>/</span><span>board</span><span>/</span><span>compal_e88</span><span>/</span><span>layer1.compalram.bin</span></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">然后在手机关机的状态下，点按开机键，不是长按，屏幕就会显示下载刷写固件并执行，如下图就说明成功了<div></div>\n<a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/1.png\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/d51b3c0cbe83d427d2b62473ca647168.png\"  alt=\"\" hash=\"d51b3c0cbe83d427d2b62473ca647168\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a><div></div>\n</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><div></div>\n</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">此时手机应该显示layer1的提示</p>\n<a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/hardware8.jpg\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/ba69d76cf2e61c297927231277bd2bcd.png\"  alt=\"\" hash=\"ba69d76cf2e61c297927231277bd2bcd\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a><div></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">&nbsp;</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><div></div>\n</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">新开一个命令行窗口，进行搜索基站信号，</p>\n<div STYLE=\"background-color:rgb(238, 238, 238);font-size:13px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-bottom:4px;padding-top:4px;width:1177.57px;word-break:break-all;\"><span>cd&nbsp;osmocom</span><span>-</span><span>bb</span><span>/</span><span>src</span><span>/</span><span>host</span><span>/</span><span>layer23</span><span>/</span><span>src</span><span>/</span><span>misc<div></div>\nsudo&nbsp;.</span><span>/</span><span>cell_log&nbsp;</span><span>-</span><span>O</span></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><span><span><span><a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/2.png\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/fe8bbc9a36117413040218dfac91e022.png\"  alt=\"\" hash=\"fe8bbc9a36117413040218dfac91e022\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a><div></div>\n</span></span></span></p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><span><span><span>关于ARFCN号，贴个表供参考</span></span></span></p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><span><span><span></span></span></span></p>\n<div>\n<table STYLE=\"border-collapse:collapse;line-height:14px;font-size:11px;border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;border-top-width:1px;border-top-style:solid;\">\n     <tbody>\n         <tr BGCOLOR=\"#FFFFC4\" STYLE=\"font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;font-size:12px;line-height:18px;background-color:rgb(255, 255, 196);\">\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\"><strong>频段</strong></td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\"><strong>名称</strong></td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\"><strong>信道号</strong></td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\"><strong>上行(MHz)</strong></td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\"><strong>下行(MHz)</strong></td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\"><strong>其他</strong></td>\n         </tr>\n         <tr BGCOLOR=\"#FFE1C4\" STYLE=\"font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;font-size:12px;line-height:18px;background-color:rgb(255, 225, 196);\">\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\"><strong>GSM 850</strong></td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">GSM 850</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">128 - 251</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">824,0 - 849,0</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">869,0 - 894,0</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\"><a TITLE=\"美国\" HREF=\"http://zh.wikipedia.org/wiki/%E7%BE%8E%E5%9B%BD\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\">美国</a>, <a TITLE=\"南美洲\" HREF=\"http://zh.wikipedia.org/wiki/%E5%8D%97%E7%BE%8E%E6%B4%B2\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\">南美洲</a>国家 和 <a TITLE=\"亚洲\" HREF=\"http://zh.wikipedia.org/wiki/%E4%BA%9A%E6%B4%B2\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\">亚洲</a>部分国家。</td>\n         </tr>\n         <tr BGCOLOR=\"#FFC4C4\" STYLE=\"font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;font-size:12px;line-height:18px;background-color:rgb(255, 196, 196);\">\n             <td ROWSPAN=\"3\" STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\"><strong>GSM 900</strong></td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">P-GSM 900</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">1-124</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">890,0 - 915,0</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">935,0 - 960,0</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">GSM最先实现的频段，也是使用最广的频段。</td>\n         </tr>\n         <tr BGCOLOR=\"#FFC4C4\" STYLE=\"font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;font-size:12px;line-height:18px;background-color:rgb(255, 196, 196);\">\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">E-GSM 900</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">975 - 1023</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">880,0 - 890,0</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">925,0 - 935,0</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">900M扩展频段</td>\n         </tr>\n         <tr BGCOLOR=\"#FFC4C4\" STYLE=\"font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;font-size:12px;line-height:18px;background-color:rgb(255, 196, 196);\">\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">R-GSM 900</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">n/a</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">876,0 - 880,0</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">921,0 - 925,0</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">铁路GSM（GSM-R），为铁路调度通信系统开发的特殊版本。</td>\n         </tr>\n         <tr BGCOLOR=\"#FFB0C4\" STYLE=\"font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;font-size:12px;line-height:18px;background-color:rgb(255, 176, 196);\">\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\"><strong>GSM1800</strong></td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">GSM 1800</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">512 - 885</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">1710,0 - 1785,0</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">1805,0 - 1880,0</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">适用于对信道容量需求大的市场，应用范围仅次于900M。</td>\n         </tr>\n         <tr BGCOLOR=\"#FFA0C4\" STYLE=\"font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;font-size:12px;line-height:18px;background-color:rgb(255, 160, 196);\">\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\"><strong>GSM1900</strong></td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">GSM 1900</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">512 - 810</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">1850,0 - 1910,0</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">1930,0 - 1990,0</td>\n             <td STYLE=\"border-top-color:rgb(163, 182, 124);border-bottom-color:rgb(163, 182, 124);font-size:12px;color:rgb(48, 48, 48);font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;word-break:break-all;line-height:18px;border-bottom-width:1px;border-bottom-style:solid;\">主要用于美洲国家，由于有频率重叠，与1800M系统不兼容。</td>\n         </tr>\n     </tbody>\n</table>\n</div>\n<div></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">&nbsp;</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><span><span><span>然后使用ccch_scan进行抓包，-a参数为指定ARFCN号，我们用上图中信号比较强的30</span></span></span></p>\n<div STYLE=\"background-color:rgb(238, 238, 238);font-size:13px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-bottom:4px;padding-top:4px;width:1177.57px;word-break:break-all;\"><span>sudo&nbsp;.</span><span>/</span><span>ccch_scan&nbsp;</span><span>-</span><span>i&nbsp;</span><span>127.0</span><span>.</span><span>0.1</span><span>&nbsp;</span><span>-</span><span>a&nbsp;</span><span>30</span></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><span><span><span></span></span></span></p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/3.png\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/3cfe34f9f16723e247323b84536fcffe.png\"  alt=\"\" hash=\"3cfe34f9f16723e247323b84536fcffe\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a></p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><div></div>\n<span><span><span></span></span></span></p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><span><span><span></span></span></span>layer23使用src/host/layer23/src/mobile下的mobile程序实现，如果只是抓包数据，下列命令不需要执行<div></div>\n</p>\n<div STYLE=\"background-color:rgb(238, 238, 238);font-size:13px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-bottom:4px;padding-top:4px;width:1177.57px;word-break:break-all;\"><span>cd&nbsp;src</span><span>/</span><span>host</span><span>/</span><span>layer23</span><span>/</span><span>src</span><span>/</span><span>mobile<div></div>\nsudo .</span><span>/</span><span>mobile&nbsp;</span><span>-</span><span>i&nbsp;</span><span>127.0</span><span>.</span><span>0.1</span></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">执行了mobile程序之后，本机会开启4247端口，可以使用telnet进行访问，然后配置执行，命令及参数执行方式跟交换机类似</p>\n<div STYLE=\"background-color:rgb(238, 238, 238);font-size:13px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-bottom:4px;padding-top:4px;width:1177.57px;word-break:break-all;\"><span>telnet&nbsp;localhost&nbsp;</span><span>4247</span></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/5.png\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/2333ed08f0ec5dfdd81629d18ba0b3e3.png\"  alt=\"\" hash=\"2333ed08f0ec5dfdd81629d18ba0b3e3\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a><div></div>\n</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><div></div>\n</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">使用wireshark进行抓包分析还是比较方便的</p>\n<div STYLE=\"background-color:rgb(238, 238, 238);font-size:13px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-bottom:4px;padding-top:4px;width:1177.57px;word-break:break-all;\"><span>sudo&nbsp;wireshark&nbsp;</span><span>-</span><span>k&nbsp;</span><span>-</span><span>i&nbsp;lo&nbsp;</span><span>-</span><span>f&nbsp;</span><span>&apos;</span><span>port&nbsp;4729</span><span>&apos;</span></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">&nbsp;uplink的比较少，不知道是不是因为改机把信号改弱了</p>\n<a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/res1.jpg\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/f2d639f648fcb07df38ed2bebd4393b5.png\"  alt=\"\" hash=\"f2d639f648fcb07df38ed2bebd4393b5\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a><div></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">有个uplink，估计就在我旁边发的<div></div>\n</p>\n<a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/res2.jpg\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/d336118cb26294c00969e14e9d15a516.png\"  alt=\"\" hash=\"d336118cb26294c00969e14e9d15a516\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a><div></div>\n<a TITLE=\"\" REL=\"lightbox[roadtrip]\" HREF=\"http://www.blogjava.net/images/blogjava_net/baicker/osmocombb/res3.jpg\" STYLE=\"color:rgb(0, 0, 0);text-decoration-color:rgb(0, 0, 0);text-decoration-line:none;font-size:12px;font-family:&quot;微软雅黑,Arial,Verdana,arial,serif,宋体&quot;;\"><img src=\"../_resources/d399ac15a7e620ee5a59bacae94baf25.png\"  alt=\"\" hash=\"d399ac15a7e620ee5a59bacae94baf25\" type=\"image/png\" style=\"border-top-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);height:300px;\" /></en-media></a><div></div>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><div></div>\n</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">附：</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">&nbsp;&nbsp;&nbsp; iphone工程模式：拨号界面 <strong STYLE=\"color:rgb(153, 51, 0);\">*3001#12345#*</strong> 按呼叫键，可查到当前连接的ARFCN号</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\">&nbsp;&nbsp;&nbsp; 我的三星三儿子：拨号界面 <strong><span STYLE=\"color:rgb(153, 51, 0);\">*#*#4636#*#*</span></strong> ，没有ARFCN，只有cell_id<strong><span STYLE=\"color:rgb(153, 51, 0);\"></span></strong>，不用找了，这个手机的android下没有显示arfcn的工具。<div></div>\n</p>\n<p STYLE=\"margin-block-start:;margin-block-end:;\"><div></div></p>\n<div></div>\nthanks to OsmoCarpenteR, a guy in the IRC\n&Tab;&Tab;</div></div></en-note>      ",
      "content_path": null,
      "diff_base_variant_id": null,
      "metadata": {
        "checksum": "798cd002655cf4e4b04189888ce6a83cc054e4331e2cec38190aeeaa2a723f08",
        "path": "backups/2023年6月/IT技术/OsmocomBB项目 - 酒水不犯茶水 - BlogJava.html"
      }
    },
    {
      "id": "5ccd2664-0d13-4d0d-97b6-323bdd547c4e",
      "note_id": "bfa00b8b-55e7-41a5-a23e-3a98cf5f00cb",
      "variant_type": "clean_text",
      "version": 1,
      "created_by": "evernote_ingest:v0",
      "created_at": "2025-11-10T15:43:31.132702Z",
      "content": "---\ntitle: OsmocomBB项目 - 酒水不犯茶水 - BlogJava\nupdated: 2016-04-03 10:07:03Z\ncreated: 2016-04-03 10:07:03Z\nsource: http://www.blogjava.net/baicker/archive/2013/11/13/406293.html\n---\n\n      之前看过好多大牛玩osmocomBB项目，改个手机，连电脑，然后编译一堆东西，到最后都是开个console，满屏红红绿绿的文字滚动，看着很吊。\n\n但都不说最终能干啥，滚屏完了就没了，大牛都太低调了，最近有朋友也在搞这个，了解了一下，以下描述都是我最近查阅的大量鸟文资料及少量中文资料之后的理解，如有误望指出。\n\n    OsmocomBB是国外一个开源项目，是GSM协议栈(Protocols stack)的开源实现，全称是Open source mobile communication Baseband.目的是要实现手机端从物理层(layer1)到layer3的三层实现。\n\n    这里记录一下过程，以便备忘和其它有需要的童鞋少走弯路。\n\n相关链接：\n\nhttps://github.com/osmocom/osmocom-bb\n\nhttp://bb.osmocom.org/trac/wiki/TitleIndex\n\n硬件部分\n\n支持的手机\n\nMotorolaC123\n/C121/C118 (E88) -- our primary target\n\nMotorolaC140\n/C139 (E86)\n\nMotorolaC155\n (E99) -- our secondary target\n\nMotorolaV171\n (E68/E69)\n\nSonyEricssonJ100i\n\nPirelli DP-L10\n\nNeo 1973 (GTA01)\n\nOpenMoko\n - Neo Freerunner (GTA02)\n\nSciphoneDreamG2\n (\nMT6235\n based)\n\n手机硬件修改\n\n    国内比较多的是C118，需要换两个balun，不知道怎么翻译，好像是接收数据过滤用的，不过手艺不好的就算了，不换也可以用，只是没有uplink的数据，只能抓到基站广播的数据。\n\n官方的教程\nhttp://bb.osmocom.org/trac/wiki/Hardware/FilterReplacement\n\n以下贴几个我改的图，有热风枪应该好改一些，反正没有好的工具的话我这辈子是不会再改这个了。\n\n一打开盖子就看到两个大铁壳，傻眼了\n\n还好我有小电机把上面那个屏蔽层磨掉了\n\n这么小真是下不去手啊，有热风枪会好办一点，再来几个改机的图\n\n以下刷的rssi固件，如果没改硬件，uplink信号没有的，图中是downlink，uplink的图没截\n\n刷机线\n\n    自己买根T191线或者把带的耳机线改改（下图的红白颜色说的是手机自带的耳机线，别的耳机线可能颜色不同）\n\n下图参考\n\n软件部分\n\n大家也可以上官网查看手册及相关刷机、编译步骤：\n\nhttp://bb.osmocom.org/trac/wiki/GettingStarted\n\n    不过我按照官网的步骤编译的时候卡在开始下载\n交叉编译环境\n上了，由于时间太久了，文中那个链接已经失效，使用这里的地址：http://bb.osmocom.org/trac/wiki/GnuArmToolchain\n\n下面是完整步骤，我的Ubuntu 12.10 内核3.5.0-17 x86_64编译测试通过，干净的系统按照我下面的步骤一般都不会有什么问题：\n\n-------------------------\n准备交叉编译环境\n--------------------------\n\ncd \n~\n\nmkdir osmcombb\n\ncd osmcombb\n\nwget http:\n//\nbb.osmocom.org/trac/raw-attachment/wiki/GnuArmToolchain/gnu-arm-build.2.sh\n\nchmod \n+\nx gnu\n-\narm\n-\nbuild.\n2\n.sh\n\nsudo apt\n-\nget install build\n-\nessential libgmp3\n-\ndev libmpfr\n-\ndev libx11\n-\n6\n libx11\n-\ndev texinfo flex bison libncurses5 libncurses5\n-\ndbg libncurses5\n-\ndev libncursesw5 libncursesw5\n-\ndbg libncursesw5\n-\ndev zlibc zlib1g\n-\ndev libmpfr4 libmpc\n-\ndev\n\nmkdir build install src\n\ncd src\n/\n\nwget http:\n//\nftp.gnu.org/gnu/gcc/gcc-4.5.2/gcc-4.5.2.tar.bz2\n\nwget http:\n//\nftp.gnu.org/gnu/binutils/binutils-2.21.1a.tar.bz2\n\nwget ftp:\n//\nsources.redhat.com/pub/newlib/newlib-1.19.0.tar.gz\n\ncd ..\n\n.\n/\ngnu\n-\narm\n-\nbuild.\n2\n.sh\n\nexport PATH\n=\n$PATH:\n<\nYOURPATH\n>\n/\ninstall\n/\nbin\n\n--------------------------\n准备\nlibosmocore----------------------\n\ngit clone git:\n//\ngit.osmocom.org/libosmocore.git\n\ncd libosmocore\n/\n\nautoreconf \n-\ni\n\n.\n/\nconfigure\n\nmake\n\nsudo make install\n\ncd ..\n\nsudo ldconfig\n\n---------------------------\n编译\nosmocomBB---------------------\n\n我编译了无数遍无数版本，包括master分支，Sylvain/burst_ind分支，sylvain/testing分支，还有另外一个老外存的老版本，需要打patch补丁的版本，最终还是用luca/gsmmap的版本成功，也不能说前面说的几个版本有问题，之前有很多问题，编译器，git等等一团乱麻，可能是我别的地方有出错。\n\n另：Sylvain/burst_ind分支是网上说的比较多的带sniffer功能的分支，但是编译完无法刷固件，需要修改osmocom-bb/src/host/osmocon/osmocon.c，文件中添加定义\n\n I_HAVE_A_CP210x\n\n否则会出现“Unable to set custom baudrate, please use appropriate cable\"，即使这里通过了我刷了还是不行。\n\nok，我们使用luca/gsmmap分支，\n\nGsmMap\n项目使用osmocom\n-\nbb项目所支持的手机通过捕捉GSM数据，对应地理位置；然后用户上传后被分析，结果会被展示在项目主页上的地图上。\n\n该项目的主要目标是建立GSM网络的地理分布，然后分析 伪造，拦截和跟踪的可能性，会在官网上披露GSM的安全性。\n\n官方提供一个自己的LiveCD，基于Debian，木有xWindow，参加项目的可以傻瓜化的使用并且抓包，用VirtualBOX或者VMware载入，开机后记得把osmocom\n-\nbb所用的C1\n**\n系列手机和数据线连到虚拟机，然后按照提示输入gsm即可开始。\n\nsudo aptitude install libtool shtool autoconf git\n-\ncore pkg\n-\nconfig make gcc\n\ngit clone git:\n//\ngit.osmocom.org/osmocom-bb.git\n\ncd osmocom\n-\nbb\n\ngit checkout \n--\ntrack origin\n/\nluca\n/\ngsmmap\n\n//\ngit clone git:\n//\ngit.osmocom.org/osmocom-bb.git\n\n//\ncd osmocom-bb\n\n//\ngit pull –rebase\n\n默认编译出的版本发送信号相关的功能是被注释掉的，用mobile启动layer23后会一直于搜信号的过程中，因为无法发送信号。\n\n如果需要进行实网测试需要打开src/target/firmware/Makefile文件中的编译开关\n\n把osmocom-bb/src/target/firmwire/下的Makefile中的 CONFIG_TX_ENABLE宏打开：\n\n# Uncomment \nthis\n line \nif\n you want to enable Tx (Transmit) Support.\n\n-\n#CFLAGS \n+=-\nDCONFIG_TX_ENABLE\n\n+\nCFLAGS \n+=-\nDCONFIG_TX_ENABLE\n\n然后到src目录下编译\n\ncd src\n\nmake\n\n-------------------------\n运行\n-------------------------------------------\n\n编译一切OK后，进行刷手机操作，我的C118手机，固件都是在compal_e88目录下的bin文件，会有很多bin文件\n\n其中compalram为我们用来刷手机的，只会写入ram，重启手机就没了，highram是为了加载超过65535的大文件，比如rssi.highram.bin，e88flash和e88loader是用来真实刷入手机固件的，慎用，因为我还想平时打打电话呢。我之前就刷挂了，bootloader还在，还好我买了两个，把另外一个读出来重新写回去了。\n\n    layer1和src/host/layer23/src/mobile/mobile程序，实现了从layer1到layer3的功能，我们主要用layer1，rssi是用来测试信号的，不同的信道信号强度等等一些相关信息，需要配合chainload或loader刷入，这几个应用详细说明在这里：http://bb.osmocom.org/trac/wiki/Applications\n\n连上硬件，使用lsusb和dmesg查看端口号，我都是ttyUSB0，c123和c118手机都用c123xor参数，CompalE88（C118/C120/C121/C123），CompalE99（C155）\n\ncd\nhost\n/\nosmocon\n/\n\nsudo .\n/\nosmocon \n-\np \n/\ndev\n/\nttyUSB0 \n-\nm c123xor ..\n/\n..\n/\ntarget\n/\nfirmware\n/\nboard\n/\ncompal_e88\n/\nlayer1.compalram.bin\n\n然后在手机关机的状态下，点按开机键，不是长按，屏幕就会显示下载刷写固件并执行，如下图就说明成功了\n\n此时手机应该显示layer1的提示\n\n新开一个命令行窗口，进行搜索基站信号，\n\ncd osmocom\n-\nbb\n/\nsrc\n/\nhost\n/\nlayer23\n/\nsrc\n/\nmisc\n\nsudo .\n/\ncell_log \n-\nO\n\n关于ARFCN号，贴个表供参考\n\n频段\n\n名称\n\n信道号\n\n上行(MHz)\n\n下行(MHz)\n\n其他\n\nGSM 850\n\nGSM 850\n\n128 - 251\n\n824,0 - 849,0\n\n869,0 - 894,0\n\n美国\n,\n南美洲\n国家 和\n亚洲\n部分国家。\n\nGSM 900\n\nP-GSM 900\n\n1-124\n\n890,0 - 915,0\n\n935,0 - 960,0\n\nGSM最先实现的频段，也是使用最广的频段。\n\nE-GSM 900\n\n975 - 1023\n\n880,0 - 890,0\n\n925,0 - 935,0\n\n900M扩展频段\n\nR-GSM 900\n\nn/a\n\n876,0 - 880,0\n\n921,0 - 925,0\n\n铁路GSM（GSM-R），为铁路调度通信系统开发的特殊版本。\n\nGSM1800\n\nGSM 1800\n\n512 - 885\n\n1710,0 - 1785,0\n\n1805,0 - 1880,0\n\n适用于对信道容量需求大的市场，应用范围仅次于900M。\n\nGSM1900\n\nGSM 1900\n\n512 - 810\n\n1850,0 - 1910,0\n\n1930,0 - 1990,0\n\n主要用于美洲国家，由于有频率重叠，与1800M系统不兼容。\n\n然后使用ccch_scan进行抓包，-a参数为指定ARFCN号，我们用上图中信号比较强的30\n\nsudo .\n/\nccch_scan \n-\ni \n127.0\n.\n0.1\n \n-\na \n30\n\nlayer23使用src/host/layer23/src/mobile下的mobile程序实现，如果只是抓包数据，下列命令不需要执行\n\ncd src\n/\nhost\n/\nlayer23\n/\nsrc\n/\nmobile\n\nsudo .\n/\nmobile \n-\ni \n127.0\n.\n0.1\n\n执行了mobile程序之后，本机会开启4247端口，可以使用telnet进行访问，然后配置执行，命令及参数执行方式跟交换机类似\n\ntelnet localhost \n4247\n\n使用wireshark进行抓包分析还是比较方便的\n\nsudo wireshark \n-\nk \n-\ni lo \n-\nf \n'\nport 4729\n'\n\n uplink的比较少，不知道是不是因为改机把信号改弱了\n\n有个uplink，估计就在我旁边发的\n\n附：\n\n    iphone工程模式：拨号界面\n*3001#12345#*\n 按呼叫键，可查到当前连接的ARFCN号\n\n    我的三星三儿子：拨号界面\n*#*#4636#*#*\n ，没有ARFCN，只有cell_id\n，不用找了，这个手机的android下没有显示arfcn的工具。\n\nthanks to OsmoCarpenteR, a guy in the IRC",
      "content_path": null,
      "diff_base_variant_id": null,
      "metadata": {
        "language": "en",
        "length": 6027,
        "rule_count": 3,
        "applied_rules": [
          {
            "rule_id": "social_handles",
            "description": "Drop standalone social handles and hashtags",
            "note": "removed social handle only lines"
          },
          {
            "rule_id": "dedupe_lines",
            "description": "Collapse adjacent duplicate lines",
            "note": "collapsed duplicate adjacent lines"
          },
          {
            "rule_id": "whitespace",
            "description": "Normalize whitespace",
            "note": "collapsed whitespace"
          }
        ]
      }
    }
  ],
  "extractions": [],
  "journal": {
    "id": "3e1813df-707d-4fdd-82ee-50600f8bca84",
    "note_id": "bfa00b8b-55e7-41a5-a23e-3a98cf5f00cb",
    "stage": "ingest",
    "agent_id": "evernote_ingest:v0",
    "started_at": "2025-11-10T15:43:31.132709Z",
    "finished_at": "2025-11-10T15:43:31.132709Z",
    "status": "success",
    "input_ref": {
      "task_id": "c71a456b-5b88-4ecc-9b67-d2287e99ded9",
      "source_path": "backups/2023年6月/IT技术/OsmocomBB项目 - 酒水不犯茶水 - BlogJava.html",
      "checksum": "798cd002655cf4e4b04189888ce6a83cc054e4331e2cec38190aeeaa2a723f08"
    },
    "output_ref": {
      "ingest_source": "46965c11-ae0b-4b10-8d19-e2a7a7a3804e",
      "note": "bfa00b8b-55e7-41a5-a23e-3a98cf5f00cb",
      "variants": [
        "e252f519-b845-44d1-85e6-fad4a065752c",
        "5ccd2664-0d13-4d0d-97b6-323bdd547c4e"
      ]
    },
    "error_detail": null
  }
}