---
title: 使用 DOCKER 容器安装 ODOO
updated: 2019-04-29 19:31:25Z
created: 2019-04-29 19:31:04Z
author: tangyongfeng@gmail.com
---

Docker是一个便捷运行应用的跨平台解决方案，可在 MacOS, Linux 和 Windows 上使用。与传统的虚拟机相比，容器技术使用更为简单、资源利用率更高。首先需要在操作系统中安装 Docker，可从
Docker官网
上下载免费使用的Docker CE（社区版），最新安装方法可在 Docker官网上查看。

应该注意虚拟化要求在 BIOS配置中进行开启，并且 Windows 版本的 Docker CE 需要有 Hyper-V，它仅在 Windows 10 企业版或教育版才会带有(
Windows 系统要求
)，而 Mac系统需要为 OS X El Capitan 10.11或更新版本。对于其它的 Windows 和 MacOS 版本，应安装 
Docker Toolbox
，Docker Toolbox打包了 VirtualBox 并提供了预设置的 shell，用于作为操作 Docker 容器的命令行环境。

在 
Odoo 商店
中包含 Odoo 镜像，在那里找到对应版本，按照提示进行安装。要使用 Docker运行 Odoo，我们需要两个容器，一个运行 PostgreSQL 数据库，一个运行 Odoo 服务。

安装通过命令行窗口完成，安装 PostgreSQL 容器

docker
 run -d -e POSTGRES_USER=odoo -e POSTGRES_PASSWORD=odoo -e POSTGRES_DB=postgres --name db postgres:
10
此时便会从互联网上下载最新的 PostgreSQL 镜像，并在后台开启一个容器来进行运行。

接下来安装 Odoo 服务容器，并且连接刚刚启动的 PostgreSQL 容器，暴露8069端口：

docker

run

-p
 8069
:8069

--name

odoo

--link

db
:db

-t

odoo
此时便可在终端窗口看到实时的 Odoo 服务器日志，在浏览器中输入
http://localhost:8069
即可打开 Odoo 实例。

**小贴士：**如果8069端口被占用了，则Odoo 服务启动会失败。此时我们需要停止占用端口的服务或者使用-p 参数指定其它端口来运行 Odoo，如修改为8070端口(-p 8070:8069)。此时可能还需要通过-d 参数修改实例所需使用的数据库名称。

以下Docker 的基本指令会有助于管理容器（更多 Docker 知识请参见
CI/CD之Docker容器DevOps学习笔记及常见问题
）：

docker stop 停止指定容器
docker start  启动指定容器
docker start -a  启动容器并附带输出，如命令终端中输出的服务器日志
docker attach  重新添加容器输出至当前终端窗口
docker ps 列出当前 Docker 容器
以上就是操作 Docker 容器的基本命令，万一在运行容器时出现问题，可以执行如何命令(可省略 container)重新来过：

docker container
stop
 db
docker
container
 rm db
docker
container

stop
 odoo
docker
container
 rm odoo
Docker 技术的应用非常广泛，更多知识可参见 
Docker 官方文档
。