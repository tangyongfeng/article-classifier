---
title: 树莓派3 音频配置及其应用场景（录音、VoIP 电话等） | StarryLand
updated: 2019-05-31 23:40:34Z
created: 2019-05-31 23:40:34Z
source: >-
  https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/
---



<en-note>
<div STYLE="-webkit-text-size-adjust: 100%; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; line-height: 2; color: rgb(85, 85, 85); background-color: rgb(255, 255, 255); padding-right: 0px !important;" LANG="zh-CN">

  
  
    
  

  <div STYLE="position: relative; min-height: 100%;">
    <div STYLE="height: 3px; background-color: rgb(34, 34, 34); background-position: initial initial; background-repeat: initial initial;"></div>

    <div STYLE="display: block; background-color: transparent; background-position: initial initial; background-repeat: initial initial;">
      <div STYLE="margin: 0px auto; padding: 100px 0px 70px; width: 700px; position: relative; width: auto;"> <div>
  <div STYLE="margin: 0px; text-align: center; text-align: center;">
    

    <div>
      <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; position: relative; display: inline-block; padding: 0px 40px; color: rgb(255, 255, 255); background-color: rgb(34, 34, 34); border-bottom-style: none; background-position: initial initial; background-repeat: initial initial; opacity: 0; opacity: 1;" REL="start" HREF="https://rollingstarky.github.io/">
        <span><i></i></span>
        <span STYLE="display: inline-block; vertical-align: top; line-height: 36px; font-size: 20px; font-weight: normal; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; opacity: 0; position: relative; top: -10px; opacity: 1; top: 0px;">StarryLand</span>
        <span><i></i></span>
      </a>
    </div>
      
        <p STYLE="margin: 10px 0px 20px; font-size: 13px; color: rgb(153, 153, 153); position: relative; opacity: 1; top: 0px;">我的全部道路，就是从孤独走向人间</p>
      
  </div>

  <div STYLE="display: none; position: absolute; top: 10px; left: 10px; display: block;">
    <span STYLE="color: inherit; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; margin: 2px 0px 0px; overflow: visible; text-transform: none; -webkit-appearance: button; cursor: pointer; padding: 9px 10px; background-color: transparent; border: none;">
      <span STYLE="display: block; width: 22px; height: 2px; background-color: rgb(85, 85, 85); border-top-left-radius: 1px; border-top-right-radius: 1px; border-bottom-right-radius: 1px; border-bottom-left-radius: 1px; background-position: initial initial; background-repeat: initial initial;"></span>
      <span STYLE="display: block; width: 22px; height: 2px; background-color: rgb(85, 85, 85); border-top-left-radius: 1px; border-top-right-radius: 1px; border-bottom-right-radius: 1px; border-bottom-left-radius: 1px; background-position: initial initial; background-repeat: initial initial; margin-top: 4px;"></span>
      <span STYLE="display: block; width: 22px; height: 2px; background-color: rgb(85, 85, 85); border-top-left-radius: 1px; border-top-right-radius: 1px; border-bottom-right-radius: 1px; border-bottom-left-radius: 1px; background-position: initial initial; background-repeat: initial initial; margin-top: 4px;"></span>
    </span>
  </div>
</div>

<div STYLE="display: block; display: none; margin: 0px -10px; padding: 0px 10px; clear: both; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); position: absolute; left: 0px; top: 52px; margin: 0px; width: 100%; padding: 0px; background-color: rgb(255, 255, 255); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(221, 221, 221); z-index: 1030; background-position: initial initial; background-repeat: initial initial;">
  

  
    <ul STYLE="margin-top: 20px; padding-left: 0px; text-align: center; text-align: left;">
      
        
        <li STYLE="display: inline-block; margin: 0px 10px; list-style: none; margin-top: 10px; opacity: 0; display: block; margin: 0px 10px; vertical-align: top; opacity: 1; transform: translateY(0px);">
          <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; display: block; font-size: 13px; line-height: inherit; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: transparent; transition: border-color 0.2s ease-in-out 0s; padding: 5px 10px; border-bottom-color: rgb(255, 255, 255) !important;" REL="section" HREF="https://rollingstarky.github.io/">
            <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; width: 1.28571429em; text-align: center; font-family: FontAwesome !important; margin-right: 5px; margin-right: 0px;"><span></span></i> <br STYLE="display: none;"/>首页</a>
        </li>
      
        
        <li STYLE="display: inline-block; margin: 0px 10px; list-style: none; margin-top: 10px; opacity: 0; display: block; margin: 0px 10px; vertical-align: top; opacity: 1; transform: translateY(0px);">
          <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; display: block; font-size: 13px; line-height: inherit; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: transparent; transition: border-color 0.2s ease-in-out 0s; padding: 5px 10px; border-bottom-color: rgb(255, 255, 255) !important;" REL="section" HREF="https://rollingstarky.github.io/tags/">
            <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; width: 1.28571429em; text-align: center; font-family: FontAwesome !important; margin-right: 5px; margin-right: 0px;"><span></span></i> <br STYLE="display: none;"/>标签</a>
        </li>
      
        
        <li STYLE="display: inline-block; margin: 0px 10px; list-style: none; margin-top: 10px; opacity: 0; display: block; margin: 0px 10px; vertical-align: top; opacity: 1; transform: translateY(0px);">
          <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; display: block; font-size: 13px; line-height: inherit; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: transparent; transition: border-color 0.2s ease-in-out 0s; padding: 5px 10px; border-bottom-color: rgb(255, 255, 255) !important;" REL="section" HREF="https://rollingstarky.github.io/categories/">
            <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; width: 1.28571429em; text-align: center; font-family: FontAwesome !important; margin-right: 5px; margin-right: 0px;"><span></span></i> <br STYLE="display: none;"/>分类</a>
        </li>
      
        
        <li STYLE="display: inline-block; margin: 0px 10px; list-style: none; margin-top: 10px; opacity: 0; display: block; margin: 0px 10px; vertical-align: top; opacity: 1; transform: translateY(0px);">
          <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; display: block; font-size: 13px; line-height: inherit; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: transparent; transition: border-color 0.2s ease-in-out 0s; padding: 5px 10px; border-bottom-color: rgb(255, 255, 255) !important;" REL="section" HREF="https://rollingstarky.github.io/archives/">
            <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; width: 1.28571429em; text-align: center; font-family: FontAwesome !important; margin-right: 5px; margin-right: 0px;"><span></span></i> <br STYLE="display: none;"/>归档</a>
        </li>
      

      
        <li STYLE="display: inline-block; margin: 0px 10px; list-style: none; margin-top: 10px; opacity: 0; display: block; margin: 0px 10px; vertical-align: top; opacity: 1; transform: translateY(0px);">
          
            <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; display: block; font-size: 13px; line-height: inherit; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: transparent; transition: border-color 0.2s ease-in-out 0s; padding: 5px 10px; border-bottom-color: rgb(255, 255, 255) !important;">
          
            
              <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; width: 1.28571429em; text-align: center; font-family: FontAwesome !important; margin-right: 5px; margin-right: 0px;"><span></span></i> <br STYLE="display: none;"/>搜索</a>
        </li>
      
    </ul>
  

  
    <div>
      
  <div STYLE="display: none; position: absolute; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); z-index: 9999; padding: 0px; top: 0px; left: 0px; margin: 0px; width: 100%; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;">
  <div STYLE="padding: 5px; height: 36px; background-color: rgb(245, 245, 245); border-top-left-radius: 5px; border-top-right-radius: 5px; background-position: initial initial; background-repeat: initial initial;"><span STYLE="content: &quot; &quot;; display: table;"></span>
    <span STYLE="display: inline-block; font-size: 18px; color: rgb(153, 153, 153); height: 36px; width: 18px; padding-left: 10px; padding-right: 10px; float: left;">
      <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; font-family: FontAwesome !important;"><span></span></i>
    </span>
    <span STYLE="display: inline-block; font-size: 18px; color: rgb(153, 153, 153); height: 36px; width: 18px; padding-left: 10px; padding-right: 10px; border-left-width: 1px; border-left-style: solid; border-left-color: rgb(238, 238, 238); float: right; cursor: pointer;">
      <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; font-family: FontAwesome !important;"><span></span></i>
    </span>
    <div STYLE="display: inline-block; width: calc(100% - 90px); height: 36px; line-height: 36px; padding: 0px 5px;">
      
    </div>
  <span STYLE="content: &quot; &quot;; display: table; clear: both;"></span></div>
  <div STYLE="overflow: auto; position: relative; padding: 5px 25px;"></div>
</div>



    </div>
  
</div>


  



 </div>
    </div>

    


    <div STYLE="display: block; padding-bottom: 150px;">
      <div STYLE="margin: 0px auto; width: 700px; width: auto;">
        <div>
          <div>
            

  <div STYLE="padding-top: 40px; margin: 0px 20px;">
    

  

  
  
  

  

  <div STYLE="display: block;">
  
  
  
  <div STYLE="opacity: 0; opacity: 0.9991832894145832; display: block; transform: translate3d(0px, 0px, 0px);">
    

    <span STYLE="display: none;">
      
      
      
    </span>

    <span STYLE="display: none;">
      
    </span>

    
      <div STYLE="display: block; opacity: 0; opacity: 0.949624169659677; display: block; transform: translateY(-1.0075166068064618px) translate3d(0px, 0px, 0px) translateZ(0px);">

        
        
          <h1 STYLE="font-size: 2em; margin: 0.67em 0px; margin: 0px; padding: 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 22px; font-size: 18px; text-align: center; word-break: break-word; font-weight: 400;">树莓派3 音频配置及其应用场景（录音、VoIP 电话等）</h1>
        

        <div STYLE="margin: 3px 0px 60px; color: rgb(153, 153, 153); font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 12px; text-align: center;">
          <span>
            
              <span STYLE="margin-right: 3px; display: inline-block;">
                <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; font-family: FontAwesome !important;"><span></span></i>
              </span>
              
                <span STYLE="display: none;">发表于</span>
              
              <div TITLE="创建于">2019-01-06</div>
            

            
            

            
          </span>

          
            <span>
            
              <span STYLE="margin: 0px 0.5em;">|</span>
            
              <span STYLE="margin-right: 3px; display: inline-block;">
                <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; font-family: FontAwesome !important;"><span></span></i>
              </span>
              
                <span STYLE="display: none;">分类于</span>
              
              
                <span><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" REL="index" HREF="https://rollingstarky.github.io/categories/IoT/"><span>IoT</span></a></span>

                
                
              
            </span>
          

          
            
              <span STYLE="display: none;">
                <span STYLE="margin: 0px 0.5em;">|</span>
                <span STYLE="margin-right: 3px; display: inline-block;">
                  <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; font-family: FontAwesome !important;"><span></span></i>
                </span>
                <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#comments">
                  <span STYLE="display: none;">0</span>
                </a>
              </span>
            
          

          
          
             <span>
               <span STYLE="margin: 0px 0.5em;">|</span>
               <span STYLE="margin-right: 3px; display: inline-block;">
                 <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; font-family: FontAwesome !important;"><span></span></i>
               </span>
               
                 <span STYLE="display: none;">阅读次数:</span>
               
                 <span></span>
             </span>
          

          

          
            <div>
              

              
                <span STYLE="margin-right: 3px; display: inline-block;">
                  <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; font-family: FontAwesome !important;"><span></span></i>
                </span>
                
                  <span STYLE="display: none;">字数统计:</span>
                
                <span TITLE="字数统计">8.3k</span>
              

              
                <span STYLE="margin: 0px 0.5em;">|</span>
              

              
                <span STYLE="margin-right: 3px; display: inline-block;">
                  <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; font-family: FontAwesome !important;"><span></span></i>
                </span>
                
                  <span STYLE="display: none;">阅读时长 &ap;</span>
                
                <span TITLE="阅读时长">0:08</span>
              
            </div>
          

          

        </div>
      </div>
    

    
    
    
    <div STYLE="font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; word-break: break-word; opacity: 0; opacity: 0.949624169659677; display: block; transform: translateY(-1.0075166068064618px) translate3d(0px, 0px, 0px) translateZ(0px);">

      
      

      
        <blockquote STYLE="margin: 0px; padding: 0px; padding: 0px 15px; color: rgb(102, 102, 102); border-left-width: 4px; border-left-style: solid; border-left-color: rgb(221, 221, 221);">
<p STYLE="margin: 0px 0px 20px;">从网上看到一本关于树莓派的电子书 <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" REL="noopener" TARGET="_blank" HREF="https://www.amazon.com/dp/1786463547/ref=cm_sw_r_tw_dp_U_x_0ZjjCb6E0XBD8">Raspberry Pi for Secret Agents</a>，利用树莓派打造&ldquo;特工装备&rdquo;。<br/>其中有一章讲到音频设备的配置和几个相关的应用场景（比如<strong STYLE="font-weight: bold;">录音</strong>、<strong STYLE="font-weight: bold;">监听</strong>、搭建<strong STYLE="font-weight: bold;">电话系统</strong>等），感觉比较有意思。</p>
</blockquote>
<h4 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 12px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#%E4%B8%80%E3%80%81%E9%9F%B3%E9%A2%91%E7%B3%BB%E7%BB%9F%E7%AE%80%E5%8D%95%E9%85%8D%E7%BD%AE" TITLE="一、音频系统简单配置"></a>一、音频系统简单配置</h4><h5 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 10px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#1-ALSA" TITLE="1. ALSA"></a>1. ALSA</h5><p STYLE="margin: 0px 0px 20px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" REL="noopener" TARGET="_blank" HREF="https://en.wikipedia.org/wiki/Advanced_Linux_Sound_Architecture">ALSA (Advanced Linux Sound Architecture)</a> 是一个承载树莓派上音频系统的底层框架，为树莓派及其外接的播放或录制设备提供内核驱动程序。同时该框架也包含用于制作音频应用的程序代码，和一些方便的命令行实用程序。</p>
<p STYLE="margin: 0px 0px 20px;">在 ALSA 的定义里，系统中的每一个音频设备都称作&ldquo;<strong STYLE="font-weight: bold;">声卡</strong>&rdquo;。可以使用如下命令列出所有已连接的音频设备：<br/></p><div STYLE="display: block; overflow: auto; margin: 20px 0px; font-size: 14px; color: rgb(77, 77, 76); background-color: rgb(247, 247, 247); line-height: 1.6; border-top-left-radius: 1px; border-top-right-radius: 1px; border-bottom-right-radius: 1px; border-bottom-left-radius: 1px; padding: 0px;"><table STYLE="border-collapse: collapse; border-spacing: 0px; margin: 20px 0px; width: 100%; border-collapse: collapse; border-spacing: 0px; border: 1px solid rgb(221, 221, 221); font-size: 14px; margin: 0px; width: auto; border: none;"><tbody><tr STYLE="background-color: rgb(249, 249, 249);"><td STYLE="text-align: left; vertical-align: middle; font-weight: normal; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; color: rgb(134, 145, 148); text-align: right; background-color: rgb(239, 242, 243);"><span STYLE="height: 20px;">1</span><br/><span STYLE="height: 20px;">2</span><br/><span STYLE="height: 20px;">3</span><br/></pre></td><td STYLE="padding: 0px; padding: 8px; text-align: left; vertical-align: middle; font-weight: normal; border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: rgb(221, 221, 221); border-right-width: 1px; border-right-style: solid; border-right-color: rgb(238, 238, 238); border-bottom-width: 1px; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; color: rgb(77, 77, 76); line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; width: 100%; background-color: rgb(247, 247, 247);"><span STYLE="height: 20px;">$ cat /proc/asound/cards</span><br/><span STYLE="height: 20px;"> 0 [ALSA           ]: bcm2835_alsa - bcm2835 ALSA</span><br/><span STYLE="height: 20px;">                      bcm2835 ALSA</span><br/></pre></td></tr></tbody></table></div><p STYLE="margin: 0px 0px 20px;"></p>
<p STYLE="margin: 0px 0px 20px;">可以看到此时系统中只有树莓派默认的<strong STYLE="font-weight: bold;">声卡 0</strong> <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">bcm2835 ALSA</code>。</p>
<h5 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 10px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#2-%E8%B0%83%E8%8A%82%E9%9F%B3%E9%87%8F%E5%A4%A7%E5%B0%8F" TITLE="2. 调节音量大小"></a>2. 调节音量大小</h5><p STYLE="margin: 0px 0px 20px;">可以使用 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">alsamixer</code> 命令打开 <strong STYLE="font-weight: bold;">AlsaMixer</strong> 实用程序，对音量等声音系统参数进行调节：<br/><img src="../_resources/54d5b00ad428de02c11857b4da30f69d.png"  style="border: 0px; display: block; margin: auto; max-width: 100%; height: auto; box-sizing: border-box; margin: auto; padding: 3px; border: 1px solid rgb(221, 221, 221); margin: 0px auto 25px;" alt="alsamixer" hash="54d5b00ad428de02c11857b4da30f69d" type="image/png" /></en-media></p>
<p STYLE="margin: 0px 0px 20px;">界面中 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">View</code> 选项后面的 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">Playback</code>、<code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">Capture</code>、<code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">All</code> 分别对应<strong STYLE="font-weight: bold;">播放</strong>、<strong STYLE="font-weight: bold;">录制</strong>和<strong STYLE="font-weight: bold;">全部</strong>。<br/>可以按键盘上的 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">TAB</code> 键切换到对应的界面。按下 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">fn+F6</code> 或 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">S</code> 键切换声卡设备（此时只有一个声卡）</p>
<p STYLE="margin: 0px 0px 20px;">使用 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">&ShortUpArrow; &darr; 方向键</code>调节音量，设置完成后按 <strong STYLE="font-weight: bold;">ESC</strong> 键退出 AlsaMixer。</p>
<h5 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 10px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#3-%E5%88%87%E6%8D%A2%E9%9F%B3%E9%A2%91%E8%BE%93%E5%87%BA" TITLE="3. 切换音频输出"></a>3. 切换音频输出</h5><p STYLE="margin: 0px 0px 20px;">树莓派提供两种音频输出接口：<strong STYLE="font-weight: bold;">3.5mm 模拟音频接口</strong>和 <strong STYLE="font-weight: bold;">HDMI</strong>。<br/>可以通过 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$sudo raspi-config</code> 命令（选择 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">Advanced Options</code> - <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">Audio</code>）配置音频输出方向，使音频输出固定使用 3.5mm 接口或 HDMI：<br/><img src="../_resources/54d5b00ad428de02c11857b4da30f69d.png"  style="border: 0px; display: block; margin: auto; max-width: 100%; height: auto; box-sizing: border-box; margin: auto; padding: 3px; border: 1px solid rgb(221, 221, 221); margin: 0px auto 25px;" alt="raspi-config" hash="54d5b00ad428de02c11857b4da30f69d" type="image/png" /></en-media></p>
<p STYLE="margin: 0px 0px 20px;">类似的操作也可以直接通过 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">amixer</code> 命令完成：<br/><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ amixer cset numid=3 1</code> ：指定音频输出接口为 3.5mm 耳机接口<br/><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ amixer cset numid=3 2</code> ：指定音频输出接口为 HDMI<br/></p><div STYLE="display: block; overflow: auto; margin: 20px 0px; font-size: 14px; color: rgb(77, 77, 76); background-color: rgb(247, 247, 247); line-height: 1.6; border-top-left-radius: 1px; border-top-right-radius: 1px; border-bottom-right-radius: 1px; border-bottom-left-radius: 1px; padding: 0px;"><table STYLE="border-collapse: collapse; border-spacing: 0px; margin: 20px 0px; width: 100%; border-collapse: collapse; border-spacing: 0px; border: 1px solid rgb(221, 221, 221); font-size: 14px; margin: 0px; width: auto; border: none;"><tbody><tr STYLE="background-color: rgb(249, 249, 249);"><td STYLE="text-align: left; vertical-align: middle; font-weight: normal; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; color: rgb(134, 145, 148); text-align: right; background-color: rgb(239, 242, 243);"><span STYLE="height: 20px;">1</span><br/><span STYLE="height: 20px;">2</span><br/><span STYLE="height: 20px;">3</span><br/><span STYLE="height: 20px;">4</span><br/></pre></td><td STYLE="padding: 0px; padding: 8px; text-align: left; vertical-align: middle; font-weight: normal; border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: rgb(221, 221, 221); border-right-width: 1px; border-right-style: solid; border-right-color: rgb(238, 238, 238); border-bottom-width: 1px; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; color: rgb(77, 77, 76); line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; width: 100%; background-color: rgb(247, 247, 247);"><span STYLE="height: 20px;">$ amixer cset numid=3 1</span><br/><span STYLE="height: 20px;">numid=3,iface=MIXER,name=&apos;PCM Playback Route&apos;</span><br/><span STYLE="height: 20px;">  ; type=INTEGER,access=rw------,values=1,min=0,max=2,step=0</span><br/><span STYLE="height: 20px;">  : values=1</span><br/></pre></td></tr></tbody></table></div><p STYLE="margin: 0px 0px 20px;"></p>
<h5 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 10px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#4-%E6%92%AD%E6%94%BE%E6%B5%8B%E8%AF%95" TITLE="4. 播放测试"></a>4. 播放测试</h5><p STYLE="margin: 0px 0px 20px;">可以使用 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ speaker-test -c2 -t wav</code> 命令测试音频播放是否正常。<br/>如一切顺利，则会依次从左耳耳机（或音箱）听到 <em>Front Left</em>，从右耳耳机听到 <em>Front Right</em> 的女声语音，直到按下 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">Ctrl + C</code> 终止测试。</p>
<h4 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 12px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#%E4%BA%8C%E3%80%81%E9%9F%B3%E9%A2%91%E5%BD%95%E5%88%B6%E8%AE%BE%E5%A4%87" TITLE="二、音频录制设备"></a>二、音频录制设备</h4><h5 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 10px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#1-USB%E5%A3%B0%E5%8D%A1" TITLE="1. USB声卡"></a>1. USB声卡</h5><p STYLE="margin: 0px 0px 20px;">树莓派提供的音频接口是<strong STYLE="font-weight: bold;">不支持语音输入</strong>的。<br/>使用 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">alsamixer</code> 命令进入 AlsaMixer 程序，按下 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">TAB</code> 键切换到 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">Caputre</code> 界面，可以看到<strong STYLE="font-weight: bold;">此设备无音频采集控制</strong>的提示：<br/><img src="../_resources/54d5b00ad428de02c11857b4da30f69d.png"  style="border: 0px; display: block; margin: auto; max-width: 100%; height: auto; box-sizing: border-box; margin: auto; padding: 3px; border: 1px solid rgb(221, 221, 221); margin: 0px auto 25px;" alt="bcm2835 ALSA Capture" hash="54d5b00ad428de02c11857b4da30f69d" type="image/png" /></en-media></p>
<p STYLE="margin: 0px 0px 20px;">为了录制音频，需要使用外接的音频输入设备。可以从网上购买一个便携式的 USB 免驱动声卡。<br/><img src="../_resources/54d5b00ad428de02c11857b4da30f69d.png"  style="border: 0px; display: block; margin: auto; max-width: 100%; height: auto; box-sizing: border-box; margin: auto; padding: 3px; border: 1px solid rgb(221, 221, 221); margin: 0px auto 25px;" alt="USB声卡及线控耳机" hash="54d5b00ad428de02c11857b4da30f69d" type="image/png" /></en-media><br/>插入USB声卡后，通过 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ cat /proc/asound/cards</code> 命令查看当前系统检测到的音频设备：<br/></p><div STYLE="display: block; overflow: auto; margin: 20px 0px; font-size: 14px; color: rgb(77, 77, 76); background-color: rgb(247, 247, 247); line-height: 1.6; border-top-left-radius: 1px; border-top-right-radius: 1px; border-bottom-right-radius: 1px; border-bottom-left-radius: 1px; padding: 0px;"><table STYLE="border-collapse: collapse; border-spacing: 0px; margin: 20px 0px; width: 100%; border-collapse: collapse; border-spacing: 0px; border: 1px solid rgb(221, 221, 221); font-size: 14px; margin: 0px; width: auto; border: none;"><tbody><tr STYLE="background-color: rgb(249, 249, 249);"><td STYLE="text-align: left; vertical-align: middle; font-weight: normal; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; color: rgb(134, 145, 148); text-align: right; background-color: rgb(239, 242, 243);"><span STYLE="height: 20px;">1</span><br/><span STYLE="height: 20px;">2</span><br/><span STYLE="height: 20px;">3</span><br/><span STYLE="height: 20px;">4</span><br/><span STYLE="height: 20px;">5</span><br/></pre></td><td STYLE="padding: 0px; padding: 8px; text-align: left; vertical-align: middle; font-weight: normal; border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: rgb(221, 221, 221); border-right-width: 1px; border-right-style: solid; border-right-color: rgb(238, 238, 238); border-bottom-width: 1px; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; color: rgb(77, 77, 76); line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; width: 100%; background-color: rgb(247, 247, 247);"><span STYLE="height: 20px;">$ cat /proc/asound/cards</span><br/><span STYLE="height: 20px;"> 0 [ALSA           ]: bcm2835_alsa - bcm2835 ALSA</span><br/><span STYLE="height: 20px;">                      bcm2835 ALSA</span><br/><span STYLE="height: 20px;"> 1 [Device         ]: USB-Audio - USB Audio Device</span><br/><span STYLE="height: 20px;">                      GeneralPlus USB Audio Device at usb-3f980000.usb-1.3, full speed</span><br/></pre></td></tr></tbody></table></div><p STYLE="margin: 0px 0px 20px;"></p>
<p STYLE="margin: 0px 0px 20px;">此时输出信息中多了一个序号为 1 的声卡设备 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">USB-Audio</code>。<br/>可以使用 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ speaker-test -D plughw:1 -c2 -t wav</code> 测试 USB 声卡的音频播放是否正常（注意命令中的 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">-D plughw:1</code>）。</p>
<p STYLE="margin: 0px 0px 20px;">使用 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">alsamixer -c1</code> 命令调节新声卡的具体参数。其中 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">-c1</code> 选项用于指定编号为 1 的声卡设备，即新插入的 USB 声卡。<br/><img src="../_resources/54d5b00ad428de02c11857b4da30f69d.png"  style="border: 0px; display: block; margin: auto; max-width: 100%; height: auto; box-sizing: border-box; margin: auto; padding: 3px; border: 1px solid rgb(221, 221, 221); margin: 0px auto 25px;" alt="alsamixer -c1" hash="54d5b00ad428de02c11857b4da30f69d" type="image/png" /></en-media></p>
<p STYLE="margin: 0px 0px 20px;">按下 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">fn+F4</code> 或 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">TAB</code> 键将视图切换到 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">Capture</code> 界面，确保 Mic 上方有出现 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">CAPTURE</code> 字样（说明已开启录制功能，可以使用<code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">空格键</code>切换开关状态）：<br/><img src="../_resources/54d5b00ad428de02c11857b4da30f69d.png"  style="border: 0px; display: block; margin: auto; max-width: 100%; height: auto; box-sizing: border-box; margin: auto; padding: 3px; border: 1px solid rgb(221, 221, 221); margin: 0px auto 25px;" alt="Capture" hash="54d5b00ad428de02c11857b4da30f69d" type="image/png" /></en-media></p>
<h5 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 10px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#2-%E9%BA%A6%E5%85%8B%E9%A3%8E%E6%B5%8B%E8%AF%95" TITLE="2. 麦克风测试"></a>2. 麦克风测试</h5><p STYLE="margin: 0px 0px 20px;">首先安装 <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" REL="noopener" TARGET="_blank" HREF="http://sox.sourceforge.net/">SoX</a> 工具及其 mp3 格式支持：<code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$sudo apt-get install sox libsox-fmt-mp3</code><br/>SoX 是 Linux 系统上一个强大的音频处理工具，详细使用方法可以参考这篇文章：<a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" REL="noopener" TARGET="_blank" HREF="https://www.jianshu.com/p/be8977de4a6b">SoX &mdash; 音频处理工具里的瑞士军刀</a>。</p>
<p STYLE="margin: 0px 0px 20px;">sox 命令的基本格式为 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">sox &lt;input&gt; &lt;output&gt;</code> 。其中的 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">&lt;input&gt;</code> 和 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">&lt;output&gt;</code> 既可以是某个具体的音频文件，也可以是某个特定的<strong STYLE="font-weight: bold;">音频设备</strong>。<br/>所以可以简单的理解为，<code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">sox</code> 工具就是对音频进行<strong STYLE="font-weight: bold;">&ldquo;传导&rdquo;</strong>：</p>
<ul>
<li STYLE="list-style: circle;">从文件到设备即为播放 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">sox music.mp3 &lt;device&gt;</code></li>
<li STYLE="list-style: circle;">从设备到文件即为录制 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">sox &lt;device&gt; myrec.wav</code></li>
<li STYLE="list-style: circle;">从文件到文件即为转码 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">sox input.wav output.mp3</code></li>
</ul>
<p STYLE="margin: 0px 0px 20px;">可以使用 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ sox -t alsa plughw:1 -t alsa plughw:1</code> 命令对麦克风进行测试。<br/>其中 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">-t alsa plughw:1</code> 表示 ALSA 声卡设备 1（即USB声卡）。<br/>上述命令表示既使用USB声卡（麦克风） 作为音频输入，又用它（耳机）作为音频输出。</p>
<p STYLE="margin: 0px 0px 20px;">如一切正常，此时可以通过耳机听到自己对着麦克风讲话的声音。</p>
<h5 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 10px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#3-%E5%88%87%E6%8D%A2%E9%BB%98%E8%AE%A4%E7%9A%84%E9%9F%B3%E9%A2%91%E8%AE%BE%E5%A4%87" TITLE="3. 切换默认的音频设备"></a>3. 切换默认的音频设备</h5><p STYLE="margin: 0px 0px 20px;">可以通过修改配置文件，将树莓派默认用于播放和录制的音频设备（即树莓派内置声卡），改为当前插入的USB声卡。<br/>编辑 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">~/.asoundrc</code> 文件，改为如下内容：<br/></p><div STYLE="display: block; overflow: auto; margin: 20px 0px; font-size: 14px; color: rgb(77, 77, 76); background-color: rgb(247, 247, 247); line-height: 1.6; border-top-left-radius: 1px; border-top-right-radius: 1px; border-bottom-right-radius: 1px; border-bottom-left-radius: 1px; padding: 0px;"><table STYLE="border-collapse: collapse; border-spacing: 0px; margin: 20px 0px; width: 100%; border-collapse: collapse; border-spacing: 0px; border: 1px solid rgb(221, 221, 221); font-size: 14px; margin: 0px; width: auto; border: none;"><tbody><tr STYLE="background-color: rgb(249, 249, 249);"><td STYLE="text-align: left; vertical-align: middle; font-weight: normal; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; color: rgb(134, 145, 148); text-align: right; background-color: rgb(239, 242, 243);"><span STYLE="height: 20px;">1</span><br/><span STYLE="height: 20px;">2</span><br/><span STYLE="height: 20px;">3</span><br/><span STYLE="height: 20px;">4</span><br/><span STYLE="height: 20px;">5</span><br/><span STYLE="height: 20px;">6</span><br/><span STYLE="height: 20px;">7</span><br/><span STYLE="height: 20px;">8</span><br/><span STYLE="height: 20px;">9</span><br/></pre></td><td STYLE="padding: 0px; padding: 8px; text-align: left; vertical-align: middle; font-weight: normal; border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: rgb(221, 221, 221); border-right-width: 1px; border-right-style: solid; border-right-color: rgb(238, 238, 238); border-bottom-width: 1px; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; color: rgb(77, 77, 76); line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; width: 100%; background-color: rgb(247, 247, 247);"><span STYLE="height: 20px;">pcm.!default {</span><br/><span STYLE="height: 20px;">    type hw</span><br/><span STYLE="height: 20px;">    card 1</span><br/><span STYLE="height: 20px;">}</span><br/><span STYLE="height: 20px;"></span><br/><span STYLE="height: 20px;">ctl.!default {</span><br/><span STYLE="height: 20px;">    type hw</span><br/><span STYLE="height: 20px;">    card 1</span><br/><span STYLE="height: 20px;">}</span><br/></pre></td></tr></tbody></table></div><p STYLE="margin: 0px 0px 20px;"></p>
<p STYLE="margin: 0px 0px 20px;">其实就是将配置文件中的 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">card 0</code> 改为 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">card 1</code>。</p>
<p STYLE="margin: 0px 0px 20px;">此时可直接使用 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ sox -d -d</code> 命令测试USB声卡上连接的麦克风和耳机，无需再通过 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">-t alsa plughw:1</code> 选项手动指定USB声卡（<code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">-d</code> 选项表示默认音频设备，即已配置成默认的USB声卡）。</p>
<h5 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 10px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#4-%E5%BD%95%E5%88%B6%E4%B8%8E%E6%92%AD%E6%94%BE" TITLE="4. 录制与播放"></a>4. 录制与播放</h5><p STYLE="margin: 0px 0px 20px;">默认音频设备切换为USB声卡后，可以使用以下命令录制一段音频并将其保存在 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">myrec.mp3</code> 文件中：<br/><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ sox -d myrec.mp3</code> 或 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ rec myrec.mp3</code></p>
<p STYLE="margin: 0px 0px 20px;">播放前面录制的音频文件可使用如下命令：<br/><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ sox myrec.mp3 -d</code> 或 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ play myrec.mp3</code></p>
<p STYLE="margin: 0px 0px 20px;">如<strong STYLE="font-weight: bold;">未能</strong>配置USB声卡为默认音频设备或配置不成功，也可以使用如下命令进行录制与播放：<br/>录制：<code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ sox -t alsa plughw:1 myrec.mp3</code><br/>播放：<code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ sox myrec.mp3 -t alsa plughw:1</code></p>
<p STYLE="margin: 0px 0px 20px;">录制固定长度的音频片段（如 30 分钟）并保存在指定文件中：<br/><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ sox -t alsa plughw:1 myrec.wav trim 0 00:30:00</code></p>
<p STYLE="margin: 0px 0px 20px;">持续录制很长时间的音频，保存在几个不同的文件中，每隔一小时保存一次：<br/><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ sox -t alsa plughw:1 myrec.wav trim 0 01:00:00 : newfile : restart</code></p>
<h4 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 12px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#%E4%B8%89%E3%80%81%E8%BF%9C%E7%A8%8B%E7%9B%91%E5%90%AC" TITLE="三、远程监听"></a>三、远程监听</h4><p STYLE="margin: 0px 0px 20px;">可以通过树莓派的 SSH 服务，在另一台电脑上<strong STYLE="font-weight: bold;">远程收听</strong>树莓派通过USB声卡收集到的音频数据。<br/>也就是说，用树莓派的麦克风录制周围环境的声音，<strong STYLE="font-weight: bold;">同时</strong>在远程的另一台电脑上<strong STYLE="font-weight: bold;">实时</strong>地（有短暂延迟）收听录制的内容，达到<strong STYLE="font-weight: bold;">监听</strong>的效果。</p>
<p STYLE="margin: 0px 0px 20px;">在电脑端（也需要安装 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">sox</code> 程序）执行如下命令即可：<br/><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ ssh pi@[IP address] sox -t alsa plughw:1 -t sox - | sox -q -t sox - -d</code><br/><img src="../_resources/54d5b00ad428de02c11857b4da30f69d.png"  style="border: 0px; display: block; margin: auto; max-width: 100%; height: auto; box-sizing: border-box; margin: auto; padding: 3px; border: 1px solid rgb(221, 221, 221); margin: 0px auto 25px;" alt="sox" hash="54d5b00ad428de02c11857b4da30f69d" type="image/png" /></en-media></p>
<p STYLE="margin: 0px 0px 20px;">对于 Windows 系统，除安装 SoX 工具外，还需要先下载完整版 <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" REL="noopener" TARGET="_blank" HREF="https://www.putty.org/">PuTTY</a> 工具，并确保这两个工具的安装路径都已添加至 <strong STYLE="font-weight: bold;">PATH</strong> 环境变量。</p>
<p STYLE="margin: 0px 0px 20px;">则可以使用如下命令通过树莓派进行远程监听：<br/><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">plink pi@[IP address] -pw [password] sox -t alsa plughw:1 -t sox - | sox -q -t sox - -t waveaudio default</code></p>
<p STYLE="margin: 0px 0px 20px;">可以使用如下命令，将<strong STYLE="font-weight: bold;">远程</strong>树莓派收集到的音频数据直接保存在<strong STYLE="font-weight: bold;">本地</strong>文件中：<br/><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ ssh pi@[IP address] sox -t alsa plughw:1 -t mp3 - &gt; ~/Desktop/myrec.mp3</code><br/>或 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">plink pi@[IP address] sox -t alsa plughw:1 -t mp3 - &gt; D:\myrec.mp3</code> （Windows 系统）</p>
<p STYLE="margin: 0px 0px 20px;">使用如下命令，让本地电脑作为音频输入源，将其麦克风收集到的音频数据，通过 SSH 发送到远程树莓派上进行播放。<br/>也就是将自己对着本地电脑讲的话通过树莓派进行<strong STYLE="font-weight: bold;">远程广播</strong>：<br/><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ sox -d -t sox - | ssh pi@[IP address] sox -q -t sox - -d</code><br/>或 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">sox -t waveaudio default -t sox - | plink pi@[IP address] -pw [password] sox -q -t sox - -d</code> （Windows 系统）</p>
<p STYLE="margin: 0px 0px 20px;">同样的原理，也可以将本地磁盘上的音频文件直接发送到远程的树莓派上进行播放：<br/><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ cat ~/Desktop/media/audios/Faded.wav | ssh pi@[IP address] sox -t wav - -d</code><br/>或 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">type D:\myrec.mp3 | plink pi@[IP address] -pw [password] sox -t mp3 - -d</code> （Windows 系统）</p>
<h4 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 12px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#%E5%9B%9B%E3%80%81%E8%93%9D%E7%89%99%E8%80%B3%E6%9C%BA" TITLE="四、蓝牙耳机"></a>四、蓝牙耳机</h4><p STYLE="margin: 0px 0px 20px;">树莓派 3 代 B+ 自带了 WIFI 和蓝牙功能，可以直接通过蓝牙连接音频设备。</p>
<h5 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 10px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#1-%E4%BD%BF%E7%94%A8-hciconfig-%E5%91%BD%E4%BB%A4%E8%8E%B7%E5%8F%96%E8%93%9D%E7%89%99%E6%A8%A1%E5%9D%97%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF%EF%BC%9A" TITLE="1. 使用 hciconfig 命令获取蓝牙模块的相关信息："></a>1. 使用 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">hciconfig</code> 命令获取蓝牙模块的相关信息：</h5><div STYLE="display: block; overflow: auto; margin: 20px 0px; font-size: 14px; color: rgb(77, 77, 76); background-color: rgb(247, 247, 247); line-height: 1.6; border-top-left-radius: 1px; border-top-right-radius: 1px; border-bottom-right-radius: 1px; border-bottom-left-radius: 1px; padding: 0px;"><table STYLE="border-collapse: collapse; border-spacing: 0px; margin: 20px 0px; width: 100%; border-collapse: collapse; border-spacing: 0px; border: 1px solid rgb(221, 221, 221); font-size: 14px; margin: 0px; width: auto; border: none;"><tbody><tr STYLE="background-color: rgb(249, 249, 249);"><td STYLE="text-align: left; vertical-align: middle; font-weight: normal; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; color: rgb(134, 145, 148); text-align: right; background-color: rgb(239, 242, 243);"><span STYLE="height: 20px;">1</span><br/><span STYLE="height: 20px;">2</span><br/><span STYLE="height: 20px;">3</span><br/><span STYLE="height: 20px;">4</span><br/><span STYLE="height: 20px;">5</span><br/><span STYLE="height: 20px;">6</span><br/><span STYLE="height: 20px;">7</span><br/><span STYLE="height: 20px;">8</span><br/><span STYLE="height: 20px;">9</span><br/><span STYLE="height: 20px;">10</span><br/><span STYLE="height: 20px;">11</span><br/><span STYLE="height: 20px;">12</span><br/><span STYLE="height: 20px;">13</span><br/><span STYLE="height: 20px;">14</span><br/><span STYLE="height: 20px;">15</span><br/><span STYLE="height: 20px;">16</span><br/><span STYLE="height: 20px;">17</span><br/></pre></td><td STYLE="padding: 0px; padding: 8px; text-align: left; vertical-align: middle; font-weight: normal; border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: rgb(221, 221, 221); border-right-width: 1px; border-right-style: solid; border-right-color: rgb(238, 238, 238); border-bottom-width: 1px; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; color: rgb(77, 77, 76); line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; width: 100%; background-color: rgb(247, 247, 247);"><span STYLE="height: 20px;">$ hciconfig -a</span><br/><span STYLE="height: 20px;">hci0:   Type: Primary  Bus: UART</span><br/><span STYLE="height: 20px;">    BD Address: B8:27:EB:C3:38:31  ACL MTU: 1021:8  SCO MTU: 64:1</span><br/><span STYLE="height: 20px;">    UP RUNNING</span><br/><span STYLE="height: 20px;">    RX bytes:4181 acl:136 sco:0 events:135 errors:0</span><br/><span STYLE="height: 20px;">    TX bytes:5065 acl:128 sco:0 commands:60 errors:0</span><br/><span STYLE="height: 20px;">    Features: 0xbf 0xfe 0xcf 0xfe 0xdb 0xff 0x7b 0x87</span><br/><span STYLE="height: 20px;">    Packet type: DM1 DM3 DM5 DH1 DH3 DH5 HV1 HV2 HV3</span><br/><span STYLE="height: 20px;">    Link policy: RSWITCH SNIFF</span><br/><span STYLE="height: 20px;">    Link mode: SLAVE ACCEPT</span><br/><span STYLE="height: 20px;">    Name: &apos;raspberrypi&apos;</span><br/><span STYLE="height: 20px;">    Class: 0x480000</span><br/><span STYLE="height: 20px;">    Service Classes: Capturing, Telephony</span><br/><span STYLE="height: 20px;">    Device Class: Miscellaneous,</span><br/><span STYLE="height: 20px;">    HCI Version: 4.2 (0x8)  Revision: 0xfc</span><br/><span STYLE="height: 20px;">    LMP Version: 4.2 (0x8)  Subversion: 0x6119</span><br/><span STYLE="height: 20px;">    Manufacturer: Broadcom Corporation (15)</span><br/></pre></td></tr></tbody></table></div>
<h5 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 10px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#2-%E4%BD%BF%E7%94%A8-hcitool-scan-%E5%91%BD%E4%BB%A4%E6%89%AB%E6%8F%8F%E9%99%84%E8%BF%91%E5%8F%AF%E4%BE%9B%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%93%9D%E7%89%99%E8%AE%BE%E5%A4%87%EF%BC%8C%E5%B9%B6%E8%AE%B0%E4%B8%8B%E8%93%9D%E7%89%99%E8%80%B3%E6%9C%BA%E5%AF%B9%E5%BA%94%E7%9A%84-MAC-%E5%9C%B0%E5%9D%80" TITLE="2. 使用 hcitool scan 命令扫描附近可供连接的蓝牙设备，并记下蓝牙耳机对应的 MAC 地址"></a>2. 使用 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">hcitool scan</code> 命令扫描附近可供连接的蓝牙设备，并记下蓝牙耳机对应的 MAC 地址</h5><div STYLE="display: block; overflow: auto; margin: 20px 0px; font-size: 14px; color: rgb(77, 77, 76); background-color: rgb(247, 247, 247); line-height: 1.6; border-top-left-radius: 1px; border-top-right-radius: 1px; border-bottom-right-radius: 1px; border-bottom-left-radius: 1px; padding: 0px;"><table STYLE="border-collapse: collapse; border-spacing: 0px; margin: 20px 0px; width: 100%; border-collapse: collapse; border-spacing: 0px; border: 1px solid rgb(221, 221, 221); font-size: 14px; margin: 0px; width: auto; border: none;"><tbody><tr STYLE="background-color: rgb(249, 249, 249);"><td STYLE="text-align: left; vertical-align: middle; font-weight: normal; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; color: rgb(134, 145, 148); text-align: right; background-color: rgb(239, 242, 243);"><span STYLE="height: 20px;">1</span><br/><span STYLE="height: 20px;">2</span><br/><span STYLE="height: 20px;">3</span><br/><span STYLE="height: 20px;">4</span><br/></pre></td><td STYLE="padding: 0px; padding: 8px; text-align: left; vertical-align: middle; font-weight: normal; border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: rgb(221, 221, 221); border-right-width: 1px; border-right-style: solid; border-right-color: rgb(238, 238, 238); border-bottom-width: 1px; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; color: rgb(77, 77, 76); line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; width: 100%; background-color: rgb(247, 247, 247);"><span STYLE="height: 20px;">$ hcitool scan</span><br/><span STYLE="height: 20px;">Scanning ...</span><br/><span STYLE="height: 20px;">    FC:58:FA:F4:67:33   A2</span><br/><span STYLE="height: 20px;">    50:8F:4C:0D:31:3A   Starky</span><br/></pre></td></tr></tbody></table></div>
<h5 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 10px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#3-%E9%80%9A%E8%BF%87-MAC-%E5%9C%B0%E5%9D%80%E4%B8%8E%E8%93%9D%E7%89%99%E8%80%B3%E6%9C%BA%E8%BF%9B%E8%A1%8C%E9%85%8D%E5%AF%B9" TITLE="3. 通过 MAC 地址与蓝牙耳机进行配对"></a>3. 通过 MAC 地址与蓝牙耳机进行配对</h5><p STYLE="margin: 0px 0px 20px;">使用 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">bluetoothctl</code> 命令进入<em>蓝牙控制台</em>，依次通过 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">power on</code> 、<code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">agent on</code> 、<code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">scan on</code> 、<code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">pair</code> 、<code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">trust</code> 、<code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">connect</code> 等命令连接蓝牙设备。</p>
<p STYLE="margin: 0px 0px 20px;">注意此处连接蓝牙使用的是蓝牙设备的 <strong STYLE="font-weight: bold;">MAC 地址</strong>。<br/></p><div STYLE="display: block; overflow: auto; margin: 20px 0px; font-size: 14px; color: rgb(77, 77, 76); background-color: rgb(247, 247, 247); line-height: 1.6; border-top-left-radius: 1px; border-top-right-radius: 1px; border-bottom-right-radius: 1px; border-bottom-left-radius: 1px; padding: 0px;"><table STYLE="border-collapse: collapse; border-spacing: 0px; margin: 20px 0px; width: 100%; border-collapse: collapse; border-spacing: 0px; border: 1px solid rgb(221, 221, 221); font-size: 14px; margin: 0px; width: auto; border: none;"><tbody><tr STYLE="background-color: rgb(249, 249, 249);"><td STYLE="text-align: left; vertical-align: middle; font-weight: normal; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; color: rgb(134, 145, 148); text-align: right; background-color: rgb(239, 242, 243);"><span STYLE="height: 20px;">1</span><br/><span STYLE="height: 20px;">2</span><br/><span STYLE="height: 20px;">3</span><br/><span STYLE="height: 20px;">4</span><br/><span STYLE="height: 20px;">5</span><br/><span STYLE="height: 20px;">6</span><br/><span STYLE="height: 20px;">7</span><br/><span STYLE="height: 20px;">8</span><br/><span STYLE="height: 20px;">9</span><br/><span STYLE="height: 20px;">10</span><br/><span STYLE="height: 20px;">11</span><br/><span STYLE="height: 20px;">12</span><br/><span STYLE="height: 20px;">13</span><br/><span STYLE="height: 20px;">14</span><br/><span STYLE="height: 20px;">15</span><br/><span STYLE="height: 20px;">16</span><br/><span STYLE="height: 20px;">17</span><br/><span STYLE="height: 20px;">18</span><br/><span STYLE="height: 20px;">19</span><br/><span STYLE="height: 20px;">20</span><br/><span STYLE="height: 20px;">21</span><br/></pre></td><td STYLE="padding: 0px; padding: 8px; text-align: left; vertical-align: middle; font-weight: normal; border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: rgb(221, 221, 221); border-right-width: 1px; border-right-style: solid; border-right-color: rgb(238, 238, 238); border-bottom-width: 1px; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; color: rgb(77, 77, 76); line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; width: 100%; background-color: rgb(247, 247, 247);"><span STYLE="height: 20px;">$ bluetoothctl</span><br/><span STYLE="height: 20px;">[NEW] Controller B8:27:EB:C3:38:31 raspberrypi [default]</span><br/><span STYLE="height: 20px;">[NEW] Device 50:8F:4C:0D:31:3A Starky</span><br/><span STYLE="height: 20px;">...</span><br/><span STYLE="height: 20px;">[bluetooth]# power on</span><br/><span STYLE="height: 20px;">Changing power on succeeded</span><br/><span STYLE="height: 20px;">[bluetooth]# agent on</span><br/><span STYLE="height: 20px;">Agent registered</span><br/><span STYLE="height: 20px;">[bluetooth]# scan on</span><br/><span STYLE="height: 20px;">Discovery started</span><br/><span STYLE="height: 20px;">[bluetooth]# pair FC:58:FA:F4:67:33</span><br/><span STYLE="height: 20px;">Attempting to pair with FC:58:FA:F4:67:33</span><br/><span STYLE="height: 20px;">Pairing successful</span><br/><span STYLE="height: 20px;">[bluetooth]# trust FC:58:FA:F4:67:33</span><br/><span STYLE="height: 20px;">[CHG] Device FC:58:FA:F4:67:33 Trusted: yes</span><br/><span STYLE="height: 20px;">Changing FC:58:FA:F4:67:33 trust succeeded</span><br/><span STYLE="height: 20px;">[bluetooth]# connect FC:58:FA:F4:67:33</span><br/><span STYLE="height: 20px;">Attempting to connect to FC:58:FA:F4:67:33</span><br/><span STYLE="height: 20px;">[CHG] Device FC:58:FA:F4:67:33 Connected: yes</span><br/><span STYLE="height: 20px;">Connection successful</span><br/><span STYLE="height: 20px;">[A2]#</span><br/></pre></td></tr></tbody></table></div><p STYLE="margin: 0px 0px 20px;"></p>
<p STYLE="margin: 0px 0px 20px;">退出蓝牙控制台，使用 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">hcitool con</code> 命令查看当前已连接的蓝牙设备，确认连接成功：<br/></p><div STYLE="display: block; overflow: auto; margin: 20px 0px; font-size: 14px; color: rgb(77, 77, 76); background-color: rgb(247, 247, 247); line-height: 1.6; border-top-left-radius: 1px; border-top-right-radius: 1px; border-bottom-right-radius: 1px; border-bottom-left-radius: 1px; padding: 0px;"><table STYLE="border-collapse: collapse; border-spacing: 0px; margin: 20px 0px; width: 100%; border-collapse: collapse; border-spacing: 0px; border: 1px solid rgb(221, 221, 221); font-size: 14px; margin: 0px; width: auto; border: none;"><tbody><tr STYLE="background-color: rgb(249, 249, 249);"><td STYLE="text-align: left; vertical-align: middle; font-weight: normal; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; color: rgb(134, 145, 148); text-align: right; background-color: rgb(239, 242, 243);"><span STYLE="height: 20px;">1</span><br/><span STYLE="height: 20px;">2</span><br/><span STYLE="height: 20px;">3</span><br/></pre></td><td STYLE="padding: 0px; padding: 8px; text-align: left; vertical-align: middle; font-weight: normal; border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: rgb(221, 221, 221); border-right-width: 1px; border-right-style: solid; border-right-color: rgb(238, 238, 238); border-bottom-width: 1px; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; color: rgb(77, 77, 76); line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; width: 100%; background-color: rgb(247, 247, 247);"><span STYLE="height: 20px;">$ hcitool con</span><br/><span STYLE="height: 20px;">Connections:</span><br/><span STYLE="height: 20px;">    &gt; ACL FC:58:FA:F4:67:33 handle 11 state 1 lm SLAVE AUTH ENCRYPT</span><br/></pre></td></tr></tbody></table></div><p STYLE="margin: 0px 0px 20px;"></p>
<h5 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 10px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#4-%E5%B0%86%E9%9F%B3%E9%A2%91%E8%BE%93%E5%87%BA%E8%AE%BE%E5%A4%87%E5%88%87%E6%8D%A2%E4%B8%BA%E8%93%9D%E7%89%99%E8%80%B3%E6%9C%BA" TITLE="4. 将音频输出设备切换为蓝牙耳机"></a>4. 将音频输出设备切换为蓝牙耳机</h5><p STYLE="margin: 0px 0px 20px;">首先安装 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">PulseAudio</code> 软件包：<br/><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ sudo apt-get install pulseaudio pulseaudio-module-bluetooth</code></p>
<p STYLE="margin: 0px 0px 20px;">启动 PulseAudio 守护进程：<br/><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ pulseaudio --start</code></p>
<p STYLE="margin: 0px 0px 20px;">列出 PulseAudio 检测到的音频设备名称：<br/></p><div STYLE="display: block; overflow: auto; margin: 20px 0px; font-size: 14px; color: rgb(77, 77, 76); background-color: rgb(247, 247, 247); line-height: 1.6; border-top-left-radius: 1px; border-top-right-radius: 1px; border-bottom-right-radius: 1px; border-bottom-left-radius: 1px; padding: 0px;"><table STYLE="border-collapse: collapse; border-spacing: 0px; margin: 20px 0px; width: 100%; border-collapse: collapse; border-spacing: 0px; border: 1px solid rgb(221, 221, 221); font-size: 14px; margin: 0px; width: auto; border: none;"><tbody><tr STYLE="background-color: rgb(249, 249, 249);"><td STYLE="text-align: left; vertical-align: middle; font-weight: normal; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; color: rgb(134, 145, 148); text-align: right; background-color: rgb(239, 242, 243);"><span STYLE="height: 20px;">1</span><br/><span STYLE="height: 20px;">2</span><br/><span STYLE="height: 20px;">3</span><br/><span STYLE="height: 20px;">4</span><br/></pre></td><td STYLE="padding: 0px; padding: 8px; text-align: left; vertical-align: middle; font-weight: normal; border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: rgb(221, 221, 221); border-right-width: 1px; border-right-style: solid; border-right-color: rgb(238, 238, 238); border-bottom-width: 1px; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; color: rgb(77, 77, 76); line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; width: 100%; background-color: rgb(247, 247, 247);"><span STYLE="height: 20px;">$ pacmd list-sinks short | grep -e &apos;name:&apos;</span><br/><span STYLE="height: 20px;"></span><br/><span STYLE="height: 20px;">    name: &lt;alsa_output.platform-soc_audio.analog-mono&gt;</span><br/><span STYLE="height: 20px;">    name: &lt;bluez_sink.FC_58_FA_F4_67_33.headset_head_unit&gt;</span><br/></pre></td></tr></tbody></table></div><p STYLE="margin: 0px 0px 20px;"></p>
<p STYLE="margin: 0px 0px 20px;">使用 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">pactl</code> 命令将蓝牙耳机作为默认的音频设备：<br/><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ pactl set-default-sink bluez_sink.FC_58_FA_F4_67_33.headset_head_unit</code></p>
<p STYLE="margin: 0px 0px 20px;">此时，即可直接使用 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">play</code> 命令通过蓝牙耳机播放音频文件：<br/><img src="../_resources/54d5b00ad428de02c11857b4da30f69d.png"  style="border: 0px; display: block; margin: auto; max-width: 100%; height: auto; box-sizing: border-box; margin: auto; padding: 3px; border: 1px solid rgb(221, 221, 221); margin: 0px auto 25px;" alt="image.png" hash="54d5b00ad428de02c11857b4da30f69d" type="image/png" /></en-media></p>
<p STYLE="margin: 0px 0px 20px;">如果需要将音频输出切换回系统默认，运行如下命令即可：<br/><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ pactl set-default-sink alsa_output.platform-soc_audio.analog-mono</code></p>
<p STYLE="margin: 0px 0px 20px;">或者自己对当前的音频配置有点混乱了。。。可以使用如下命令重置：<br/><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ sudo /etc/init.d/alsa-utils reset</code></p>
<h5 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 10px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#5-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9" TITLE="5. 注意事项"></a>5. 注意事项</h5><p STYLE="margin: 0px 0px 20px;">经过测试，发现蓝牙耳机连接后<strong STYLE="font-weight: bold;">音质相差太大</strong>，播放速度明显放缓，未确定是哪里的问题。</p>
<p STYLE="margin: 0px 0px 20px;">同时我的蓝牙耳机开启后会自动连接至树莓派，如无法自动连接或者连接以后并没有被 <strong STYLE="font-weight: bold;">PulseAudio</strong> 检测到，可以先使用 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">bluetoothctl</code> 命令进入蓝牙控制台：<br/>依次输入 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">power off</code>、<code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">power on</code> 命令重启蓝牙，使用 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">connect &lt;MAC address&gt;</code> 命令重新连接蓝牙耳机（无需再配对和信任，直接连接）。</p>
<p STYLE="margin: 0px 0px 20px;">蓝牙耳机为默认音频设备后，之前配置 USB 声卡为默认的操作不再生效（除非断开蓝牙或关闭蓝牙耳机）。<br/>可以在播放或录制时通过 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">-t alsa plughw:1</code> 选项手动指定 USB 声卡。<br/>如 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ sox -t alsa plughw:1 -d</code> ：使用 USB 声卡作为音频输入源，再将采集到的音频输出到默认设备（蓝牙耳机）</p>
<p STYLE="margin: 0px 0px 20px;">这一章的蓝牙介绍只供参考，推荐使用 USB 声卡进行音频的录制和播放。</p>
<h4 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 12px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#%E4%BA%94%E3%80%81%E9%85%8D%E7%BD%AE-VoIP-%E6%9C%8D%E5%8A%A1%E5%99%A8" TITLE="五、配置 VoIP 服务器"></a>五、配置 VoIP 服务器</h4><p STYLE="margin: 0px 0px 20px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" REL="noopener" TARGET="_blank" HREF="https://en.wikipedia.org/wiki/Voice_over_IP">VoIP</a> 即 Voice over Internet Protocol ，就是将声音信号经过压缩与封包之后，以数据封包的形式在IP网络间进行传输。通俗地说也就是互联网电话或IP电话。</p>
<p STYLE="margin: 0px 0px 20px;">这里使用 Linux 平台上的 <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" REL="noopener" TARGET="_blank" HREF="https://www.gnu.org/software/sipwitch/">SIP Witch</a> 软件作为 VoIP 系统的服务端。</p>
<h5 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 10px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#1-%E5%AE%89%E8%A3%85-SIP-Witch" TITLE="1. 安装 SIP Witch"></a>1. 安装 SIP Witch</h5><p STYLE="margin: 0px 0px 20px;"><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ sudo apt-get install sipwitch</code></p>
<h5 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 10px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#2-%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" TITLE="2. 编辑配置文件"></a>2. 编辑配置文件</h5><p STYLE="margin: 0px 0px 20px;"><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">/etc/default/sipwtich</code> ：找到 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">PLUGINS</code> 选项，删除该行前面的注释</p>
<p STYLE="margin: 0px 0px 20px;"><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">/etc/sipwitch.conf</code> ：编辑文件内容，在 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">&lt;provision&gt;</code> 标签下添加用户注册信息：<br/></p><div STYLE="display: block; overflow: auto; margin: 20px 0px; font-size: 14px; color: rgb(77, 77, 76); background-color: rgb(247, 247, 247); line-height: 1.6; border-top-left-radius: 1px; border-top-right-radius: 1px; border-bottom-right-radius: 1px; border-bottom-left-radius: 1px; padding: 0px;"><table STYLE="border-collapse: collapse; border-spacing: 0px; margin: 20px 0px; width: 100%; border-collapse: collapse; border-spacing: 0px; border: 1px solid rgb(221, 221, 221); font-size: 14px; margin: 0px; width: auto; border: none;"><tbody><tr STYLE="background-color: rgb(249, 249, 249);"><td STYLE="text-align: left; vertical-align: middle; font-weight: normal; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; color: rgb(134, 145, 148); text-align: right; background-color: rgb(239, 242, 243);"><span STYLE="height: 20px;">1</span><br/><span STYLE="height: 20px;">2</span><br/><span STYLE="height: 20px;">3</span><br/><span STYLE="height: 20px;">4</span><br/><span STYLE="height: 20px;">5</span><br/><span STYLE="height: 20px;">6</span><br/><span STYLE="height: 20px;">7</span><br/><span STYLE="height: 20px;">8</span><br/><span STYLE="height: 20px;">9</span><br/><span STYLE="height: 20px;">10</span><br/></pre></td><td STYLE="padding: 0px; padding: 8px; text-align: left; vertical-align: middle; font-weight: normal; border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: rgb(221, 221, 221); border-right-width: 1px; border-right-style: solid; border-right-color: rgb(238, 238, 238); border-bottom-width: 1px; border: none; padding: 0px;"><pre STYLE="overflow: auto; font-size: 14px; color: rgb(77, 77, 76); line-height: 1.6; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; border: none; margin: 0px; padding: 10px; width: 100%; background-color: rgb(247, 247, 247);"><span STYLE="height: 20px;">&lt;user id=&quot;phone1&quot;&gt;</span><br/><span STYLE="height: 20px;">  &lt;extension&gt;201&lt;/extension&gt;</span><br/><span STYLE="height: 20px;">  &lt;secret&gt;SecretSauce201&lt;/secret&gt;</span><br/><span STYLE="height: 20px;">  &lt;display&gt;Agent 201&lt;/display&gt;</span><br/><span STYLE="height: 20px;">&lt;/user&gt;</span><br/><span STYLE="height: 20px;">&lt;user id=&quot;phone2&quot;&gt;</span><br/><span STYLE="height: 20px;">  &lt;extension&gt;202&lt;/extension&gt;</span><br/><span STYLE="height: 20px;">  &lt;secret&gt;SecretSauce202&lt;/secret&gt;</span><br/><span STYLE="height: 20px;">  &lt;display&gt;Agent 202&lt;/display&gt;</span><br/><span STYLE="height: 20px;">&lt;/user&gt;</span><br/></pre></td></tr></tbody></table></div><p STYLE="margin: 0px 0px 20px;"></p>
<p STYLE="margin: 0px 0px 20px;">其中的 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">id</code> 表示注册用户登录时需要输入的用户名，<code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">&lt;secret&gt;</code> 表示登录时使用的密码。</p>
<p STYLE="margin: 0px 0px 20px;">找到 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">&lt;stack&gt;</code> 标签，并在其后添加如下一行配置，用于指定 VoIP 服务器的IP地址：<br/><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">&lt;localnames&gt;[Your Pi&apos;s IP address]&lt;/localnames&gt;</code></p>
<p STYLE="margin: 0px 0px 20px;">编辑完成后，重启 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">sipwitch</code> 服务：<br/><code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">$ sudo systemctl restart sipwitch</code></p>
<h5 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 10px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#3-%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%85%8D%E7%BD%AE" TITLE="3. 客户端配置"></a>3. 客户端配置</h5><p STYLE="margin: 0px 0px 20px;">Windows 系统&ldquo;软电话&rdquo;可使用 <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" REL="noopener" TARGET="_blank" HREF="https://www.microsip.org/downloads">MicroSIP</a> 软件，Android 客户端可使用 <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" REL="noopener" TARGET="_blank" HREF="https://play.google.com/store/apps/details?id=com.csipsimple">CSipSimple</a>，Mac 客户端有 <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" REL="noopener" TARGET="_blank" HREF="https://itunes.apple.com/cn/app/telephone/id406825478?l=en&mt=12">Telephone</a>。</p>
<p STYLE="margin: 0px 0px 20px;">使用 <code STYLE="font-family: monospace, monospace; font-size: 1em; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 2px 4px; word-wrap: break-word; color: rgb(85, 85, 85); background-color: rgb(238, 238, 238); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; background-position: initial initial; background-repeat: initial initial;">/etc/sipwitch.conf</code> 文件中定义的用户ID、密码以及服务器地址完成用户注册，各客户端之间即可直接拨打语音电话。<br/><img src="../_resources/54d5b00ad428de02c11857b4da30f69d.png"  style="border: 0px; display: block; margin: auto; max-width: 100%; height: auto; box-sizing: border-box; margin: auto; padding: 3px; border: 1px solid rgb(221, 221, 221); margin: 0px auto 25px;" alt="MicroSIP" hash="54d5b00ad428de02c11857b4da30f69d" type="image/png" /></en-media></p>
<h4 STYLE="padding: 10px 0px 0px; font-weight: bold; line-height: 1.5; font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; margin: 20px 0px 15px; font-size: 12px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99" TITLE="参考资料"></a>参考资料</h4><p STYLE="margin: 0px 0px 20px;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" REL="noopener" TARGET="_blank" HREF="https://www.amazon.com/dp/1786463547/ref=cm_sw_r_tw_dp_U_x_0ZjjCb6E0XBD8">Raspberry Pi for Secret Agents - Third Edition</a></p>

      
    </div>

    

    
    
    

    

    

    

    <div STYLE="display: block;">
      
        <div STYLE="margin-top: 40px; text-align: center;">
          
            <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; display: inline-block; margin-right: 10px; font-size: 13px;" REL="tag" HREF="https://rollingstarky.github.io/tags/Media/"># Media</a>
          
            <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; display: inline-block; margin-right: 10px; font-size: 13px;" REL="tag" HREF="https://rollingstarky.github.io/tags/Audio/"># Audio</a>
          
            <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; display: inline-block; margin-right: 10px; font-size: 13px;" REL="tag" HREF="https://rollingstarky.github.io/tags/Raspberrypi/"># Raspberrypi</a>
          
            <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; display: inline-block; margin-right: 10px; font-size: 13px;" REL="tag" HREF="https://rollingstarky.github.io/tags/SecretAgent/"># SecretAgent</a>
          
            <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; display: inline-block; margin-right: 10px; font-size: 13px;" REL="tag" HREF="https://rollingstarky.github.io/tags/sox/"># sox</a>
          
            <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; display: inline-block; margin-right: 10px; font-size: 13px;" REL="tag" HREF="https://rollingstarky.github.io/tags/VoIP/"># VoIP</a>
          
        </div>
      

      
      
      

      
        <div STYLE="display: table; margin-top: 15px; width: 100%; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(238, 238, 238);">
          <div STYLE="display: table-cell; padding: 10px 0px 0px; width: 45%; vertical-align: top;">
            
              <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; position: relative; display: block; line-height: 25px; font-size: 14px; color: rgb(85, 85, 85); border-bottom-style: none; padding-left: 15px;" TITLE="NodeMCU 开发板刷入 MicroPython 固件并通过 Atom 进行编程" REL="next" HREF="https://rollingstarky.github.io/2018/12/28/programming-esp8266-with-micropython/">
                <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; font-family: FontAwesome !important; position: absolute; top: 8px; left: 0px; font-size: 12px;"><span></span></i> NodeMCU 开发板刷入 MicroPython 固件并通过 Atom 进行编程
              </a>
            
          </div>

          <span STYLE="display: table-cell; width: 10%;"></span>

          <div STYLE="display: table-cell; padding: 10px 0px 0px; width: 45%; vertical-align: top; text-align: right;">
            
              <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; position: relative; display: block; line-height: 25px; font-size: 14px; color: rgb(85, 85, 85); border-bottom-style: none; padding-right: 15px;" TITLE="Arduino IDE 搭建 ESP8266 开发环境及项目演示" REL="prev" HREF="https://rollingstarky.github.io/2019/01/11/programming-esp8266-with-arduino-ide/">
                Arduino IDE 搭建 ESP8266 开发环境及项目演示 <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; font-family: FontAwesome !important; position: absolute; top: 8px; left: 0px; font-size: 12px; right: 0px; left: auto;"><span></span></i>
              </a>
            
          </div>
        </div>
      

      
      
    </div>
  </div>
  
  
  
  </div>



    <div STYLE="margin-top: 20px; text-align: center; margin-top: 20px; text-align: center;">
      
    </div>
  </div>


          </div>
          

  
    <div STYLE="margin: 60px 20px 0px; opacity: 0; overflow: hidden; opacity: 0.8944672605544571; display: block; transform: translate3d(0px, 0px, 0px);"><div STYLE="box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease; border: 1px solid rgb(240, 240, 240); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 10px; overflow: hidden; position: relative; padding: 10px;"><div STYLE="box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease;"></div><div STYLE="box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease; position: relative; padding-top: 10px;"><span STYLE="color: inherit; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; margin: 0px; overflow: auto; box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease; border: none; resize: none; outline: none; padding: 10px 5px; max-width: 100%; font-size: 0.775rem; width: 100%; min-height: 8.75rem; font-size: 0.875rem; background-color: transparent; resize: vertical; transition: all 0.25s ease; background-position: initial initial; background-repeat: initial initial;"></span><div STYLE="box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease; text-align: right; font-size: 12px;"><span STYLE="box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease; padding: 10px; display: inline-block; vertical-align: middle; cursor: pointer;">表情</span> | <span STYLE="box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease; padding: 10px; display: inline-block; vertical-align: middle; cursor: pointer;">预览</span></div></div><div STYLE="box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease; font-size: 0px; padding-top: 15px;"><div STYLE="box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease; display: inline-block; font-size: 0.725rem; vertical-align: middle; color: rgb(204, 204, 204); width: 20%;" TITLE="Markdown is supported"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease; position: relative; cursor: pointer; color: rgb(26, 188, 156); display: inline-block; text-decoration: none; color: rgb(85, 85, 85);" TARGET="_blank" HREF="https://segmentfault.com/markdown"><span STYLE="content: &quot;&quot;; position: absolute; width: 0px; right: 0px; bottom: 0px; height: 1px; background-color: rgb(26, 188, 156); transition: width 0.3s ease;"></span><div STYLE="box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease; overflow: hidden; margin-right: 2px; overflow: hidden; fill: currentcolor; vertical-align: middle;"><div STYLE="box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease;"></div></div></a></div><div STYLE="text-align: right; box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease; display: inline-block; font-size: 0.725rem; vertical-align: middle; color: rgb(204, 204, 204); text-align: right; width: 80%;"><span STYLE="font-family: inherit; font-style: inherit; font-variant-caps: inherit; font-stretch: inherit; margin: 0px; overflow: visible; text-transform: none; -webkit-appearance: button; box-sizing: border-box; transition: all 0.4s ease; text-align: center; color: rgb(49, 49, 49); border: 1px solid rgb(237, 237, 237); border-top-left-radius: 0.3rem; border-top-right-radius: 0.3rem; border-bottom-right-radius: 0.3rem; border-bottom-left-radius: 0.3rem; display: inline-block; background-color: rgb(237, 237, 237); font-weight: 400; vertical-align: middle; touch-action: manipulation; cursor: pointer; white-space: nowrap; padding: 0.5rem 1.25rem; font-size: 0.875rem; line-height: 1.42857143; outline: none;" TITLE="Cmd|Ctrl+Enter">回复</span></div></div></div><div STYLE="box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease; width: 100%;"></div><div STYLE="box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease; padding: 1.25rem; text-align: center; color: rgb(153, 153, 153); display: block;"><pre STYLE="overflow: auto; font-family: monospace, monospace; font-size: 1em; overflow: auto; margin: 20px 0px; padding: 0px; font-size: 14px; color: rgb(77, 77, 76); background-color: rgb(247, 247, 247); line-height: 1.6; background-position: initial initial; background-repeat: initial initial; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; padding: 10px; box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease; background-color: rgb(246, 246, 246); color: rgb(85, 85, 85); padding: 0.2em 0.4em; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 85%; margin: 0px; font-family: &quot;Source Code Pro&quot;, &quot;courier new&quot;, &quot;Input Mono&quot;, &quot;PT Mono&quot;, SFMono-Regular, Consolas, Monaco, Menlo, &quot;PingFang SC&quot;, &quot;Liberation Mono&quot;, &quot;Microsoft YaHei&quot;, Courier，monospace; padding: 10px; overflow: auto; line-height: 1.45; text-align: left;">Code -1: Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.</pre></div><div STYLE="box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease; text-align: center;"></div><div STYLE="box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease;"><div STYLE="box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease; color: rgb(153, 153, 153); padding: 0.5rem 0px; font-size: 0.75rem; text-align: right;">Powered By <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease; position: relative; cursor: pointer; color: rgb(26, 188, 156); display: inline-block; text-decoration: none; color: rgb(85, 85, 85); font-size: 0.75rem;" TARGET="_blank" HREF="https://valine.js.org/"><span STYLE="content: &quot;&quot;; position: absolute; width: 0px; right: 0px; bottom: 0px; height: 1px; background-color: rgb(26, 188, 156); transition: width 0.3s ease;"></span>Valine</a><br STYLE="box-sizing: border-box; line-height: 2; color: rgb(85, 85, 85); transition: all 0.3s ease;"/>v1.3.6</div></div></div>
  



        </div>
        
          
  
  <div STYLE="position: absolute; right: 414px; bottom: 11954px; width: 14px; height: 14px; padding: 5px; background-color: rgb(34, 34, 34); line-height: 0; z-index: 1050; cursor: pointer; transform: translateZ(0px); display: none !important;">
    <div>
      <span STYLE="position: relative; display: inline-block; vertical-align: top; height: 2px; width: 100%; background-color: rgb(255, 255, 255); margin-top: 3px; background-position: initial initial; background-repeat: initial initial; margin-top: 0px; background-color: rgb(135, 218, 255); background-position: initial initial; background-repeat: initial initial;"></span>
      <span STYLE="position: relative; display: inline-block; vertical-align: top; height: 2px; width: 100%; background-color: rgb(255, 255, 255); margin-top: 3px; background-position: initial initial; background-repeat: initial initial; background-color: rgb(135, 218, 255); background-position: initial initial; background-repeat: initial initial;"></span>
      <span STYLE="position: relative; display: inline-block; vertical-align: top; height: 2px; width: 100%; background-color: rgb(255, 255, 255); margin-top: 3px; background-position: initial initial; background-repeat: initial initial; background-color: rgb(135, 218, 255); background-position: initial initial; background-repeat: initial initial;"></span>
    </div>
  </div>

  <div STYLE="position: absolute; right: 414px; top: -265px; bottom: 11954px; width: 0px; z-index: 1040; box-shadow: rgb(0, 0, 0) 0px 2px 6px inset; background-color: rgb(34, 34, 34); transform: translateZ(0px); display: none !important;">
    
    <div STYLE="position: relative; padding: 20px 10px; color: rgb(153, 153, 153); text-align: center;">

      

      
        <ul STYLE="margin: 0px 0px 20px; padding-left: 0px; opacity: 0;">
          <li STYLE="display: inline-block; cursor: pointer; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: transparent; font-size: 14px; color: rgb(85, 85, 85); padding: 0px 5px; color: rgb(135, 218, 255); border-bottom-color: rgb(135, 218, 255);">
            文章目录
          </li>
          <li STYLE="display: inline-block; cursor: pointer; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: transparent; font-size: 14px; color: rgb(85, 85, 85); margin-left: 10px;">
            站点概览
          </li>
        </ul>
      

      <div STYLE="display: block; overflow: hidden; display: none;">
        <div STYLE="overflow-y: auto; overflow-x: hidden; max-height: 686px;">
          <div STYLE="opacity: 0;">
            
              <img src="../_resources/d7fba26ba64d16c9387b536f1bf549f1.png"  style="border: 0px; display: block; margin: auto; max-width: 100%; height: auto; display: block; margin: 0px auto; padding: 2px; max-width: 96px; height: auto; border: 2px solid rgb(51, 51, 51);" alt="星舞" hash="d7fba26ba64d16c9387b536f1bf549f1" type="image/png" /></en-media>
            
              <p STYLE="margin: 0px 0px 20px; margin: 5px 0px 0px; text-align: center; color: rgb(245, 245, 245); font-weight: normal;">星舞</p>
              <p STYLE="margin: 5px 0px 20px; text-align: center; font-size: 14px; color: rgb(153, 153, 153); opacity: 0;">Personal blogs about Linux / System Administration / Arduino / Programming / Python and etc. Just something I want to do and share.</p>
          </div>

          
            <div STYLE="display: block; overflow: hidden; line-height: 1.4; white-space: nowrap; text-align: center; opacity: 0;">
              
                <div STYLE="display: inline-block; padding: 0px 15px; border-left-width: 1px; border-left-style: solid; border-left-color: rgb(51, 51, 51); border-left-style: none;">
                
                  <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); border-bottom-style: none;" HREF="https://rollingstarky.github.io/archives/">
                
                    <span STYLE="display: block; text-align: center; color: inherit; font-weight: 600; font-size: 18px;">54</span>
                    <span STYLE="font-size: 13px; color: inherit;">日志</span>
                  </a>
                </div>
              

              
                
                
                <div STYLE="display: inline-block; padding: 0px 15px; border-left-width: 1px; border-left-style: solid; border-left-color: rgb(51, 51, 51);">
                  <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); border-bottom-style: none;" HREF="https://rollingstarky.github.io/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span STYLE="display: block; text-align: center; color: inherit; font-weight: 600; font-size: 18px;">13</span>
                    <span STYLE="font-size: 13px; color: inherit;">分类</span>
                  </a>
                </div>
              

              
                
                
                <div STYLE="display: inline-block; padding: 0px 15px; border-left-width: 1px; border-left-style: solid; border-left-color: rgb(51, 51, 51);">
                  <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); border-bottom-style: none;" HREF="https://rollingstarky.github.io/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span STYLE="display: block; text-align: center; color: inherit; font-weight: 600; font-size: 18px;">72</span>
                    <span STYLE="font-size: 13px; color: inherit;">标签</span>
                  </a>
                </div>
              
            </div>
          

          
            <div STYLE="margin-top: 20px; opacity: 0;">
              <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); display: inline-block; padding: 0px 15px; color: rgb(252, 100, 35); border: 1px solid rgb(252, 100, 35); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;" REL="alternate" HREF="https://rollingstarky.github.io/atom.xml">
                <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; font-family: FontAwesome !important; color: rgb(252, 100, 35); font-size: 14px;"><span></span></i>
                RSS
              </a>
            </div>
          

          
            <div STYLE="margin-top: 20px; opacity: 0;">
              
                <span>
                  <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); display: inline-block; vertical-align: middle; margin-right: 10px; margin-bottom: 10px; border-bottom-color: rgb(85, 85, 85); font-size: 13px;" TITLE="GitHub" HREF="https://github.com/rollingstarky" TARGET="_blank"><span STYLE="display: inline-block; vertical-align: middle; margin-right: 3px; content: &quot; &quot;; width: 4px; height: 4px; border-top-left-radius: 50%; border-top-right-radius: 50%; border-bottom-right-radius: 50%; border-bottom-left-radius: 50%; background-color: rgb(247, 124, 255);"></span><i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; width: 1.28571429em; text-align: center; font-family: FontAwesome !important;"><span></span></i>GitHub</a>
                  
                </span>
              
                <span>
                  <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); display: inline-block; vertical-align: middle; margin-right: 10px; margin-bottom: 10px; border-bottom-color: rgb(85, 85, 85); font-size: 13px;" TITLE="E-Mail" HREF="mailto:rollingstars380@gmail.com" TARGET="_blank"><span STYLE="display: inline-block; vertical-align: middle; margin-right: 3px; content: &quot; &quot;; width: 4px; height: 4px; border-top-left-radius: 50%; border-top-right-radius: 50%; border-bottom-right-radius: 50%; border-bottom-left-radius: 50%; background-color: rgb(247, 124, 255);"></span><i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; width: 1.28571429em; text-align: center; font-family: FontAwesome !important;"><span></span></i>E-Mail</a>
                  
                </span>
              
                <span>
                  <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); display: inline-block; vertical-align: middle; margin-right: 10px; margin-bottom: 10px; border-bottom-color: rgb(85, 85, 85); font-size: 13px;" TITLE="Google" HREF="https://plus.google.com/rollingstarky" TARGET="_blank"><span STYLE="display: inline-block; vertical-align: middle; margin-right: 3px; content: &quot; &quot;; width: 4px; height: 4px; border-top-left-radius: 50%; border-top-right-radius: 50%; border-bottom-right-radius: 50%; border-bottom-left-radius: 50%; background-color: rgb(247, 124, 255);"></span><i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; width: 1.28571429em; text-align: center; font-family: FontAwesome !important;"><span></span></i>Google</a>
                  
                </span>
              
                <span>
                  <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); display: inline-block; vertical-align: middle; margin-right: 10px; margin-bottom: 10px; border-bottom-color: rgb(85, 85, 85); font-size: 13px;" TITLE="Twitter" HREF="https://twitter.com/rollingstarky" TARGET="_blank"><span STYLE="display: inline-block; vertical-align: middle; margin-right: 3px; content: &quot; &quot;; width: 4px; height: 4px; border-top-left-radius: 50%; border-top-right-radius: 50%; border-bottom-right-radius: 50%; border-bottom-left-radius: 50%; background-color: rgb(247, 124, 255);"></span><i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; width: 1.28571429em; text-align: center; font-family: FontAwesome !important;"><span></span></i>Twitter</a>
                  
                </span>
              
                <span>
                  <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); display: inline-block; vertical-align: middle; margin-right: 10px; margin-bottom: 10px; border-bottom-color: rgb(85, 85, 85); font-size: 13px;" TITLE="FB Page" HREF="https://www.facebook.com/rollingstarky" TARGET="_blank"><span STYLE="display: inline-block; vertical-align: middle; margin-right: 3px; content: &quot; &quot;; width: 4px; height: 4px; border-top-left-radius: 50%; border-top-right-radius: 50%; border-bottom-right-radius: 50%; border-bottom-left-radius: 50%; background-color: rgb(247, 124, 255);"></span><i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; width: 1.28571429em; text-align: center; font-family: FontAwesome !important;"><span></span></i>FB Page</a>
                  
                </span>
              
                <span>
                  <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); display: inline-block; vertical-align: middle; margin-right: 10px; margin-bottom: 10px; border-bottom-color: rgb(85, 85, 85); font-size: 13px;" TITLE="Instagram" HREF="https://instagram.com/rollingstarky" TARGET="_blank"><span STYLE="display: inline-block; vertical-align: middle; margin-right: 3px; content: &quot; &quot;; width: 4px; height: 4px; border-top-left-radius: 50%; border-top-right-radius: 50%; border-bottom-right-radius: 50%; border-bottom-left-radius: 50%; background-color: rgb(247, 124, 255);"></span><i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; width: 1.28571429em; text-align: center; font-family: FontAwesome !important;"><span></span></i>Instagram</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </div>

      
      
        <div STYLE="display: block; display: none; display: block; overflow: hidden; opacity: 0;">
          <div STYLE="overflow: auto; max-height: 686px;">

            
              
            

            
              <div><ol STYLE="margin: 0px; padding: 0px 2px 5px 10px; text-align: left; list-style: none; font-size: 14px;"><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#%E4%B8%80%E3%80%81%E9%9F%B3%E9%A2%91%E7%B3%BB%E7%BB%9F%E7%AE%80%E5%8D%95%E9%85%8D%E7%BD%AE"><span>1.</span> <span>一、音频系统简单配置</span></a><ol STYLE="margin: 0px; padding: 0px 2px 5px 10px; text-align: left; list-style: none; font-size: 14px; display: none;"><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#1-ALSA"><span>1.1.</span> <span>1. ALSA</span></a></li><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#2-%E8%B0%83%E8%8A%82%E9%9F%B3%E9%87%8F%E5%A4%A7%E5%B0%8F"><span>1.2.</span> <span>2. 调节音量大小</span></a></li><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#3-%E5%88%87%E6%8D%A2%E9%9F%B3%E9%A2%91%E8%BE%93%E5%87%BA"><span>1.3.</span> <span>3. 切换音频输出</span></a></li><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#4-%E6%92%AD%E6%94%BE%E6%B5%8B%E8%AF%95"><span>1.4.</span> <span>4. 播放测试</span></a></li></ol></li><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#%E4%BA%8C%E3%80%81%E9%9F%B3%E9%A2%91%E5%BD%95%E5%88%B6%E8%AE%BE%E5%A4%87"><span>2.</span> <span>二、音频录制设备</span></a><ol STYLE="margin: 0px; padding: 0px 2px 5px 10px; text-align: left; list-style: none; font-size: 14px; display: none;"><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#1-USB%E5%A3%B0%E5%8D%A1"><span>2.1.</span> <span>1. USB声卡</span></a></li><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#2-%E9%BA%A6%E5%85%8B%E9%A3%8E%E6%B5%8B%E8%AF%95"><span>2.2.</span> <span>2. 麦克风测试</span></a></li><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#3-%E5%88%87%E6%8D%A2%E9%BB%98%E8%AE%A4%E7%9A%84%E9%9F%B3%E9%A2%91%E8%AE%BE%E5%A4%87"><span>2.3.</span> <span>3. 切换默认的音频设备</span></a></li><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#4-%E5%BD%95%E5%88%B6%E4%B8%8E%E6%92%AD%E6%94%BE"><span>2.4.</span> <span>4. 录制与播放</span></a></li></ol></li><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#%E4%B8%89%E3%80%81%E8%BF%9C%E7%A8%8B%E7%9B%91%E5%90%AC"><span>3.</span> <span>三、远程监听</span></a></li><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#%E5%9B%9B%E3%80%81%E8%93%9D%E7%89%99%E8%80%B3%E6%9C%BA"><span>4.</span> <span>四、蓝牙耳机</span></a><ol STYLE="margin: 0px; padding: 0px 2px 5px 10px; text-align: left; list-style: none; font-size: 14px; display: none;"><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#1-%E4%BD%BF%E7%94%A8-hciconfig-%E5%91%BD%E4%BB%A4%E8%8E%B7%E5%8F%96%E8%93%9D%E7%89%99%E6%A8%A1%E5%9D%97%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF%EF%BC%9A"><span>4.1.</span> <span>1. 使用 hciconfig 命令获取蓝牙模块的相关信息：</span></a></li><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#2-%E4%BD%BF%E7%94%A8-hcitool-scan-%E5%91%BD%E4%BB%A4%E6%89%AB%E6%8F%8F%E9%99%84%E8%BF%91%E5%8F%AF%E4%BE%9B%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%93%9D%E7%89%99%E8%AE%BE%E5%A4%87%EF%BC%8C%E5%B9%B6%E8%AE%B0%E4%B8%8B%E8%93%9D%E7%89%99%E8%80%B3%E6%9C%BA%E5%AF%B9%E5%BA%94%E7%9A%84-MAC-%E5%9C%B0%E5%9D%80"><span>4.2.</span> <span>2. 使用 hcitool scan 命令扫描附近可供连接的蓝牙设备，并记下蓝牙耳机对应的 MAC 地址</span></a></li><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#3-%E9%80%9A%E8%BF%87-MAC-%E5%9C%B0%E5%9D%80%E4%B8%8E%E8%93%9D%E7%89%99%E8%80%B3%E6%9C%BA%E8%BF%9B%E8%A1%8C%E9%85%8D%E5%AF%B9"><span>4.3.</span> <span>3. 通过 MAC 地址与蓝牙耳机进行配对</span></a></li><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#4-%E5%B0%86%E9%9F%B3%E9%A2%91%E8%BE%93%E5%87%BA%E8%AE%BE%E5%A4%87%E5%88%87%E6%8D%A2%E4%B8%BA%E8%93%9D%E7%89%99%E8%80%B3%E6%9C%BA"><span>4.4.</span> <span>4. 将音频输出设备切换为蓝牙耳机</span></a></li><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#5-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span>4.5.</span> <span>5. 注意事项</span></a></li></ol></li><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#%E4%BA%94%E3%80%81%E9%85%8D%E7%BD%AE-VoIP-%E6%9C%8D%E5%8A%A1%E5%99%A8"><span>5.</span> <span>五、配置 VoIP 服务器</span></a><ol STYLE="margin: 0px; padding: 0px 2px 5px 10px; text-align: left; list-style: none; font-size: 14px; display: none;"><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#1-%E5%AE%89%E8%A3%85-SIP-Witch"><span>5.1.</span> <span>1. 安装 SIP Witch</span></a></li><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#2-%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span>5.2.</span> <span>2. 编辑配置文件</span></a></li><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#3-%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%85%8D%E7%BD%AE"><span>5.3.</span> <span>3. 客户端配置</span></a></li></ol></li><li STYLE="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 1.8;"><a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85); transition: all 0.2s ease-in-out 0s; color: rgb(153, 153, 153); border-bottom-color: rgb(85, 85, 85);" HREF="https://rollingstarky.github.io/2019/01/06/raspberry-pi-audio-configuration-and-applications/#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span>6.</span> <span>参考资料</span></a></li></ol></div>
            

          </div>
        </div>
      
      

      

    </div>
  </div>


        
      </div>
    </div>

    <div STYLE="display: block; position: absolute; left: 0px; bottom: 0px; width: 100%; min-height: 50px; font-size: 14px; color: rgb(153, 153, 153);">
      <div STYLE="box-sizing: border-box; margin: 20px auto; width: 700px; text-align: center; width: auto;">
        <div>&copy; <span>2019</span>
  <span STYLE="display: inline-block; margin: 0px 5px;">
    <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; font-family: FontAwesome !important;"><span></span></i>
  </span>
  <span>星舞</span>

  
    <span STYLE="margin: 0px 0.5em;">|</span>
    <span STYLE="margin-right: 3px; display: inline-block;">
      <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; font-family: FontAwesome !important;"><span></span></i>
    </span>
    
    <span TITLE="站点总字数">292k</span>
  

  
    <span STYLE="margin: 0px 0.5em;">|</span>
    <span STYLE="margin-right: 3px; display: inline-block;">
      <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; font-family: FontAwesome !important;"><span></span></i>
    </span>
    
    <span TITLE="站点总阅读时长">4:52</span>
  
</div>




  <div STYLE="display: inline-block;">由 <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" TARGET="_blank" HREF="https://hexo.io/">Hexo</a> 强力驱动</div>



  <span STYLE="margin: 0px 0.5em;">|</span>



  <div STYLE="display: inline-block;">主题 &mdash; <a STYLE="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; outline: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;" TARGET="_blank" HREF="https://github.com/theme-next/hexo-theme-next">NexT.Muse</a> v6.0.5</div>




        








        
      </div>
    </div>

    
      <div STYLE="box-sizing: border-box; position: absolute; bottom: 12104px; right: 414px; z-index: 1050; padding: 0px 6px; width: 24px; background-color: rgb(34, 34, 34); font-size: 12px; opacity: 1; color: rgb(255, 255, 255); cursor: pointer; text-align: center; transform: translateZ(0px); transition: bottom 0.2s ease-in-out 0s; display: none !important;">
        <i STYLE="display: inline-block; font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; font-family: FontAwesome !important;"><span></span></i>
        
      </div>
    

    

  </div>

  




























  
  
    
  

  
  
    
  

  
  
    
  


  


  

  



  
  

  
  




  


  



  



&Tab;





  





  








  
  
  
  
  
  



  

  





  

  
  
  
  



  

  

  

  
  

  

  

  

  



</div>
</en-note>      