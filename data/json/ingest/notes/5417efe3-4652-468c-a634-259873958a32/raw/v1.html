---
title: flask 学习笔记
updated: 2022-10-30 21:12:10Z
created: 2022-10-30 20:32:31Z
---


<en-note><ul><li><div>运行前</div></li><ul><li><div>设定环境变量</div></li><li><div>Windows</div></li></ul></ul><div STYLE="--en-codeblock:true;box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>$env:FLASK_APP = &quot;hello.py&quot;</div><div>$env:FLASK_DEBUG=1</div><div>flask run</div></div><ul STYLE="--en-todo:true;"><ul><li><div>linux mac </div></li></ul></ul><div STYLE="--en-codeblock:true;box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>export FLASK_APP=&apos;hello.py&apos;</div></div><ul><li><div>注册和返回框架</div></li><ul><li><div>使用装饰器将自己的的路由注册在系统里</div></li><li><div>返回值可以在对应的路由后注明</div></li><li><div><br/></div></li></ul></ul><div STYLE="--en-codeblock:true;box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>@app.route(&apos;/&apos;)</div><div>def index()：</div><div>&nbsp; &nbsp; return &apos;&lt;h1&gt;hello&lt;/h1&gt;&apos;,404</div><div><br/></div><div>#注意，上述函数将返回值定位404，在浏览器的页面中查看细节，可以发现收到了一个404错误，虽然页面正常显示.</div></div><ul><li><div>相应</div></li><ul><li><div>实现 </div></li></ul></ul><div STYLE="--en-codeblock:true;box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>from flask import make_response</div></div><ul><ul><li><div>Flask响应对象 属性或方法 说明</div></li><ul><li><div> status_code HTTP 数字状态码 </div></li><li><div>headers 一个类似字典的对象，包含随响应发送的所有首部 </div></li><li><div>set_cookie() 为响应添加一个 </div></li><li><div>cookie delete_cookie() 删除一个 cookie </div></li><li><div>content_length 响应主体的长度 </div></li><li><div>content_type 响应主体的媒体类型 </div></li><li><div>set_data() 使用字符串或字节值设定响应 </div></li><li><div>get_data() 获取响应主体</div></li></ul><li><div>redirect</div></li><ul><li><div>可以快速高效的将连接传递给指定的链接里</div></li></ul></ul></ul><div STYLE="--en-codeblock:true;box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>@app.route(&apos;/redirect/&apos;)</div><div>def redir():</div><div>&nbsp; &nbsp; return redirect(&apos;/page_come_here/&apos;)</div></div><ul><ul><li><div>abort</div></li><ul><li><div>在条件出现后抛出异常</div></li></ul></ul></ul><div STYLE="--en-codeblock:true;box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>@app.route(&apos;/find/&lt;user_name&gt;&apos;)</div><div>def find(user_name):</div><div>&nbsp; &nbsp; if user_name==&apos;tangyongfeng&apos;:</div><div>&nbsp; &nbsp; &nbsp; &nbsp; abort(404)</div><div>&nbsp; &nbsp; else:</div><div>&nbsp; &nbsp; &nbsp; &nbsp; return &apos;&lt;h1&gt; hello {}&lt;/h1&gt;&apos;.format(user_name)</div></div><div><br/></div></en-note>      