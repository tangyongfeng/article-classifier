{
  "ingest_source": {
    "id": "4b938085-e630-430f-a49f-1f61b0d41ddf",
    "source_type": "evernote_html",
    "source_path": "/Users/tang/workbench/article-classifier/backups/2023年6月/IT技术/python readline()逐行读,怎么判断已到末尾_ - SegmentFault 思否.html",
    "collected_at": "2025-11-09T20:05:14.176476Z",
    "external_id": null,
    "title_hint": null,
    "language_hint": "en",
    "captured_at": null,
    "checksum": "e33636800988dfd2880349ebac10ebf942cac23c6981fc96db107a536d8efa86",
    "status": "pending",
    "notes": {
      "batch_id": null
    }
  },
  "note": {
    "id": "21308c18-5e04-4786-8cc8-7b31ae923e11",
    "ingest_source_id": "4b938085-e630-430f-a49f-1f61b0d41ddf",
    "canonical_title": "python readline()逐行读,怎么判断已到末尾_ - SegmentFault 思否",
    "language": "en",
    "ingested_at": "2025-11-09T20:05:14.176480Z",
    "created_at": null,
    "status": "active",
    "importance": 0,
    "attributes": {
      "source_filename": "python readline()逐行读,怎么判断已到末尾_ - SegmentFault 思否.html"
    }
  },
  "variants": [
    {
      "id": "805ee872-0910-49e6-b031-2484bdabcfbc",
      "note_id": "21308c18-5e04-4786-8cc8-7b31ae923e11",
      "variant_type": "raw_html",
      "version": 1,
      "created_by": "evernote_ingest:v0",
      "created_at": "2025-11-09T20:05:14.176483Z",
      "content": "---\ntitle: python readline()逐行读,怎么判断已到末尾? - SegmentFault 思否\nupdated: 2019-02-16 07:54:02Z\ncreated: 2019-02-16 07:54:02Z\nsource: https://segmentfault.com/q/1010000006788420\n---\n\n\n<en-note>\n  <div>\n<div><br/></div><div STYLE=\"font-size: 16px; display:block; min-width: 100%; \"> <div STYLE=\"background-color:transparent;font:inherit;vertical-align:baseline;\"><div STYLE=\"background-color:transparent;font:inherit;vertical-align:baseline;font-family:&quot;PT Serif&quot;;font-size:16px;line-height:1.5em;color:rgb(31, 9, 9);text-align:left;\"><div STYLE=\"margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;\"><div STYLE=\"z-index:200;padding-left:2em;padding-right:2em;margin-left:auto;margin-right:auto;position:relative;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:36em;\"><div STYLE=\"position:relative;margin-left:-25px;margin-right:25px;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;\"><div STYLE=\"position:relative;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;padding-top:4.5em;padding-bottom:9em;\"><div STYLE=\"margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;\"><div STYLE=\"margin-bottom:0px;position:relative;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;\"><div STYLE=\"margin-bottom:0px;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;\"><div STYLE=\"margin-bottom:0px;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;\"><h1 STYLE=\"padding:0px;margin:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:normal;font-size:35px;line-height:35px;margin-bottom:20px;font-family:&quot;PT Serif&quot;;text-align:left;\">python readline()逐行读,怎么判断已到末尾?</h1><div STYLE=\"margin-bottom:0px;position:relative;margin:0px;height:1em;line-height:1;text-align:center;padding:0px;border:0px;font:inherit;vertical-align:baseline;padding-top:1.5em;padding-bottom:1.5em;\"><div STYLE=\"margin-bottom:0px;position:absolute;left:-4em;top:50%;z-index:10;width:100%;padding-left:4em;padding-right:4em;height:0.1em;margin:0px;opacity:0.5;padding:0px;border:0px;font:inherit;vertical-align:baseline;background:-webkit-linear-gradient(0deg, rgb(243, 242, 238) 1%, rgb(31, 9, 9) 50%, rgb(243, 242, 238) 99%);\"><span STYLE=\"font:inherit;position:absolute;left:-4em;top:50%;z-index:10;width:100%;padding-left:4em;padding-right:4em;height:0.1em;margin:0px;opacity:0.5;background:-webkit-linear-gradient(0deg, rgb(243, 242, 238) 1%, rgb(31, 9, 9) 50%, rgb(243, 242, 238) 99%);\"></span></div></div></div>\n                                    \n<blockquote STYLE=\"margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;quotes:none;margin-bottom:1.5em;font-style:italic;border-left:5px solid;margin-left:2em;padding-left:1em;\"><span STYLE=\"font:inherit;quotes:none;font-style:italic;\"></span><p STYLE=\"margin-bottom:0px;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;\">两种方法:</p><span STYLE=\"font:inherit;quotes:none;font-style:italic;\"></span></blockquote>\n<h3 STYLE=\"margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:normal;font-size:30px;line-height:35px;margin-top:35px;margin-bottom:15px;font-family:&quot;PT Serif&quot;;text-align:left;\">1. for ... in ...</h3>\n<pre STYLE=\"width:auto;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:0.875em;line-height:1.71429em;background-color:rgb(243, 242, 238);font-family:Inconsolata;\"><code STYLE=\"margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:1.15em;line-height:1.71429em;font-family:Inconsolata;\">with open(&quot;file&quot;) as fh:\n    for line in fh:\n        print(line.strip())</code></pre>\n<h3 STYLE=\"margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:normal;font-size:30px;line-height:35px;margin-top:35px;margin-bottom:15px;font-family:&quot;PT Serif&quot;;text-align:left;\">2. while fh.readline():</h3>\n<pre STYLE=\"width:auto;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:0.875em;line-height:1.71429em;background-color:rgb(243, 242, 238);font-family:Inconsolata;\"><code STYLE=\"margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:1.15em;line-height:1.71429em;font-family:Inconsolata;\">with open(&quot;file&quot;) as fh:\n    line = fh.readline()\n    while line:\n        print(line.strip())\n        line = fh.readline()</code></pre>\n<blockquote STYLE=\"margin-bottom:0px;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;quotes:none;font-style:italic;border-left:5px solid;margin-left:2em;padding-left:1em;\"><span STYLE=\"font:inherit;quotes:none;font-style:italic;\"></span><p STYLE=\"margin-bottom:0px;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;\">最简洁优雅又高效的自然是第一种, 如果题主非要用<code STYLE=\"margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:0.875em;line-height:1.71429em;font-family:Inconsolata;\">readline()</code>, 则可以使用第二种, <code STYLE=\"margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:0.875em;line-height:1.71429em;font-family:Inconsolata;\">while</code>循环, 读到最后一行没有内容会退出循环, 中间有空行不要紧, 空行不等于结尾(<code STYLE=\"margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:0.875em;line-height:1.71429em;font-family:Inconsolata;\">\\n != EOF</code>)</p><span STYLE=\"font:inherit;quotes:none;font-style:italic;\"></span></blockquote>\n\n                            </div></div></div><div STYLE=\"position:absolute;top:-1000px;left:-1000px;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;\">Measure</div><div STYLE=\"margin-bottom:0px;position:absolute;top:-1000px;left:-1000px;line-height:1;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;\">Measure</div></div></div></div></div></div></div></div>\n</div>\n</en-note>      ",
      "content_path": null,
      "diff_base_variant_id": null,
      "metadata": {
        "checksum": "e33636800988dfd2880349ebac10ebf942cac23c6981fc96db107a536d8efa86",
        "path": "/Users/tang/workbench/article-classifier/backups/2023年6月/IT技术/python readline()逐行读,怎么判断已到末尾_ - SegmentFault 思否.html"
      }
    },
    {
      "id": "9e42fb33-dc25-4aa4-85d9-31945222dce3",
      "note_id": "21308c18-5e04-4786-8cc8-7b31ae923e11",
      "variant_type": "clean_text",
      "version": 1,
      "created_by": "evernote_ingest:v0",
      "created_at": "2025-11-09T20:05:14.176485Z",
      "content": "---\ntitle: python readline()逐行读,怎么判断已到末尾? - SegmentFault 思否\nupdated: 2019-02-16 07:54:02Z\ncreated: 2019-02-16 07:54:02Z\nsource: https://segmentfault.com/q/1010000006788420\n---\n\npython readline()逐行读,怎么判断已到末尾?\n\n两种方法:\n\n1. for ... in ...\n\nwith open(\"file\") as fh:\n    for line in fh:\n        print(line.strip())\n\n2. while fh.readline():\n\nwith open(\"file\") as fh:\n    line = fh.readline()\n    while line:\n        print(line.strip())\n        line = fh.readline()\n\n最简洁优雅又高效的自然是第一种, 如果题主非要用\nreadline()\n, 则可以使用第二种,\nwhile\n循环, 读到最后一行没有内容会退出循环, 中间有空行不要紧, 空行不等于结尾(\n\\n != EOF\n)\n\nMeasure",
      "content_path": null,
      "diff_base_variant_id": null,
      "metadata": {
        "language": "en",
        "length": 572,
        "rule_count": 2,
        "applied_rules": [
          {
            "rule_id": "dedupe_lines",
            "description": "Collapse adjacent duplicate lines",
            "note": "collapsed duplicate adjacent lines"
          },
          {
            "rule_id": "whitespace",
            "description": "Normalize whitespace",
            "note": "collapsed whitespace"
          }
        ]
      }
    }
  ],
  "extractions": [],
  "journal": {
    "id": "36b0e841-e673-4243-abf0-38b93741cfb4",
    "note_id": "21308c18-5e04-4786-8cc8-7b31ae923e11",
    "stage": "ingest",
    "agent_id": "evernote_ingest:v0",
    "started_at": "2025-11-09T20:05:14.176490Z",
    "finished_at": "2025-11-09T20:05:14.176491Z",
    "status": "success",
    "input_ref": {
      "task_id": "541691d8-20bc-4ae7-97b3-9e09ec4686e6",
      "source_path": "/Users/tang/workbench/article-classifier/backups/2023年6月/IT技术/python readline()逐行读,怎么判断已到末尾_ - SegmentFault 思否.html",
      "checksum": "e33636800988dfd2880349ebac10ebf942cac23c6981fc96db107a536d8efa86"
    },
    "output_ref": {
      "ingest_source": "4b938085-e630-430f-a49f-1f61b0d41ddf",
      "note": "21308c18-5e04-4786-8cc8-7b31ae923e11",
      "variants": [
        "805ee872-0910-49e6-b031-2484bdabcfbc",
        "9e42fb33-dc25-4aa4-85d9-31945222dce3"
      ]
    },
    "error_detail": null
  }
}