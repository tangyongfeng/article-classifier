---
title: 刷固件Layer1到手机FLASH(硬刷) - K1two2 - 博客园
updated: 2016-04-02 16:48:56Z
created: 2016-04-02 16:48:56Z
source: >-
  http://cncc.bingj.com/cache.aspx?q=Running+on+compal_e88+in+environment+compalramFound+flash+of+2097152+bytes+at+0x0+with+2+regions&d=4937225371715362&mkt=zh-CN&setlang=en-US&w=-fD7V2dqldTFMLTIUpOC8XTzqptTKFPE
---



<en-note><div STYLE="position:relative;"><div STYLE="margin-bottom:20px;"><p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><span STYLE="font-size:18px;"><strong>开头：</strong></span></p>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;">注意：本文章并不是做GSM 嗅探必须的，平时我们刷机叫软刷是刷到内存里面的，断电就消失了，这个是硬刷，刷到<b STYLE="color:rgb(255, 255, 255);background-color:rgb(153, 102, 0);">flash</b>里面的，断电不消失，开机就运行的。</p>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;">本文章经过作者实测可行，这只是单个应用程序，官方还有多个应用程序菜单</p>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;">这篇教程解释了怎样把应用程序刷到C118手机里面。你一定要仔细的阅读每一个细节，否则你的手机可能会变砖。即使你遵循本教程,您可能也会变砖，如果你遇到电缆问题,弱电池或软件故障，目前firmare还不支持电池充电功能。</p>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><strong>总共需要三部分：</strong></p>
<ol STYLE="margin-block-start:;margin-block-end:;padding-inline-start:;">
<li>原bootloader，第一次刷我就把这个清空了，直接成砖了</li>
<li>osmocom loader,这个是osmocom的loader</li>
<li>应用程序，这个可以是rssi，layer1 如果没有bootloader，手机就成砖了</li>
</ol>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><strong>内存布局：</strong></p>
<ul STYLE="margin-block-start:;margin-block-end:;padding-inline-start:;">
<li STYLE="list-style-type:disc;">0x000000-0x00ffff: <b STYLE="color:rgb(255, 255, 255);background-color:rgb(153, 102, 0);">Flash</b> page 0</li>
<li STYLE="list-style-type:disc;">0x010000-0x01ffff: <b STYLE="color:rgb(255, 255, 255);background-color:rgb(153, 102, 0);">Flash</b> page 1</li>
<li STYLE="list-style-type:disc;">&hellip; more <b STYLE="color:rgb(255, 255, 255);background-color:rgb(153, 102, 0);">Flash</b> pages &hellip;</li>
<li STYLE="list-style-type:disc;">0x800000-0x83ffff: Ram</li>
</ul>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><strong>osmocom <b STYLE="font-weight:900;color:rgb(255, 255, 255);background-color:rgb(153, 102, 0);">flash</b> 布局：</strong></p>
<ul STYLE="margin-block-start:;margin-block-end:;padding-inline-start:;">
<li STYLE="list-style-type:disc;">0x000000-0x001fff: <b STYLE="background-color:rgb(255, 204, 153);">Compal</b> loader</li>
<li STYLE="list-style-type:disc;">0x002000-0x00ffff: OSMOCOM loader</li>
<li STYLE="list-style-type:disc;">0x010000-&hellip;&hellip;..: OSMOCOM application and storage</li>
</ul>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><span STYLE="color:rgb(255, 0, 0);">注意:C118 bootloader和OSMOCOM loader将位于同一<b STYLE="color:rgb(255, 255, 255);background-color:rgb(153, 102, 0);">flash</b>页面!</span></p>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><span STYLE="font-size:18px;"><strong>准备工作</strong></span></p>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><strong>解锁 Osmocom loader 的<b STYLE="font-weight:900;color:rgb(255, 255, 255);background-color:rgb(153, 102, 0);">flash</b> write:</strong></p>
<div STYLE="background-color:rgb(245, 245, 245);font-family:Courier New;font-size:12px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-top:5px;padding-bottom:5px;overflow-x:auto;overflow-y:auto;margin-top:5px;margin-bottom:5px;">
<pre STYLE="font-family:Courier New;white-space:pre-wrap;margin-block-start:;margin-block-end:;margin-top:0px;margin-bottom:0px;word-wrap:break-word;">$ cd src/target/firmware/<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">
$ edit Makefile</span></pre>
</div>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><strong>开启下面的编译选项:</strong></p>
<div STYLE="background-color:rgb(245, 245, 245);font-family:Courier New;font-size:12px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-top:5px;padding-bottom:5px;overflow-x:auto;overflow-y:auto;margin-top:5px;margin-bottom:5px;">
<pre STYLE="font-family:Courier New;white-space:pre-wrap;margin-block-start:;margin-block-end:;margin-top:0px;margin-bottom:0px;word-wrap:break-word;">CFLAGS += -<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">DCONFIG_<b STYLE="color:rgb(255, 255, 255);background-color:rgb(153, 102, 0);">FLASH</b>_WRITE
CFLAGS </span>+= -DCONFIG_<b STYLE="color:rgb(255, 255, 255);background-color:rgb(153, 102, 0);">FLASH</b>_WRITE_LOADER</pre>
</div>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><strong>更改loader</strong></p>
<div STYLE="background-color:rgb(245, 245, 245);font-family:Courier New;font-size:12px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-top:5px;padding-bottom:5px;overflow-x:auto;overflow-y:auto;margin-top:5px;margin-bottom:5px;"><div STYLE="margin-top:5px;background-color:rgb(245, 245, 245);"><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;"><a TITLE="复制代码" HREF="#" STYLE="color:rgb(0, 111, 247);text-decoration-color:rgb(0, 111, 247);background-color:rgb(245, 245, 245);border-top-color:rgb(0, 111, 247);border-bottom-color:rgb(0, 111, 247);font-size:10.8px;"><img src="../_resources/51e409b11aa51c150090697429a953ed.gif"  alt="复制代码" hash="51e409b11aa51c150090697429a953ed" type="image/png" style="border-top-color:rgb(0, 111, 247);border-bottom-color:rgb(0, 111, 247);background-color:rgb(245, 245, 245);max-width:900px;" /></en-media></a></span></div>
<pre STYLE="font-family:Courier New;white-space:pre-wrap;margin-block-start:;margin-block-end:;margin-top:0px;margin-bottom:0px;word-wrap:break-word;">diff --git a/src/target/firmware/apps/loader/main.c b/src/target/firmware/apps/loader/<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">main.c
index 2ff6f9c..e488c98 </span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">100644</span>
--- a/src/target/firmware/apps/loader/<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">main.c
</span>+++ b/src/target/firmware/apps/loader/<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">main.c
@@ </span>-<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">438</span>,<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">6</span> +<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">438</span>,<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">9</span> @@ <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(0, 0, 255);">static</span> <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(0, 0, 255);">void</span> key_handler(<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(0, 0, 255);">enum</span> key_codes code, <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(0, 0, 255);">enum</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;"> key_states state)
         puts(</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 0);">&quot;</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 0);">Resetting due to keypress.\n</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 0);">&quot;</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">);
         device_reset();
         </span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(0, 0, 255);">break</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">;
</span>+    <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(0, 0, 255);">case</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;"> KEY_MENU:
</span>+        device_jump((<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(0, 0, 255);">void</span> *)<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x10000</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">);
</span>+        <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(0, 0, 255);">break</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">;
     </span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(0, 0, 255);">default</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">:
         </span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(0, 0, 255);">break</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">;
     }</span></pre>
<div STYLE="margin-top:5px;background-color:rgb(245, 245, 245);"><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;"><a TITLE="复制代码" HREF="#" STYLE="color:rgb(0, 111, 247);text-decoration-color:rgb(0, 111, 247);background-color:rgb(245, 245, 245);border-top-color:rgb(0, 111, 247);border-bottom-color:rgb(0, 111, 247);font-size:10.8px;"><img src="../_resources/51e409b11aa51c150090697429a953ed.gif"  alt="复制代码" hash="51e409b11aa51c150090697429a953ed" type="image/png" style="border-top-color:rgb(0, 111, 247);border-bottom-color:rgb(0, 111, 247);background-color:rgb(245, 245, 245);max-width:900px;" /></en-media></a></span></div></div>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><strong>编译</strong></p>
<div STYLE="background-color:rgb(245, 245, 245);font-family:Courier New;font-size:12px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-top:5px;padding-bottom:5px;overflow-x:auto;overflow-y:auto;margin-top:5px;margin-bottom:5px;">
<pre STYLE="font-family:Courier New;white-space:pre-wrap;margin-block-start:;margin-block-end:;margin-top:0px;margin-bottom:0px;word-wrap:break-word;">make</pre>
</div>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><strong>安装</strong></p>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><strong>引导手机到downloading 到RAM</strong></p>
<div STYLE="background-color:rgb(245, 245, 245);font-family:Courier New;font-size:12px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-top:5px;padding-bottom:5px;overflow-x:auto;overflow-y:auto;margin-top:5px;margin-bottom:5px;">
<pre STYLE="font-family:Courier New;white-space:pre-wrap;margin-block-start:;margin-block-end:;margin-top:0px;margin-bottom:0px;word-wrap:break-word;"><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">$ cd src
$ host</span>/osmocon/osmocon -p /dev/ttyUSB0 -m c123xor target/firmware/board/<b STYLE="background-color:rgb(255, 204, 153);">compal</b>_<b STYLE="background-color:rgb(102, 255, 153);">e88</b>/loader.compalram.bin</pre>
</div>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><strong>你将看到类似以下输出:</strong></p>
<div STYLE="background-color:rgb(245, 245, 245);font-family:Courier New;font-size:12px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-top:5px;padding-bottom:5px;overflow-x:auto;overflow-y:auto;margin-top:5px;margin-bottom:5px;"><div STYLE="margin-top:5px;background-color:rgb(245, 245, 245);"><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;"><a TITLE="复制代码" HREF="#" STYLE="color:rgb(0, 111, 247);text-decoration-color:rgb(0, 111, 247);background-color:rgb(245, 245, 245);border-top-color:rgb(0, 111, 247);border-bottom-color:rgb(0, 111, 247);font-size:10.8px;"><img src="../_resources/51e409b11aa51c150090697429a953ed.gif"  alt="复制代码" hash="51e409b11aa51c150090697429a953ed" type="image/png" style="border-top-color:rgb(0, 111, 247);border-bottom-color:rgb(0, 111, 247);background-color:rgb(245, 245, 245);max-width:900px;" /></en-media></a></span></div>
<pre STYLE="font-family:Courier New;white-space:pre-wrap;margin-block-start:;margin-block-end:;margin-top:0px;margin-bottom:0px;word-wrap:break-word;">Received PROMPT1 <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(0, 0, 255);">from</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;"> phone, responding with CMD
read_file(target</span>/firmware/board/<b STYLE="background-color:rgb(255, 204, 153);">compal</b>_<b STYLE="background-color:rgb(102, 255, 153);">e88</b>/loader.compalram.bin): file_size=<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">18436</span>, hdr_len=<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">4</span>, dnload_len=<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">18443</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">
Received PROMPT2 </span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(0, 0, 255);">from</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;"> phone, starting download
handle_write(): </span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">4096</span> <b STYLE="background-color:rgb(255, 255, 102);">bytes</b> (<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">4096</span>/<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">18443</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">)
handle_write(): </span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">4096</span> <b STYLE="background-color:rgb(255, 255, 102);">bytes</b> (<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">8192</span>/<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">18443</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">)
handle_write(): </span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">4096</span> <b STYLE="background-color:rgb(255, 255, 102);">bytes</b> (<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">12288</span>/<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">18443</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">)
handle_write(): </span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">4096</span> <b STYLE="background-color:rgb(255, 255, 102);">bytes</b> (<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">16384</span>/<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">18443</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">)
handle_write(): </span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">2059</span> <b STYLE="background-color:rgb(255, 255, 102);">bytes</b> (<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">18443</span>/<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">18443</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">)
handle_write(): finished
Received DOWNLOAD ACK </span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(0, 0, 255);">from</span> phone, your code <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(0, 0, 255);">is</span> <b STYLE="background-color:rgb(255, 255, 102);">running</b> now!<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">
Received DOWNLOAD ACK </span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(0, 0, 255);">from</span> phone, your code <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(0, 0, 255);">is</span> <b STYLE="background-color:rgb(255, 255, 102);">running</b> now!<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">
 
OSMOCOM Loader (revision osmocon_v0.</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0.0</span>-<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">1322</span>-g43c588b-<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">modified)
</span>======================================================================<span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">
<b STYLE="background-color:rgb(255, 255, 102);">Running</b> on <b STYLE="background-color:rgb(255, 204, 153);">compal</b>_<b STYLE="background-color:rgb(102, 255, 153);">e88</b> </span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(0, 0, 255);">in</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;"> <b STYLE="color:rgb(255, 255, 255);background-color:rgb(204, 0, 0);">environment</b> compalram
Found <b STYLE="color:rgb(255, 255, 255);background-color:rgb(153, 102, 0);">flash</b> of </span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);"><b STYLE="color:rgb(255, 255, 255);background-color:rgb(0, 102, 0);">2097152</b></span> <b STYLE="background-color:rgb(255, 255, 102);">bytes</b> at <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);"><b STYLE="background-color:rgb(255, 204, 153);">0x0</b></span> with <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);"><b STYLE="background-color:rgb(255, 102, 255);">2</b></span> <b STYLE="color:rgb(255, 255, 255);background-color:rgb(204, 0, 0);">regions</b></pre>
<div STYLE="margin-top:5px;background-color:rgb(245, 245, 245);"><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;"><a TITLE="复制代码" HREF="#" STYLE="color:rgb(0, 111, 247);text-decoration-color:rgb(0, 111, 247);background-color:rgb(245, 245, 245);border-top-color:rgb(0, 111, 247);border-bottom-color:rgb(0, 111, 247);font-size:10.8px;"><img src="../_resources/51e409b11aa51c150090697429a953ed.gif"  alt="复制代码" hash="51e409b11aa51c150090697429a953ed" type="image/png" style="border-top-color:rgb(0, 111, 247);border-bottom-color:rgb(0, 111, 247);background-color:rgb(245, 245, 245);max-width:900px;" /></en-media></a></span></div></div>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;">现在打开另一个终端</p>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><strong>装载loader</strong></p>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><strong>备份loader</strong></p>
<div STYLE="background-color:rgb(245, 245, 245);font-family:Courier New;font-size:12px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-top:5px;padding-bottom:5px;overflow-x:auto;overflow-y:auto;margin-top:5px;margin-bottom:5px;">
<pre STYLE="font-family:Courier New;white-space:pre-wrap;margin-block-start:;margin-block-end:;margin-top:0px;margin-bottom:0px;word-wrap:break-word;"><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">$ cd src
$ host</span>/osmocon/osmoload memdump <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x000000</span> <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x2000</span> <b STYLE="background-color:rgb(255, 204, 153);">compal</b>_loader.bin</pre>
</div>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><strong>测试<b STYLE="font-weight:900;color:rgb(255, 255, 255);background-color:rgb(153, 102, 0);">flash</b>:</strong></p>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;">首先我们将loader装载到错误的位置,如果失败,我们仍然还有原来的loader, 这样不会把手机搞成砖.</p>
<div STYLE="background-color:rgb(245, 245, 245);font-family:Courier New;font-size:12px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-top:5px;padding-bottom:5px;overflow-x:auto;overflow-y:auto;margin-top:5px;margin-bottom:5px;">
<pre STYLE="font-family:Courier New;white-space:pre-wrap;margin-block-start:;margin-block-end:;margin-top:0px;margin-bottom:0px;word-wrap:break-word;">$ host/osmocon/osmoload funlock <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x010000</span> <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x10000</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">
$ host</span>/osmocon/osmoload ferase <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x010000</span> <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x10000</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">
$ host</span>/osmocon/osmoload fprogram <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0</span> <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x010000</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;"> <b STYLE="background-color:rgb(255, 204, 153);">compal</b>_loader.bin
$ host</span>/osmocon/osmoload fprogram <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0</span> <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x012000</span> target/firmware/board/<b STYLE="background-color:rgb(255, 204, 153);">compal</b>_<b STYLE="background-color:rgb(102, 255, 153);">e88</b>/loader.e88loader.bin</pre>
</div>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;">如果上面没有出现错误之类的,下面我们就开始动真格的了</p>
<div STYLE="background-color:rgb(245, 245, 245);font-family:Courier New;font-size:12px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-top:5px;padding-bottom:5px;overflow-x:auto;overflow-y:auto;margin-top:5px;margin-bottom:5px;">
<pre STYLE="font-family:Courier New;white-space:pre-wrap;margin-block-start:;margin-block-end:;margin-top:0px;margin-bottom:0px;word-wrap:break-word;">$ host/osmocon/osmoload funlock <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x000000</span> <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x10000</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">
$ host</span>/osmocon/osmoload ferase <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x000000</span> <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x10000</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">
$ host</span>/osmocon/osmoload fprogram <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0</span> <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x000000</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;"> <b STYLE="background-color:rgb(255, 204, 153);">compal</b>_loader.bin
$ host</span>/osmocon/osmoload fprogram <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0</span> <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x002000</span> target/firmware/board/<b STYLE="background-color:rgb(255, 204, 153);">compal</b>_<b STYLE="background-color:rgb(102, 255, 153);">e88</b>/loader.e88loader.bin</pre>
</div>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;">装载应用程序</p>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;">注意:在你把应用程序刷到手机里面你是要看一下你刷的应用程序的大小的,有多少你就清空多大的<b STYLE="color:rgb(255, 255, 255);background-color:rgb(153, 102, 0);">flash</b>空间,我这里清空了64KB</p>
<div STYLE="background-color:rgb(245, 245, 245);font-family:Courier New;font-size:12px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-top:5px;padding-bottom:5px;overflow-x:auto;overflow-y:auto;margin-top:5px;margin-bottom:5px;">
<pre STYLE="font-family:Courier New;white-space:pre-wrap;margin-block-start:;margin-block-end:;margin-top:0px;margin-bottom:0px;word-wrap:break-word;">$ host/osmocon/osmoload funlock <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x010000</span> <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x20000</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">
$ host</span>/osmocon/osmoload ferase <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x010000</span> <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x20000</span><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">
$ host</span>/osmocon/osmoload fprogram <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0</span> <span STYLE="font-family:Courier New;font-size:12px;line-height:18px;color:rgb(128, 0, 128);">0x010000</span> target/firmware/board/<b STYLE="background-color:rgb(255, 204, 153);">compal</b>_<b STYLE="background-color:rgb(102, 255, 153);">e88</b>/layer1.e88flash.bin</pre>
</div>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><strong>测试</strong></p>
<ol STYLE="margin-block-start:;margin-block-end:;padding-inline-start:;">
<li>关闭手机</li>
<li>断开串口线</li>
<li>打开手机,你会看见一个空白的蓝色屏幕,这时你可不要以为手机成砖了,我第一次以后我手机又牺牲了,吓死人了.</li>
<li>按 Menu 按钮,开始应用程序,这时就出现了.关于Menu按钮,其实就是左右上面键中间的那个圆的.</li>
</ol>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><strong>如何使用:</strong></p>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;">让手机处于关于状态,连接后各个模块及线路,确保能误别出来,模块CP2102,如图所示:</p>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><a TARGET="_blank" HREF="http://images2015.cnblogs.com/blog/640760/201603/640760-20160319220653943-933212163.png" STYLE="color:rgb(0, 111, 247);text-decoration-color:rgb(0, 111, 247);font-size:11.5167px;"><img src="../_resources/dadd8298218952948ea2cbc0517a3f2e.png"  width="550" alt="" hash="dadd8298218952948ea2cbc0517a3f2e" type="image/png" style="border-top-color:rgb(0, 111, 247);border-bottom-color:rgb(0, 111, 247);max-width:900px;" /></en-media></a></p>
<div STYLE="background-color:rgb(245, 245, 245);font-family:Courier New;font-size:12px;border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);padding-top:5px;padding-bottom:5px;overflow-x:auto;overflow-y:auto;margin-top:5px;margin-bottom:5px;">
<pre STYLE="font-family:Courier New;white-space:pre-wrap;margin-block-start:;margin-block-end:;margin-top:0px;margin-bottom:0px;word-wrap:break-word;"><span STYLE="font-family:Courier New;font-size:12px;line-height:18px;">cd src
host</span>/osmocon/osmocon -p /dev/ttyUSB0</pre>
</div>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;">然后开机,出现蓝色空白屏幕,接着按菜单键,就是那个圆点,出现如下图所示表示成功</p>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;"><a TARGET="_blank" HREF="http://images2015.cnblogs.com/blog/640760/201603/640760-20160319220736849-368762800.png" STYLE="color:rgb(0, 111, 247);text-decoration-color:rgb(0, 111, 247);font-size:11.5167px;"><img src="../_resources/c83caebbd993413ad13ccc8f9d6f6ddc.png"  width="550" alt="" hash="c83caebbd993413ad13ccc8f9d6f6ddc" type="image/png" style="border-top-color:rgb(0, 111, 247);border-bottom-color:rgb(0, 111, 247);max-width:900px;" /></en-media></a></p>
<p STYLE="margin-block-start:;margin-block-end:;margin-top:10px;margin-bottom:10px;">关于后面的步骤,就是其它的文章操作,一样了,就不多讲了.</p></div></div></en-note>      