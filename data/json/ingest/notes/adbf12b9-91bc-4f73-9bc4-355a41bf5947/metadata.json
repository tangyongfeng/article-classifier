{
  "ingest_source": {
    "id": "3797b2f6-6b97-424b-87df-6cece75381f6",
    "source_type": "evernote_html",
    "source_path": "backups/2023年6月/投资/通达信软件系统目录结构及文件数据格式.html",
    "collected_at": "2025-11-10T15:43:36.662562Z",
    "external_id": null,
    "title_hint": null,
    "language_hint": "en",
    "captured_at": null,
    "checksum": "c204f2a055b7c25f7569b37c9d932ee14be93f68aedb53129163d47307471e5e",
    "status": "pending",
    "notes": {
      "batch_id": "phase2-backfill-202306"
    }
  },
  "note": {
    "id": "adbf12b9-91bc-4f73-9bc4-355a41bf5947",
    "ingest_source_id": "3797b2f6-6b97-424b-87df-6cece75381f6",
    "canonical_title": "通达信软件系统目录结构及文件数据格式",
    "language": "en",
    "ingested_at": "2025-11-10T15:43:36.662566Z",
    "created_at": null,
    "status": "active",
    "importance": 0,
    "attributes": {
      "source_filename": "通达信软件系统目录结构及文件数据格式.html"
    }
  },
  "variants": [
    {
      "id": "6ab3e81e-aa7d-4a16-bff2-0ffba15ba747",
      "note_id": "adbf12b9-91bc-4f73-9bc4-355a41bf5947",
      "variant_type": "raw_html",
      "version": 1,
      "created_by": "evernote_ingest:v0",
      "created_at": "2025-11-10T15:43:36.662569Z",
      "content": "---\ntitle: 通达信软件系统目录结构及文件数据格式\nupdated: 2021-01-29 19:04:44Z\ncreated: 2021-01-29 19:04:17Z\nauthor: tangyongfeng@gmail.com\n---\n\n\n<en-note><div><p STYLE=\"box-sizing: border-box; outline: none; padding: 0px; text-decoration: none; text-align: justify;\"></p><div><span STYLE=\"text-decoration: none;\">一、通达信软件系统目录结构</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&boxdr; yxhj 运行环境目录，存放当日行情数据</span></div><div><span STYLE=\"text-decoration: none;\">&boxvr; vip8 分析系统执行程序和系统配置库</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&boxvr; block 系统板块公用存盘文件</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&boxvr; doc 通达信文档</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&boxv; &boxdr; fzline 分钟</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">tdx 通达信 &boxvl; &boxvr; lday 日线</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&boxv; &boxdr; sz 深圳 &boxvh; lwek 周线</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&boxv; &boxv; &boxur; lmon 月线</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&boxv; &boxv; &boxdr; fzline 分钟线</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&boxv; &boxv; &boxvr; lday 日线</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&boxur; vipdoc 历史数据 &boxvh; sh 上海 &boxvh; lwek 周线</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&boxv; &boxur; lmon 月线</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&boxvr; sav6 v6版工作站信息</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&boxv; &boxdr; fzline 分钟线</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&boxv; &boxvr; lday 日线</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&boxvr; qh 期货 &boxvh; lwek 周线</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&boxv; &boxur; lmon 月线</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&boxvr; tick 历史成交明细</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">&boxur; sav 跨越2000工作站信息\n</span></div><div><span STYLE=\"text-decoration: none;\">D:\\Thirdprogram\\new_gtja_qq ---------- root</span></div><div><span STYLE=\"text-decoration: none;\"> &boxvr;&boxh;&boxh; bin\\ ---------- 动态链接库目录</span></div><div><span STYLE=\"text-decoration: none;\"> &boxvr;&boxh;&boxh; Tc.exe ---------- 国泰君安锐智版网上交易V6.01交易程序</span></div><div><span STYLE=\"text-decoration: none;\"> &boxvr;&boxh;&boxh; TdxW.exe ---------- 主程序</span></div><div><span STYLE=\"text-decoration: none;\"> &boxvr;&boxh;&boxh; common.props ---------- common.props</span></div><div><span STYLE=\"text-decoration: none;\"> &boxvr;&boxh;&boxh; LICENSE ---------- LICENSE</span></div><div><span STYLE=\"text-decoration: none;\"> &boxvr;&boxh;&boxh; Meowv.Blog.sln ---------- Solution</span></div><div><span STYLE=\"text-decoration: none;\"> &boxvr;&boxh;&boxh; </span><a HREF=\"http://readme.md/\" STYLE=\"text-decoration: none;\">README.md</a><span STYLE=\"text-decoration: none;\"> ---------- </span><a HREF=\"http://readme.md/\" STYLE=\"text-decoration: none;\">README.md</a></div><div><span STYLE=\"text-decoration: none;\"> &boxvr;&boxh;&boxh; .github ---------- github config</span></div><div><span STYLE=\"text-decoration: none;\"> &boxvr;&boxh;&boxh; T0002\\ &nbsp;&nbsp; </span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &boxvr;&boxh;&boxh; blocknew\\ ---------- 板块目录</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &boxv; &nbsp; &nbsp; &nbsp; &boxvr;&boxh;&boxh; blocknew.cfg ---------- 应用服务缓存</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &boxv; &nbsp; &nbsp; &nbsp; &boxur;&boxh;&boxh; zxg.blk ---------- 用于README.md展示图片的图片文件夹</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &boxvr;&boxh;&boxh; diary\\ ---------- 投资日记</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &boxv; &nbsp; &nbsp; &nbsp; &boxvr;&boxh;&boxh; sz\\002930.idx ---------- 日记标题</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &boxv; &nbsp; &nbsp; &nbsp; &boxur;&boxh;&boxh; sz\\002930.cnt---------- 日记内容</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &boxvr;&boxh;&boxh; hq_cache\\---------- 投资日记</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &boxvr;&boxh;&boxh; base.dbf ---------- 通达信基本财务数据（含总股本、流通股等）；含地域板块信息；</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &boxvr;&boxh;&boxh; block_fg.dat &nbsp; &nbsp; &nbsp; 风格板块</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &boxvr;&boxh;&boxh; block_gn.dat &nbsp; &nbsp;&nbsp; 概念板块</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &boxvr;&boxh;&boxh; block_zs.dat &nbsp; &nbsp; &nbsp; 指数板块</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &boxur;&boxh;&boxh; tdxhy.cfg &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 每个股票对应通达信行业和申万行业</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &boxvr;&boxh;&boxh; vipdoc\\---------- 历史数据目录,下载或缓存的历史数据目录</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &boxvr;&boxh;&boxh; sh\\lday\\sh000001.day ---------- 上海日线K线数据</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &boxvr;&boxh;&boxh; sh\\fzline\\sh000001.lc5 ---------- 上海5分钟线线数据</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &boxur;&boxh;&boxh; sh\\minline\\sh000001.lc1 ---------- 上海1分钟线线数据</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &boxvr;&boxh;&boxh; tdxline.dat ---------- 画线数据文件</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &boxvr;&boxh;&boxh; Meowv.Blog.Domain ---------- 领域层，实体，仓储接口</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &boxvr;&boxh;&boxh; Meowv.Blog.Domain.Shared ---------- 领域层，一些常量，枚举等</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &boxvr;&boxh;&boxh; Meowv.Blog.EntityFrameworkCore ---------- 集成EF Core，仓储接口实现</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &boxvr;&boxh;&boxh; Meowv.Blog.EntityFrameworkCore.DbMigrations ---------- EF Core数据库迁移</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &boxvr;&boxh;&boxh; Meowv.Blog.HttpApi ---------- API控制器</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &boxvr;&boxh;&boxh; Meowv.Blog.HttpApi.Hosting ---------- WebApi项目，依赖于HttpApi，</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &boxvr;&boxh;&boxh; Meowv.Blog.Swagger ---------- Swagger扩展、Filter</span></div><div><span STYLE=\"text-decoration: none;\"> &boxv; &nbsp; &boxur;&boxh;&boxh; Meowv.Blog.ToolKits ---------- 公共的工具类、扩展方法</span></div><div><span STYLE=\"text-decoration: none;\"> &boxvr;&boxh;&boxh; incon.dat ---------- 板块代码数据文件，用二进制格式存储.板块名称和板块代码在D:\\ThirdProgram\\new_gtja_qq\\incon.dat&nbsp; 定义。如：A|农业 A01|农业 A0101|种植业</span></div><div><span STYLE=\"text-decoration: none;\"> &boxur;&boxh;&boxh; static ---------- 用于README.md展示图片的图片文件夹</span></div><div><span STYLE=\"text-decoration: none;\">T0002\\diary\\sz</span></div><div><span STYLE=\"text-decoration: none;\">Copy</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> \n</span></div><p STYLE=\"box-sizing: border-box; outline: none; padding: 0px; text-decoration: none; text-align: justify;\"></p><div><span STYLE=\"text-decoration: none;\">通达信在主图上用画线工具A这个文字注释工具做的文字注释系统自动保存在那个文件夹里：</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">1、画线工具A这个文字注释工具做的文字注释系统自动保存：都放在通达信软件目录：T0002\\tdxline.dat这个文件里面。\n</span></div><p STYLE=\"box-sizing: border-box; outline: none; padding: 0px; text-decoration: none; text-align: justify;\"></p><div><br STYLE=\"box-sizing: border-box; outline: none; padding: 0px; text-decoration: none;\"/></div><div><br/></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">2、ctrl+q文字注释的内容都放在T0002\\mark.dat\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> \n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">通达信软件设计的一些解释\n</span></div><div><a HREF=\"http://fk.tdx.com.cn/dispbbs.asp?boardid=19&Id=9523\" STYLE=\"text-decoration: none;-en-paragraph:true;\">http://fk.tdx.com.cn/dispbbs.asp?boardid=19&amp;Id=9523</a></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">vipdoc:下载或缓存的历史数据目录\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 diary:投资日志目录\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 RemoteSH:缓存的上海F10\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 RemoteSZ:缓存的深圳F10\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 Ycinf缓存的公告消息\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　 　安装目录下的SZ.*,SH.*是缓存的盘中数据文件\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 T0002:个人信息目录,内有公式和自选股,个人设置等信息\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 Advhq.dat 星空图相关个性化数据\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 Block.cfg 板块设置文件\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 cbset.dat 筹码分析个性化数据\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 colwarn3.dat 行情栏目和预警个性化数据\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 colwarnTj.dat 条件预警个性化数据\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 CoolInfo.Txt 系统备忘录\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 Line.dat 画线工具数据\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 MyFavZX.dat 资讯收藏夹数据\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 newmodem.ini 交易客户端个性化数据\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 padinfo.dat 定制版面个性化数据\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 PriCS.dat,PriGS.dat,PriText.dat 公式相关数据\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 recentsearch.dat 最近资讯搜索数据\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 Scheme.dat 配色方案\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 tmptdx.css 临时网页CSS文件\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 user.ini 全局个性化数据\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 userfx.dat K线图个性化数据\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 [blocknew] 板块目录\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 [cache] 系统数据高速缓存\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 [zst_cache] 分时图数据高速缓存\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 [coolinfo] 系统备忘录目录\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">　　 [Invest] 个人理财数据目录\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; SUPERSTK下的文件:SYS.DTA 存放系统提供的公式;\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; USERDATA下的文件：AUTOBLK.CFG:自动板块设定;SELF.DTA 存放用户自编的公式;\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; BLOCK文件夹下的文件： *.IBK 板块指数定义;*.BLK 板块定义;*.EBK 条件选股结果;\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; SELF 文件夹下的文件： &nbsp; *.WSV 保存页面文件;ALERT.DAT 历史预警纪录;EXTDATA.INF 扩展数据定义;\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; *.CEP 保存组合条件选股条件;TEMPCMPD.CEP测试附加条件;*.INV 用户个人投\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 资纪录;*.TPT 保存指标模板;SELF年月日.DTA 每日自动公式备份文件;\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; TEST 文件夹下的文件： *.TST 存放系统测试结果;*.OPT 存放参数优化的结果;\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; PARAM参数指引文件夹: *.PRM 存放参数指引的结果;\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; TABLE文件夹下的文件：*.ESS数据表文件;*.ESD数据表文件（带数据保存）;　　　\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; SelfData文件夹下的文件：*.str　字符串数据;*.oth 与股票无关序列值数据;\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; Pattern 文件夹下的文件: &nbsp;*.PIN 模式匹配设计;*.PWT模式匹配方法;\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; SpotAna文件夹下的文件: &nbsp;*.SPT 定位分析结果;\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; Relate文件夹下的文件: &nbsp; &nbsp;*.RTL　相关分析结果;\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; Posible文件夹下的文件: &nbsp; *.PSB　预测分布设计;\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; DATA件夹下的文件： &nbsp; &nbsp; &nbsp;DAY.DAT 日线数据;EXTDAY.DAT 扩展数据;MIN.DAT 5分钟线数据;REPORT.DAT\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 当天的分笔成交数据;STKINFO.DAT 代码表/即时行情数据/财务数据/除权数据;*.PRP\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 历史回忆数据，一天一个文件;\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp;&nbsp; NEWS文件夹下的文件：*.TXT 财经报道、上交所公告、深交所公告\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; 通达信小常识：\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp;&nbsp; 1. 自选股放在通达信软件 \\T0002\\blocknew/zxg.blk &nbsp;文件中目录下\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp;&nbsp; 2. 通达信备份可用通达信自身工具数据维护工具自己备份：工具栏选 系统&mdash;&mdash;数据维护工具 (许多使用通达信的朋友不能\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 下载5分钟数据了，实际上股软并没有出现问题，只是原有的数据已满,将tdx\\vipdoc\\sh\\fzline，tdx\\vipdoc\\sz\\fzline，\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 将两个文件原有的数据清空（删除）后就可以继续下载了),各种版本的通达信股软，新下载安装的由于【fzline】没有分时\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 数据的记录，可以随时下载5分钟数据.\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> \n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">目录\n</span></div><div><a HREF=\"https://www.stockso.com/blog/blogpost/5c013eb83f3ca92684f90659/#kline\" STYLE=\"text-decoration: none;-en-paragraph:true;\">通达信日K线.day、5分钟.rc5、1分钟.rc1历史数据格式</a></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> \n</span></div><h2><span STYLE=\"text-decoration: none; font-weight: bold;\">一、日K线数据格式\n</span></h2><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> &nbsp; &nbsp;&nbsp; 下载安装通达信软件后，打开&ldquo;系统&rdquo;菜单，找到&ldquo;盘后数据下载&rdquo;选型，可下载日线.day、5分钟.rc5、1分钟.rc1历史数据。 如：日线数据下载后，存放位置在安装目录\\vipdoc\\sh\\lday下（上证数据）和安装目录\\vipdoc\\sz\\lday下（深证数据），每个股票对应一个文件。通达信的日线数据格式如下：每32个字节为一天数据每4个字节为一个字段，每个字段内低字节在前。\n</span></div><h3><span STYLE=\"text-decoration: none; font-weight: bold;\">（一）通达信日线数据格式\n</span></h3><div><span STYLE=\"text-decoration: none;\">00 ~ 03 字节 &nbsp; 年月日，整型；</span></div><div><span STYLE=\"text-decoration: none;\">04 ~ 07 字节 &nbsp; 开盘价*100，整型；</span></div><div><span STYLE=\"text-decoration: none;\">08 ~ 11 字节 &nbsp; 最高价*100, 整型；</span></div><div><span STYLE=\"text-decoration: none;\">12 ~ 15 字节 &nbsp; 最低价*100, 整型；</span></div><div><span STYLE=\"text-decoration: none;\">16 ~ 19 字节 &nbsp; 收盘价*100, 整型；</span></div><div><span STYLE=\"text-decoration: none;\">20 ~ 23 字节 &nbsp; 成交额（元），float型；</span></div><div><span STYLE=\"text-decoration: none;\">24 ~ 27 字节 &nbsp; 成交量（股），整型；</span></div><div><span STYLE=\"text-decoration: none;\">28 ~ 31 字节 &nbsp; （保留）</span></div><div><span STYLE=\"text-decoration: none;\">Copy</span></div><p STYLE=\"box-sizing: border-box; outline: none; padding: 0px; text-decoration: none; text-align: justify;\"></p><div><br STYLE=\"box-sizing: border-box; outline: none; padding: 0px; text-decoration: none;\"/></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">（二） 通达信5分钟、1分钟数据格式</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">00 ~ 01 字节</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">日期，整型；计算方法为：year = floor(num/2048) + 2004; &nbsp;month = floor(mod(num,2048)/100); &nbsp; day = mod(mod(num,2048), 100);</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">02 ~ 03 字节</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">0点至目前的分钟数，整型</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">04 ~ 07 字节</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">开盘价*100，整型</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">08 ~ 11 字节</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">最高价*100，整型</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">12 ~ 15 字节</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">最低价*100，整型</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">16 ~ 19 字节</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">收盘价*100，整型</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">20 ~ 23 字节</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">成交额*100，float型</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">24 ~ 27 字节</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">成交量（股），整型</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">28 ~ 31 字节</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">（保留）\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> \n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">c++\n</span></div><div><span STYLE=\"text-decoration: none;\"> </span></div><div><span STYLE=\"text-decoration: none;\">struct</span><span STYLE=\"text-decoration: none;\"> TdxRecord </span><span STYLE=\"text-decoration: none;\">{</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">// 日K线数据结构</span></div><div><span STYLE=\"text-decoration: none;\">&nbsp; </span><span STYLE=\"text-decoration: none;\">unsigned</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">int</span><span STYLE=\"text-decoration: none;\"> date</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; </span><span STYLE=\"text-decoration: none;\">// e.g. 20100304</span></div><div><span STYLE=\"text-decoration: none;\">&nbsp; </span><span STYLE=\"text-decoration: none;\">int</span><span STYLE=\"text-decoration: none;\"> _open</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">// *0.01 开盘价</span></div><div><span STYLE=\"text-decoration: none;\">&nbsp; </span><span STYLE=\"text-decoration: none;\">int</span><span STYLE=\"text-decoration: none;\"> _high</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">// *0.01 最高价</span></div><div><span STYLE=\"text-decoration: none;\">&nbsp; </span><span STYLE=\"text-decoration: none;\">int</span><span STYLE=\"text-decoration: none;\"> _low</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// *0.01 最低价</span></div><div><span STYLE=\"text-decoration: none;\">&nbsp; </span><span STYLE=\"text-decoration: none;\">int</span><span STYLE=\"text-decoration: none;\"> _close</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// *0.01 收盘价</span></div><div><span STYLE=\"text-decoration: none;\">&nbsp; </span><span STYLE=\"text-decoration: none;\">float</span><span STYLE=\"text-decoration: none;\"> amount</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// 成交额</span></div><div><span STYLE=\"text-decoration: none;\">&nbsp; </span><span STYLE=\"text-decoration: none;\">int</span><span STYLE=\"text-decoration: none;\"> vol</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">// 成交量(手)</span></div><div><span STYLE=\"text-decoration: none;\">&nbsp; </span><span STYLE=\"text-decoration: none;\">int</span><span STYLE=\"text-decoration: none;\"> reserved</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; </span></div><div><span STYLE=\"text-decoration: none;\"> </span></div><div><span STYLE=\"text-decoration: none;\">&nbsp; </span><span STYLE=\"text-decoration: none;\">float</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">open</span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">)</span><span STYLE=\"text-decoration: none;\">{</span><span STYLE=\"text-decoration: none;\">&nbsp; </span><span STYLE=\"text-decoration: none;\">return</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">0.01</span><span STYLE=\"text-decoration: none;\">*</span><span STYLE=\"text-decoration: none;\">_open</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">}</span></div><div><span STYLE=\"text-decoration: none;\">&nbsp; </span><span STYLE=\"text-decoration: none;\">float</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">high</span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">)</span><span STYLE=\"text-decoration: none;\">{</span><span STYLE=\"text-decoration: none;\">&nbsp; </span><span STYLE=\"text-decoration: none;\">return</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">0.01</span><span STYLE=\"text-decoration: none;\">*</span><span STYLE=\"text-decoration: none;\">_high</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">}</span></div><div><span STYLE=\"text-decoration: none;\">&nbsp; </span><span STYLE=\"text-decoration: none;\">float</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">low</span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">)</span><span STYLE=\"text-decoration: none;\">{</span><span STYLE=\"text-decoration: none;\"> &nbsp; </span><span STYLE=\"text-decoration: none;\">return</span><span STYLE=\"text-decoration: none;\"> _low</span><span STYLE=\"text-decoration: none;\">*</span><span STYLE=\"text-decoration: none;\">0.01</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">}</span></div><div><span STYLE=\"text-decoration: none;\">&nbsp; </span><span STYLE=\"text-decoration: none;\">float</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">close</span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">)</span><span STYLE=\"text-decoration: none;\">{</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">return</span><span STYLE=\"text-decoration: none;\"> _close</span><span STYLE=\"text-decoration: none;\">*</span><span STYLE=\"text-decoration: none;\">0.01</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">}</span></div><div><span STYLE=\"text-decoration: none;\">}</span><span STYLE=\"text-decoration: none;\">;</span></div><div><span STYLE=\"text-decoration: none;\">Copy</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> \n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">Python实现批量解析通达信day文件，导出至CSV\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">Python\n</span></div><div><span STYLE=\"text-decoration: none;\">import os</span></div><div><span STYLE=\"text-decoration: none;\">import struct</span></div><div><span STYLE=\"text-decoration: none;\">import datetime</span></div><div><span STYLE=\"text-decoration: none;\">def stock_csv(filepath, name):</span></div><div><span STYLE=\"text-decoration: none;\">data = [] with open(filepath, &apos;rb&apos;) as f:</span></div><div><span STYLE=\"text-decoration: none;\">file_object_path = &apos;D:/通达信/vipdoc/sh/pythondata/&apos; + name +&apos;.csv&apos;</span></div><div><span STYLE=\"text-decoration: none;\">file_object = open(file_object_path, &apos;w+&apos;)</span></div><div><span STYLE=\"text-decoration: none;\">while True:</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; stock_date = f.read(4)</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; stock_open = f.read(4)</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; stock_high = f.read(4)</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; stock_low= f.read(4)</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; stock_close = f.read(4)</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; stock_amount = f.read(4)</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; stock_vol = f.read(4)</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; stock_reservation = f.read(4)&nbsp; # date,open,high,low,close,amount,vol,reservation</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; if not stock_date:</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; # 4字节如20091229</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; stock_date = struct.unpack(&quot;l&quot;, stock_date)</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; #开盘价*100</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; stock_open = struct.unpack(&quot;l&quot;, stock_open) </span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; #最高价*100</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; stock_high = struct.unpack(&quot;l&quot;, stock_high)&nbsp; </span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; #最低价*100</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; stock_low= struct.unpack(&quot;l&quot;, stock_low) </span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; #收盘价*100</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; stock_close = struct.unpack(&quot;l&quot;, stock_close) </span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; #成交额</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; stock_amount = struct.unpack(&quot;f&quot;, stock_amount) </span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; #成交量</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; stock_vol = struct.unpack(&quot;l&quot;, stock_vol) </span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; #保留值</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; stock_reservation = struct.unpack(&quot;l&quot;, stock_reservation) </span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; #格式化日期</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; date_format = datetime.datetime.strptime(str(stock_date[0]),&apos;%Y%M%d&apos;)</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; list= date_format.strftime(&apos;%Y-%M-%d&apos;)+ &quot;,&quot; + str(stock_open[0]/100)+&quot;,&quot;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; +str(stock_high[0]/100.0) +&quot;,&quot; +str(stock_low[0]/100.0)+&quot;,&quot; </span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; + str(stock_close[0]/100.0)+&quot;,&quot; + str(stock_vol[0])+&quot;\\r\\n&quot;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; file_object.writelines(list)</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; file_object.close()</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; path = &apos;D:/通达信/vipdoc/sh/lday/&apos;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; listfile = os.listdir(&apos;D:/通达信/vipdoc/sh/lday/&apos;)</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; for i in listfile:</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; stock_csv(path+i, i[:-4])</span></div><div><span STYLE=\"text-decoration: none;\">Copy</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> \n</span></div><h2><span STYLE=\"text-decoration: none; font-weight: bold;\">日记文件数据格式\n</span></h2><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> \n</span></div><div><span STYLE=\"text-decoration: none;\">struct TdxDiary_Idx {</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; int &nbsp; id; &nbsp; &nbsp; &nbsp; // 0xffffffff = deleted, auto incr</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; char&nbsp; dummy1; &nbsp; // = 0x00</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; char&nbsp; symbol[7]; // 7 char = 6 char symbol + 1 char &apos;\\0&apos;</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; int&nbsp; date; &nbsp; &nbsp; // 20110407</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; int&nbsp; time; &nbsp; &nbsp; // 13:14:25 = 131425</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; int&nbsp; weather; &nbsp; // 00 = 晴, 01=阴, 02=雨, 03=雪</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; char&nbsp; title[64]; // title</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; int&nbsp; offset; &nbsp; // offset in &quot;symbol.cnt&quot;</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; int&nbsp; length; &nbsp; // content length</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; int&nbsp; date2; &nbsp;&nbsp; // date2 = date</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; int&nbsp; time2; &nbsp;&nbsp; // time2 = time</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> </span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; void set(const char *symbol, const char *title, int offset, int length){</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; memset(this-&gt;symbol, &apos;\\0&apos;, 7);</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; memset(this-&gt;title, &apos;\\0&apos;, 64);</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; this-&gt;dummy1 = &apos;\\0&apos;;</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; this-&gt;weather=0x03;</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; strcpy(this-&gt;symbol, symbol);</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; strcpy(this-&gt;title, title);</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; this-&gt;offset = offset;</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; this-&gt;length = length;</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; }</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; void datetime(int date, int time){</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; this-&gt;date&nbsp; = date; this-&gt;time&nbsp; = time;</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; this-&gt;date2 = date; this-&gt;time2&nbsp; = time;</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; }</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">};</span></div><div><span STYLE=\"text-decoration: none;\">Copy</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> \n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">c#\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">读写通达信日记文件 E:\\thirdprogram\\国泰君安锐智版\\T0002\\diary\\sh\\600732.idx 该文件只保留了文件标题信息 文件内容在600732.cnt中\n</span></div><div><span STYLE=\"text-decoration: none;\"> /// </span><span STYLE=\"text-decoration: none;\">&lt;</span><span STYLE=\"text-decoration: none;\">summary</span><span STYLE=\"text-decoration: none;\">&gt;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp;&nbsp; ///功能：读写通达信日记文件 E:\\thirdprogram\\国泰君安锐智版\\T0002\\diary\\sh\\600732.idx 该文件只保留了文件标题信息 文件内容在600732.cnt中</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp;&nbsp; /// </span><span STYLE=\"text-decoration: none;\">&lt;/</span><span STYLE=\"text-decoration: none;\">summary</span><span STYLE=\"text-decoration: none;\">&gt;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp;&nbsp; public class TdxDiaryFileRecordStruct</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp;&nbsp; {</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; //E:\\thirdprogram\\国泰君安锐智版\\T0002\\diary\\sh\\600732.idx</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; //该文件只保留了文件标题信息</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; //文件内容在600732.cnt中</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; [StructLayout(LayoutKind.Sequential, Pack = 1)]</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; public struct DiaryFileRecordStruct &nbsp;&nbsp; //RecordSize= 104，其他数字为第几次日记，包括修改</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; {</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [MarshalAs(UnmanagedType.I4)] //4byte FF FF FF FF 或08 00 00 00&nbsp; 如果是0XFF FF FF FF则表示记录作废 其他为第几次 </span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public Int32 ValidLable;</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [MarshalAs(UnmanagedType.I1)] //1byte 01</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public byte Unknow1;</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 7)] //6byte 36 30 30 30 30 30 </span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public string StockCode;</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [MarshalAs(UnmanagedType.I4)] //,K线日期日期 B7 DE 32 01</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public Int32 KLineLableDate;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [MarshalAs(UnmanagedType.I4)] //,K线时间 &nbsp; &nbsp; 49 36 03 00</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public Int32 KlineLableTime;</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [MarshalAs(UnmanagedType.I4)] //,4 byte 未知 00 00 00 00</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public Int32 Unknow3;</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 64)] //64 byte 文本内容</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public string DiaryTitle;</span></div><div><br/></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [MarshalAs(UnmanagedType.I4)] //文本内容在600732.cnt 中的偏移字节数 91 01 00 00</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public Int32 CntFileOffsetPostion;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [MarshalAs(UnmanagedType.I4)] // 文本内容在600732.cnt 中的字节数长度09 00 00 00</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public Int32 CntFileLength;</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [MarshalAs(UnmanagedType.I4)] //,最后修改日期20111031 B4 DE 32 01</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public Int32 UpdateDate;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [MarshalAs(UnmanagedType.I4)] //,最后修改时间200604=20:06:04 49 36 03 00</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public Int32 UpdateTime;</span></div><div><br/></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; }</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; </span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp;&nbsp; }</span></div><div><span STYLE=\"text-decoration: none;\">Copy</span></div><h2><span STYLE=\"text-decoration: none; font-weight: bold;\">股票代码和名称数据格式\n</span></h2><div><span STYLE=\"text-decoration: none;\"> </span></div><div><span STYLE=\"text-decoration: none;\">struct TdxSymbolMap {</span></div><div><span STYLE=\"text-decoration: none;\">&nbsp; char symbol[6]; &nbsp;&nbsp; // 6 digits</span></div><div><span STYLE=\"text-decoration: none;\">&nbsp; char dummy1[18]</span></div><div><span STYLE=\"text-decoration: none;\">&nbsp; char name[8]; &nbsp; &nbsp;&nbsp; // 4 characters in GB2312</span></div><div><span STYLE=\"text-decoration: none;\">&nbsp; char dummy2[218];</span></div><div><span STYLE=\"text-decoration: none;\">}</span></div><div><br/></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">read</span></div><div><span STYLE=\"text-decoration: none;\">void tdx_read_symbols(const char *file){</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; FILE *fp=fopen(file.c_str(),&quot;rb&quot;);</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; fseek(fp, 50, SEEK_SET);</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; char buf[250];</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; while(250 == fread(buf,1,250,fp)){</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; std::string symbol(buf,0,6);</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; std::string name(buf+24,8);</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">&nbsp; }</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> fclose(fp);</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">}</span></div><div><span STYLE=\"text-decoration: none;\">Copy</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> \n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">通达信股票代码数据格式\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">文件位置\n</span></div><p STYLE=\"box-sizing: border-box; outline: none; padding: 0px; text-decoration: none; text-align: justify;\"></p><div><span STYLE=\"text-decoration: none;\">从通达信系统获取股票代码信息</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> </span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> 通达信系统股票代码信息保存在安装目录下T0002\\hq_cache子目录</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> </span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> 文件名分别为shm.tnf、szm.tnf</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> </span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> </span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> </span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> 输出结果：pandas DateFrame</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> </span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> 列名含义：</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> </span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> sc:市场代码，sh沪市，sz深市</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> </span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> gpdm:股票代码（9位），如002294.SZ，索引</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> </span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> gpmc:股票名称，如信立泰</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> </span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> gppy:股票拼音，如XLT</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> </span></div><div><br/></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> gplb:股票类别，如深市中小板A股\n</span></div><h5><span STYLE=\"text-decoration: none; font-weight: bold;\">通达信V6.1股票代码文件格式分析:</span><a HREF=\"https://blog.csdn.net/starsky2006/article/details/5863438\" STYLE=\"text-decoration: none; font-weight: bold;\">https://blog.csdn.net/starsky2006/article/details/5863438</a><span STYLE=\"text-decoration: none; font-weight: bold;\">\n</span></h5><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> \n</span></div><h2><span STYLE=\"text-decoration: none; font-weight: bold;\">概念板块数据结构\n</span></h2><div><span STYLE=\"text-decoration: none;\">概念板块数据结构</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp;&nbsp; 文件存储路径：tdx\\T0002\\hq_cache\\block.dat</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp;&nbsp; 文件存储格式：</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; 文件头：384字节</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; 板块个数：2字节</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; 各板块数据存储结构（紧跟板块数目依次存放）</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 每个板块占据的存储空间为2812个字节，可最多包含399个个股</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 板块名称：9字节</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 该板块包含的个股个数：2字节</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 板块类别：2字节</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 该板块下个股代码列表（连续存放，直到代码为空）</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 个股代码：7字节</span></div><div><br/></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">tdx\\T0002\\hq_cache\\block.dat:</span></div><div><span STYLE=\"text-decoration: none;\">typedef struct _TDXBLOCKDATAFILEHEADER</span></div><div><span STYLE=\"text-decoration: none;\">{</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp;&nbsp; union</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp;&nbsp; {</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; char &nbsp; &nbsp; Header[0x182];</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp;&nbsp; };</span></div><div><span STYLE=\"text-decoration: none;\">}TDXBLOCKDATAFILEHEADER,*PTDXBLOCKDATAFILEHEADER;</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">typedef struct _TDXBLOCKDATA</span></div><div><span STYLE=\"text-decoration: none;\">{</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp;&nbsp; char &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BlockName[9];</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp;&nbsp; unsigned short int&nbsp; Num;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp;&nbsp; unsigned short int&nbsp; Data1;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp;&nbsp; char &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CodeName[400][7];</span></div><div><span STYLE=\"text-decoration: none;\">} TDXBLOCKDATA,*PTDXBLOCKDATA;</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">typedef struct _TDXBLOCKDATFILE</span></div><div><span STYLE=\"text-decoration: none;\">{</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; TDXBLOCKDATAFILEHEADER &nbsp;&nbsp; Header;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; TDXBLOCKDATA &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Block[n];</span></div><div><span STYLE=\"text-decoration: none;\">}TDXBLOCKDATFILE,*PTDXBLOCKDATFILE;</span></div><div><span STYLE=\"text-decoration: none;\">Copy</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> \n</span></div><h2><span STYLE=\"text-decoration: none; font-weight: bold;\">自定义板块存储数据结\n</span></h2><div><span STYLE=\"text-decoration: none;\">自定义板块存储数据结</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">板块名称文件：\\tdx\\T0002\\block.cfg</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp;&nbsp; 存储结构：</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 空白：4字节</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 板块名称：10字节字符串</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 板块简码：5字节字符串</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\">自定义的各板块个股存储</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 文件名：tdx\\T0002\\blocknew\\&nbsp; +&nbsp; 自定义板块简码（与block.cfg文件中的各板块简码同）</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp;&nbsp; 数据存储结构：</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 个股分隔符：2字节</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 个股属性代码：1字节（1:表示上证；0:表示深证）</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 个股名称：6字节</span></div><div><span STYLE=\"text-decoration: none;\">Copy</span></div><div><span STYLE=\"text-decoration: none;\">自选股票T0002\\blocknew\\ZXG.blk</span></div><div><span STYLE=\"text-decoration: none;\">Copy</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> \n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">通达信基本财务数据结构\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">1.D:\\Thirdprogram\\new_gtja_qq\\T0002\\hq_cache\\base.dbf\n</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">2.\n</span></div><div><span STYLE=\"text-decoration: none;\">/</span><span STYLE=\"text-decoration: none;\"> 通达信格式财务数据</span></div><div><span STYLE=\"text-decoration: none;\">#</span><span STYLE=\"text-decoration: none;\">define</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; TDX_FHEADER_SIZE &nbsp; &nbsp; &nbsp;&nbsp; 0x521</span></div><div><span STYLE=\"text-decoration: none;\">typedef</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">struct</span><span STYLE=\"text-decoration: none;\"> tdx_basedata_t </span><span STYLE=\"text-decoration: none;\">{</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szMagic</span><span STYLE=\"text-decoration: none;\">;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szMarket</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">// 市场 &apos;0&apos; 深圳 &apos;1&apos; 上海</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szCode</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">6</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szDate_modified</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">8</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">// 更新日期</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szShare_count_total</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// 总股本 10000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szShare_count_national</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; </span><span STYLE=\"text-decoration: none;\">// 国家股 10000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szShare_count_orig</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">// 发起股 10000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szShare_count_corp</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">// 法人股 10000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szShare_count_b</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// B股 10000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szShare_count_h</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// H股 10000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szShare_count_currency</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; </span><span STYLE=\"text-decoration: none;\">// 流通股 10000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szShare_count_employ</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">// 职工股 10000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szUnkown1</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// </span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szAsset</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// 总资产 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szAsset_currency</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">// 流动资产 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szAsset_capital</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// 固定资产 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szAsset_imma</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">// 无形资产 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szInvest_long</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// 长期投资 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szDebt_currency</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// 流动负债 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szDebt_long</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// 长期负债 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szAcc_fund</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">// 公积金 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szNet_asset</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// 净资产 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szMain_income</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// 主营收入 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szMain_profit</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// 主营利益 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szOther_profit</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">// 其他利益 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szBusiness_profit</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// 营业利益 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szInvest_profit</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// 投资收益 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szAllow_profit</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">// 补贴收入 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szOut_profit</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">// 业外收支 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szProfit_regulate</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// 损益调整 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szTotal_profit</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">// 利润总额 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szProfit_aftertax</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// 税后利益 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szNet_profit</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">// 净利益 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szProfit_ud</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// 未分利润 1000</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szNet_asset_ps_regulate</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">14</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\">&nbsp; </span><span STYLE=\"text-decoration: none;\">// 每股净资2</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szUnknown2</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">3</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// </span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szUnknown3</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">4</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// </span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szUnknown4</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">2</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">//</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szDate_begin</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">8</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// 上市日期</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szUnknown5</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">3</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">// </span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\">&nbsp; m_szUnknown6</span><span STYLE=\"text-decoration: none;\">[</span><span STYLE=\"text-decoration: none;\">11</span><span STYLE=\"text-decoration: none;\">]</span><span STYLE=\"text-decoration: none;\">;</span><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">// </span></div><div><span STYLE=\"text-decoration: none;\">}</span><span STYLE=\"text-decoration: none;\">TDX_BASEDATA</span><span STYLE=\"text-decoration: none;\">,</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">*</span><span STYLE=\"text-decoration: none;\">PTDX_BASEDATA</span><span STYLE=\"text-decoration: none;\">;</span></div><div><span STYLE=\"text-decoration: none;\">Copy</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\">3.\n</span></div><div><span STYLE=\"text-decoration: none;\">//数据管理-通达信财务数据导入-选择文件-通达信财务板块数据导入</span></div><div><span STYLE=\"text-decoration: none;\">int</span><span STYLE=\"text-decoration: none;\"> CSelfDB</span><span STYLE=\"text-decoration: none;\">::</span><span STYLE=\"text-decoration: none;\">InstallBasetableTdx</span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">const</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">char</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">*</span><span STYLE=\"text-decoration: none;\"> filename</span><span STYLE=\"text-decoration: none;\">)</span></div><div><span STYLE=\"text-decoration: none;\">{</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">if</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">NULL</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">==</span><span STYLE=\"text-decoration: none;\"> filename </span><span STYLE=\"text-decoration: none;\">||</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">strlen</span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">filename</span><span STYLE=\"text-decoration: none;\">)</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">==</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">0</span><span STYLE=\"text-decoration: none;\">)</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">return</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">0</span><span STYLE=\"text-decoration: none;\">;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">int</span><span STYLE=\"text-decoration: none;\"> &nbsp; nCount&nbsp; </span><span STYLE=\"text-decoration: none;\">=</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">0</span><span STYLE=\"text-decoration: none;\">;</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; CSPString &nbsp; &nbsp; &nbsp; sRoot &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span STYLE=\"text-decoration: none;\">=</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">GetRootPath</span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">)</span><span STYLE=\"text-decoration: none;\">;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; CSPString &nbsp; &nbsp; &nbsp; sFileNameSHSZ &nbsp; </span><span STYLE=\"text-decoration: none;\">=</span><span STYLE=\"text-decoration: none;\"> sRoot </span><span STYLE=\"text-decoration: none;\">+</span><span STYLE=\"text-decoration: none;\"> self_chna_basetbl</span><span STYLE=\"text-decoration: none;\">;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; CSPFile fileSHSZ</span><span STYLE=\"text-decoration: none;\">,</span><span STYLE=\"text-decoration: none;\"> fileTdx</span><span STYLE=\"text-decoration: none;\">;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">if</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">fileSHSZ</span><span STYLE=\"text-decoration: none;\">.</span><span STYLE=\"text-decoration: none;\">Open</span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">sFileNameSHSZ</span><span STYLE=\"text-decoration: none;\">,</span><span STYLE=\"text-decoration: none;\"> CSPFile</span><span STYLE=\"text-decoration: none;\">::</span><span STYLE=\"text-decoration: none;\">modeWrite </span><span STYLE=\"text-decoration: none;\">|</span><span STYLE=\"text-decoration: none;\"> CSPFile</span><span STYLE=\"text-decoration: none;\">::</span><span STYLE=\"text-decoration: none;\">modeCreate</span><span STYLE=\"text-decoration: none;\">)</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">&amp;&amp;</span><span STYLE=\"text-decoration: none;\"> fileTdx</span><span STYLE=\"text-decoration: none;\">.</span><span STYLE=\"text-decoration: none;\">Open</span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">filename</span><span STYLE=\"text-decoration: none;\">,</span><span STYLE=\"text-decoration: none;\"> CSPFile</span><span STYLE=\"text-decoration: none;\">::</span><span STYLE=\"text-decoration: none;\">modeRead</span><span STYLE=\"text-decoration: none;\">)</span><span STYLE=\"text-decoration: none;\">)</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">{</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; fileTdx</span><span STYLE=\"text-decoration: none;\">.</span><span STYLE=\"text-decoration: none;\">Seek</span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">TDX_FHEADER_SIZE</span><span STYLE=\"text-decoration: none;\">,</span><span STYLE=\"text-decoration: none;\"> CSPFile</span><span STYLE=\"text-decoration: none;\">::</span><span STYLE=\"text-decoration: none;\">begin</span><span STYLE=\"text-decoration: none;\">)</span><span STYLE=\"text-decoration: none;\">;</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; TDX_BASEDATA &nbsp;&nbsp; tdxblock</span><span STYLE=\"text-decoration: none;\">;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">while</span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">sizeof</span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">tdxblock</span><span STYLE=\"text-decoration: none;\">)</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">==</span><span STYLE=\"text-decoration: none;\"> fileTdx</span><span STYLE=\"text-decoration: none;\">.</span><span STYLE=\"text-decoration: none;\">Read</span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">&amp;</span><span STYLE=\"text-decoration: none;\">tdxblock</span><span STYLE=\"text-decoration: none;\">,</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">sizeof</span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">tdxblock</span><span STYLE=\"text-decoration: none;\">)</span><span STYLE=\"text-decoration: none;\">)</span><span STYLE=\"text-decoration: none;\">)</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">{</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; BASEDATA &nbsp; &nbsp; &nbsp;&nbsp; block</span><span STYLE=\"text-decoration: none;\">;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">if</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">convert_TDX_BASEDATA_to_BASEDATA</span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">&amp;</span><span STYLE=\"text-decoration: none;\">tdxblock</span><span STYLE=\"text-decoration: none;\">,</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">&amp;</span><span STYLE=\"text-decoration: none;\">block</span><span STYLE=\"text-decoration: none;\">)</span><span STYLE=\"text-decoration: none;\">)</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">{</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; fileSHSZ</span><span STYLE=\"text-decoration: none;\">.</span><span STYLE=\"text-decoration: none;\">Write</span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">&amp;</span><span STYLE=\"text-decoration: none;\">block</span><span STYLE=\"text-decoration: none;\">,</span><span STYLE=\"text-decoration: none;\"> </span><span STYLE=\"text-decoration: none;\">sizeof</span><span STYLE=\"text-decoration: none;\">(</span><span STYLE=\"text-decoration: none;\">block</span><span STYLE=\"text-decoration: none;\">)</span><span STYLE=\"text-decoration: none;\">)</span><span STYLE=\"text-decoration: none;\">;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; nCount&nbsp; </span><span STYLE=\"text-decoration: none;\">++</span><span STYLE=\"text-decoration: none;\">;</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">}</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">}</span></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">}</span></div><div><br/></div><div><span STYLE=\"text-decoration: none;\"> &nbsp; &nbsp; &nbsp;&nbsp; </span><span STYLE=\"text-decoration: none;\">return</span><span STYLE=\"text-decoration: none;\"> nCount</span><span STYLE=\"text-decoration: none;\">;</span></div><div><span STYLE=\"text-decoration: none;\">}</span></div><div><span STYLE=\"text-decoration: none;\">Copy</span></div><div><span STYLE=\"text-decoration: none;-en-paragraph:true;\"> \n</span></div></div><div>标签: </div><div><a HREF=\"https://www.stockso.com/blog/tag/%E9%80%9A%E8%BE%BE%E4%BF%A1\">通达信</a></div><div>More Like this\n</div></en-note>      ",
      "content_path": null,
      "diff_base_variant_id": null,
      "metadata": {
        "checksum": "c204f2a055b7c25f7569b37c9d932ee14be93f68aedb53129163d47307471e5e",
        "path": "backups/2023年6月/投资/通达信软件系统目录结构及文件数据格式.html"
      }
    },
    {
      "id": "24f02831-7cf7-4c55-8536-be40363677d9",
      "note_id": "adbf12b9-91bc-4f73-9bc4-355a41bf5947",
      "variant_type": "clean_text",
      "version": 1,
      "created_by": "evernote_ingest:v0",
      "created_at": "2025-11-10T15:43:36.662572Z",
      "content": "---\ntitle: 通达信软件系统目录结构及文件数据格式\nupdated: 2021-01-29 19:04:44Z\ncreated: 2021-01-29 19:04:17Z\nauthor: tangyongfeng@gmail.com\n---\n\n一、通达信软件系统目录结构\n┌ yxhj 运行环境目录，存放当日行情数据\n├ vip8 分析系统执行程序和系统配置库\n├ block 系统板块公用存盘文件\n├ doc 通达信文档\n│ ┌ fzline 分钟\ntdx 通达信 ┤ ├ lday 日线\n│ ┌ sz 深圳 ┼ lwek 周线\n│ │ └ lmon 月线\n│ │ ┌ fzline 分钟线\n│ │ ├ lday 日线\n└ vipdoc 历史数据 ┼ sh 上海 ┼ lwek 周线\n│ └ lmon 月线\n├ sav6 v6版工作站信息\n│ ┌ fzline 分钟线\n│ ├ lday 日线\n├ qh 期货 ┼ lwek 周线\n│ └ lmon 月线\n├ tick 历史成交明细\n└ sav 跨越2000工作站信息\n\nD:\\Thirdprogram\\new_gtja_qq ---------- root\n ├── bin\\ ---------- 动态链接库目录\n ├── Tc.exe ---------- 国泰君安锐智版网上交易V6.01交易程序\n ├── TdxW.exe ---------- 主程序\n ├── common.props ---------- common.props\n ├── LICENSE ---------- LICENSE\n ├── Meowv.Blog.sln ---------- Solution\n ├──\nREADME.md\n ----------\nREADME.md\n ├── .github ---------- github config\n ├── T0002\\   \n │   ├── blocknew\\ ---------- 板块目录\n │   │       ├── blocknew.cfg ---------- 应用服务缓存\n │   │       └── zxg.blk ---------- 用于README.md展示图片的图片文件夹\n │   ├── diary\\ ---------- 投资日记\n │   │       ├── sz\\002930.idx ---------- 日记标题\n │   │       └── sz\\002930.cnt---------- 日记内容\n │   ├── hq_cache\\---------- 投资日记\n │            ├── base.dbf ---------- 通达信基本财务数据（含总股本、流通股等）；含地域板块信息；\n │            ├── block_fg.dat       风格板块\n │            ├── block_gn.dat      概念板块\n │            ├── block_zs.dat       指数板块\n │            └── tdxhy.cfg             每个股票对应通达信行业和申万行业\n │   ├── vipdoc\\---------- 历史数据目录,下载或缓存的历史数据目录\n │            ├── sh\\lday\\sh000001.day ---------- 上海日线K线数据\n │            ├── sh\\fzline\\sh000001.lc5 ---------- 上海5分钟线线数据\n │            └── sh\\minline\\sh000001.lc1 ---------- 上海1分钟线线数据\n │   ├── tdxline.dat ---------- 画线数据文件\n │   ├── Meowv.Blog.Domain ---------- 领域层，实体，仓储接口\n │   ├── Meowv.Blog.Domain.Shared ---------- 领域层，一些常量，枚举等\n │   ├── Meowv.Blog.EntityFrameworkCore ---------- 集成EF Core，仓储接口实现\n │   ├── Meowv.Blog.EntityFrameworkCore.DbMigrations ---------- EF Core数据库迁移\n │   ├── Meowv.Blog.HttpApi ---------- API控制器\n │   ├── Meowv.Blog.HttpApi.Hosting ---------- WebApi项目，依赖于HttpApi，\n │   ├── Meowv.Blog.Swagger ---------- Swagger扩展、Filter\n │   └── Meowv.Blog.ToolKits ---------- 公共的工具类、扩展方法\n ├── incon.dat ---------- 板块代码数据文件，用二进制格式存储.板块名称和板块代码在D:\\ThirdProgram\\new_gtja_qq\\incon.dat  定义。如：A|农业 A01|农业 A0101|种植业\n └── static ---------- 用于README.md展示图片的图片文件夹\nT0002\\diary\\sz\nCopy\n\n通达信在主图上用画线工具A这个文字注释工具做的文字注释系统自动保存在那个文件夹里：\n1、画线工具A这个文字注释工具做的文字注释系统自动保存：都放在通达信软件目录：T0002\\tdxline.dat这个文件里面。\n\n2、ctrl+q文字注释的内容都放在T0002\\mark.dat\n\n通达信软件设计的一些解释\n\nhttp://fk.tdx.com.cn/dispbbs.asp?boardid=19&Id=9523\nvipdoc:下载或缓存的历史数据目录\n\n　　 diary:投资日志目录\n\n　　 RemoteSH:缓存的上海F10\n\n　　 RemoteSZ:缓存的深圳F10\n\n　　 Ycinf缓存的公告消息\n\n　 　安装目录下的SZ.*,SH.*是缓存的盘中数据文件\n\n　　 T0002:个人信息目录,内有公式和自选股,个人设置等信息\n\n　　 Advhq.dat 星空图相关个性化数据\n\n　　 Block.cfg 板块设置文件\n\n　　 cbset.dat 筹码分析个性化数据\n\n　　 colwarn3.dat 行情栏目和预警个性化数据\n\n　　 colwarnTj.dat 条件预警个性化数据\n\n　　 CoolInfo.Txt 系统备忘录\n\n　　 Line.dat 画线工具数据\n\n　　 MyFavZX.dat 资讯收藏夹数据\n\n　　 newmodem.ini 交易客户端个性化数据\n\n　　 padinfo.dat 定制版面个性化数据\n\n　　 PriCS.dat,PriGS.dat,PriText.dat 公式相关数据\n\n　　 recentsearch.dat 最近资讯搜索数据\n\n　　 Scheme.dat 配色方案\n\n　　 tmptdx.css 临时网页CSS文件\n\n　　 user.ini 全局个性化数据\n\n　　 userfx.dat K线图个性化数据\n\n　　 [blocknew] 板块目录\n\n　　 [cache] 系统数据高速缓存\n\n　　 [zst_cache] 分时图数据高速缓存\n\n　　 [coolinfo] 系统备忘录目录\n\n　　 [Invest] 个人理财数据目录\n\n     SUPERSTK下的文件:SYS.DTA 存放系统提供的公式;\n\n     USERDATA下的文件：AUTOBLK.CFG:自动板块设定;SELF.DTA 存放用户自编的公式;\n\n     BLOCK文件夹下的文件： *.IBK 板块指数定义;*.BLK 板块定义;*.EBK 条件选股结果;\n\n     SELF 文件夹下的文件：   *.WSV 保存页面文件;ALERT.DAT 历史预警纪录;EXTDATA.INF 扩展数据定义;\n\n                                      *.CEP 保存组合条件选股条件;TEMPCMPD.CEP测试附加条件;*.INV 用户个人投\n\n                                      资纪录;*.TPT 保存指标模板;SELF年月日.DTA 每日自动公式备份文件;\n\n     TEST 文件夹下的文件： *.TST 存放系统测试结果;*.OPT 存放参数优化的结果;\n\n     PARAM参数指引文件夹: *.PRM 存放参数指引的结果;\n\n     TABLE文件夹下的文件：*.ESS数据表文件;*.ESD数据表文件（带数据保存）;　　　\n\n     SelfData文件夹下的文件：*.str　字符串数据;*.oth 与股票无关序列值数据;\n\n     Pattern 文件夹下的文件:  *.PIN 模式匹配设计;*.PWT模式匹配方法;\n\n     SpotAna文件夹下的文件:  *.SPT 定位分析结果;\n\n     Relate文件夹下的文件:    *.RTL　相关分析结果;\n\n     Posible文件夹下的文件:   *.PSB　预测分布设计;\n\n     DATA件夹下的文件：      DAY.DAT 日线数据;EXTDAY.DAT 扩展数据;MIN.DAT 5分钟线数据;REPORT.DAT\n\n                                        当天的分笔成交数据;STKINFO.DAT 代码表/即时行情数据/财务数据/除权数据;*.PRP\n\n                                        历史回忆数据，一天一个文件;\n\n      NEWS文件夹下的文件：*.TXT 财经报道、上交所公告、深交所公告\n\n     通达信小常识：\n\n      1. 自选股放在通达信软件 \\T0002\\blocknew/zxg.blk  文件中目录下\n\n      2. 通达信备份可用通达信自身工具数据维护工具自己备份：工具栏选 系统——数据维护工具 (许多使用通达信的朋友不能\n\n          下载5分钟数据了，实际上股软并没有出现问题，只是原有的数据已满,将tdx\\vipdoc\\sh\\fzline，tdx\\vipdoc\\sz\\fzline，\n\n           将两个文件原有的数据清空（删除）后就可以继续下载了),各种版本的通达信股软，新下载安装的由于【fzline】没有分时\n\n           数据的记录，可以随时下载5分钟数据.\n\n目录\n\n通达信日K线.day、5分钟.rc5、1分钟.rc1历史数据格式\n\n一、日K线数据格式\n\n      下载安装通达信软件后，打开“系统”菜单，找到“盘后数据下载”选型，可下载日线.day、5分钟.rc5、1分钟.rc1历史数据。 如：日线数据下载后，存放位置在安装目录\\vipdoc\\sh\\lday下（上证数据）和安装目录\\vipdoc\\sz\\lday下（深证数据），每个股票对应一个文件。通达信的日线数据格式如下：每32个字节为一天数据每4个字节为一个字段，每个字段内低字节在前。\n\n（一）通达信日线数据格式\n\n00 ~ 03 字节   年月日，整型；\n04 ~ 07 字节   开盘价*100，整型；\n08 ~ 11 字节   最高价*100, 整型；\n12 ~ 15 字节   最低价*100, 整型；\n16 ~ 19 字节   收盘价*100, 整型；\n20 ~ 23 字节   成交额（元），float型；\n24 ~ 27 字节   成交量（股），整型；\n28 ~ 31 字节   （保留）\nCopy\n（二） 通达信5分钟、1分钟数据格式\n00 ~ 01 字节\n日期，整型；计算方法为：year = floor(num/2048) + 2004;  month = floor(mod(num,2048)/100);   day = mod(mod(num,2048), 100);\n02 ~ 03 字节\n0点至目前的分钟数，整型\n04 ~ 07 字节\n开盘价*100，整型\n08 ~ 11 字节\n最高价*100，整型\n12 ~ 15 字节\n最低价*100，整型\n16 ~ 19 字节\n收盘价*100，整型\n20 ~ 23 字节\n成交额*100，float型\n24 ~ 27 字节\n成交量（股），整型\n28 ~ 31 字节\n（保留）\n\nc++\n\nstruct\n TdxRecord\n{\n    \n// 日K线数据结构\n \nunsigned\n\nint\n date\n;\n  \n// e.g. 20100304\n \nint\n _open\n;\n          \n// *0.01 开盘价\n \nint\n _high\n;\n          \n// *0.01 最高价\n \nint\n _low\n;\n           \n// *0.01 最低价\n \nint\n _close\n;\n         \n// *0.01 收盘价\n \nfloat\n amount\n;\n       \n// 成交额\n \nint\n vol\n;\n            \n// 成交量(手)\n \nint\n reserved\n;\n      \nfloat\n\nopen\n(\n)\n{\n \nreturn\n\n0.01\n*\n_open\n;\n\n}\n \nfloat\n\nhigh\n(\n)\n{\n \nreturn\n\n0.01\n*\n_high\n;\n\n}\n \nfloat\n\nlow\n(\n)\n{\n  \nreturn\n _low\n*\n0.01\n;\n\n}\n \nfloat\n\nclose\n(\n)\n{\n\nreturn\n _close\n*\n0.01\n;\n\n}\n;\nCopy\n\nPython实现批量解析通达信day文件，导出至CSV\n\nPython\n\nimport os\nimport struct\nimport datetime\ndef stock_csv(filepath, name):\ndata = [] with open(filepath, 'rb') as f:\nfile_object_path = 'D:/通达信/vipdoc/sh/pythondata/' + name +'.csv'\nfile_object = open(file_object_path, 'w+')\nwhile True:\n        stock_date = f.read(4)\n        stock_open = f.read(4)\n        stock_high = f.read(4)\n        stock_low= f.read(4)\n        stock_close = f.read(4)\n        stock_amount = f.read(4)\n        stock_vol = f.read(4)\n        stock_reservation = f.read(4)  # date,open,high,low,close,amount,vol,reservation\n        if not stock_date:\n                break\n        # 4字节如20091229\n        stock_date = struct.unpack(\"l\", stock_date)\n         #开盘价*100\n        stock_open = struct.unpack(\"l\", stock_open)\n        #最高价*100\n        stock_high = struct.unpack(\"l\", stock_high) \n         #最低价*100\n        stock_low= struct.unpack(\"l\", stock_low)\n         #收盘价*100\n        stock_close = struct.unpack(\"l\", stock_close)\n        #成交额\n        stock_amount = struct.unpack(\"f\", stock_amount)\n         #成交量\n        stock_vol = struct.unpack(\"l\", stock_vol)\n         #保留值\n        stock_reservation = struct.unpack(\"l\", stock_reservation)\n        #格式化日期\n        date_format = datetime.datetime.strptime(str(stock_date[0]),'%Y%M%d')\n        list= date_format.strftime('%Y-%M-%d')+ \",\" + str(stock_open[0]/100)+\",\"\n                +str(stock_high[0]/100.0) +\",\" +str(stock_low[0]/100.0)+\",\"\n                + str(stock_close[0]/100.0)+\",\" + str(stock_vol[0])+\"\\r\\n\"\n        file_object.writelines(list)\n        file_object.close()\n        path = 'D:/通达信/vipdoc/sh/lday/'\n        listfile = os.listdir('D:/通达信/vipdoc/sh/lday/')\n        for i in listfile:\n                stock_csv(path+i, i[:-4])\nCopy\n\n日记文件数据格式\n\nstruct TdxDiary_Idx {\n  int   id;       // 0xffffffff = deleted, auto incr\n  char  dummy1;   // = 0x00\n  char  symbol[7]; // 7 char = 6 char symbol + 1 char '\\0'\n  int  date;     // 20110407\n  int  time;     // 13:14:25 = 131425\n  int  weather;   // 00 = 晴, 01=阴, 02=雨, 03=雪\n  char  title[64]; // title\n  int  offset;   // offset in \"symbol.cnt\"\n  int  length;   // content length\n  int  date2;    // date2 = date\n  int  time2;    // time2 = time\n\n  void set(const char *symbol, const char *title, int offset, int length){\n   memset(this->symbol, '\\0', 7);\n   memset(this->title, '\\0', 64);\n   this->dummy1 = '\\0';\n   this->weather=0x03;\n   strcpy(this->symbol, symbol);\n   strcpy(this->title, title);\n   this->offset = offset;\n   this->length = length;\n  }\n  void datetime(int date, int time){\n   this->date  = date; this->time  = time;\n   this->date2 = date; this->time2  = time;\n  }\n};\nCopy\n\nc#\n\n读写通达信日记文件 E:\\thirdprogram\\国泰君安锐智版\\T0002\\diary\\sh\\600732.idx 该文件只保留了文件标题信息 文件内容在600732.cnt中\n\n ///\n<\nsummary\n>\n    ///功能：读写通达信日记文件 E:\\thirdprogram\\国泰君安锐智版\\T0002\\diary\\sh\\600732.idx 该文件只保留了文件标题信息 文件内容在600732.cnt中\n    ///\n</\nsummary\n>\n    public class TdxDiaryFileRecordStruct\n    {\n        //E:\\thirdprogram\\国泰君安锐智版\\T0002\\diary\\sh\\600732.idx\n       //该文件只保留了文件标题信息\n       //文件内容在600732.cnt中\n       [StructLayout(LayoutKind.Sequential, Pack = 1)]\n       public struct DiaryFileRecordStruct    //RecordSize= 104，其他数字为第几次日记，包括修改\n       {\n           [MarshalAs(UnmanagedType.I4)] //4byte FF FF FF FF 或08 00 00 00  如果是0XFF FF FF FF则表示记录作废 其他为第几次\n           public Int32 ValidLable;\n           [MarshalAs(UnmanagedType.I1)] //1byte 01\n           public byte Unknow1;\n           [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 7)] //6byte 36 30 30 30 30 30\n           public string StockCode;\n           [MarshalAs(UnmanagedType.I4)] //,K线日期日期 B7 DE 32 01\n           public Int32 KLineLableDate;\n           [MarshalAs(UnmanagedType.I4)] //,K线时间     49 36 03 00\n           public Int32 KlineLableTime;\n           [MarshalAs(UnmanagedType.I4)] //,4 byte 未知 00 00 00 00\n           public Int32 Unknow3;\n           [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 64)] //64 byte 文本内容\n           public string DiaryTitle;\n           [MarshalAs(UnmanagedType.I4)] //文本内容在600732.cnt 中的偏移字节数 91 01 00 00\n           public Int32 CntFileOffsetPostion;\n           [MarshalAs(UnmanagedType.I4)] // 文本内容在600732.cnt 中的字节数长度09 00 00 00\n           public Int32 CntFileLength;\n           [MarshalAs(UnmanagedType.I4)] //,最后修改日期20111031 B4 DE 32 01\n           public Int32 UpdateDate;\n           [MarshalAs(UnmanagedType.I4)] //,最后修改时间200604=20:06:04 49 36 03 00\n           public Int32 UpdateTime;\n       }\n    \n    }\nCopy\n股票代码和名称数据格式\n\nstruct TdxSymbolMap {\n  char symbol[6];    // 6 digits\n  char dummy1[18]\n  char name[8];      // 4 characters in GB2312\n  char dummy2[218];\n}\nread\nvoid tdx_read_symbols(const char *file){\n  FILE *fp=fopen(file.c_str(),\"rb\");\n  fseek(fp, 50, SEEK_SET);\n  char buf[250];\n  while(250 == fread(buf,1,250,fp)){\n   std::string symbol(buf,0,6);\n   std::string name(buf+24,8);\n  }\n fclose(fp);\n}\nCopy\n\n通达信股票代码数据格式\n\n文件位置\n\n从通达信系统获取股票代码信息\n\n 通达信系统股票代码信息保存在安装目录下T0002\\hq_cache子目录\n\n 文件名分别为shm.tnf、szm.tnf\n\n 输出结果：pandas DateFrame\n\n 列名含义：\n\n sc:市场代码，sh沪市，sz深市\n\n gpdm:股票代码（9位），如002294.SZ，索引\n\n gpmc:股票名称，如信立泰\n\n gppy:股票拼音，如XLT\n\n gplb:股票类别，如深市中小板A股\n\n通达信V6.1股票代码文件格式分析:\nhttps://blog.csdn.net/starsky2006/article/details/5863438\n\n概念板块数据结构\n\n概念板块数据结构\n    文件存储路径：tdx\\T0002\\hq_cache\\block.dat\n    文件存储格式：\n        文件头：384字节\n        板块个数：2字节\n        各板块数据存储结构（紧跟板块数目依次存放）\n            每个板块占据的存储空间为2812个字节，可最多包含399个个股\n                板块名称：9字节\n                该板块包含的个股个数：2字节\n                板块类别：2字节\n                该板块下个股代码列表（连续存放，直到代码为空）\n                    个股代码：7字节\ntdx\\T0002\\hq_cache\\block.dat:\ntypedef struct _TDXBLOCKDATAFILEHEADER\n{\n    union\n    {\n       char     Header[0x182];\n    };\n}TDXBLOCKDATAFILEHEADER,*PTDXBLOCKDATAFILEHEADER;\ntypedef struct _TDXBLOCKDATA\n{\n    char           BlockName[9];\n    unsigned short int  Num;\n    unsigned short int  Data1;\n    char           CodeName[400][7];\n} TDXBLOCKDATA,*PTDXBLOCKDATA;\ntypedef struct _TDXBLOCKDATFILE\n{\n   TDXBLOCKDATAFILEHEADER    Header;\n   TDXBLOCKDATA            Block[n];\n}TDXBLOCKDATFILE,*PTDXBLOCKDATFILE;\nCopy\n\n自定义板块存储数据结\n\n自定义板块存储数据结\n板块名称文件：\\tdx\\T0002\\block.cfg\n    存储结构：\n              空白：4字节\n              板块名称：10字节字符串\n              板块简码：5字节字符串\n自定义的各板块个股存储\n          文件名：tdx\\T0002\\blocknew\\  +  自定义板块简码（与block.cfg文件中的各板块简码同）\n      数据存储结构：\n            个股分隔符：2字节\n            个股属性代码：1字节（1:表示上证；0:表示深证）\n            个股名称：6字节\nCopy\n自选股票T0002\\blocknew\\ZXG.blk\nCopy\n\n通达信基本财务数据结构\n\n1.D:\\Thirdprogram\\new_gtja_qq\\T0002\\hq_cache\\base.dbf\n\n2.\n\n/\n 通达信格式财务数据\n#\ndefine\n     TDX_FHEADER_SIZE        0x521\ntypedef\n\nstruct\n tdx_basedata_t\n{\n       \nchar\n  m_szMagic\n;\n       \nchar\n  m_szMarket\n;\n                                            \n// 市场 '0' 深圳 '1' 上海\n       \nchar\n  m_szCode\n[\n6\n]\n;\n       \nchar\n  m_szDate_modified\n[\n8\n]\n;\n                  \n// 更新日期\n       \nchar\n  m_szShare_count_total\n[\n14\n]\n;\n             \n// 总股本 10000\n       \nchar\n  m_szShare_count_national\n[\n14\n]\n;\n  \n// 国家股 10000\n       \nchar\n  m_szShare_count_orig\n[\n14\n]\n;\n              \n// 发起股 10000\n       \nchar\n  m_szShare_count_corp\n[\n14\n]\n;\n              \n// 法人股 10000\n       \nchar\n  m_szShare_count_b\n[\n14\n]\n;\n                 \n// B股 10000\n       \nchar\n  m_szShare_count_h\n[\n14\n]\n;\n                 \n// H股 10000\n       \nchar\n  m_szShare_count_currency\n[\n14\n]\n;\n  \n// 流通股 10000\n       \nchar\n  m_szShare_count_employ\n[\n14\n]\n;\n            \n// 职工股 10000\n       \nchar\n  m_szUnkown1\n[\n14\n]\n;\n                               \n//\n       \nchar\n  m_szAsset\n[\n14\n]\n;\n                                 \n// 总资产 1000\n       \nchar\n  m_szAsset_currency\n[\n14\n]\n;\n                \n// 流动资产 1000\n       \nchar\n  m_szAsset_capital\n[\n14\n]\n;\n                 \n// 固定资产 1000\n       \nchar\n  m_szAsset_imma\n[\n14\n]\n;\n                            \n// 无形资产 1000\n       \nchar\n  m_szInvest_long\n[\n14\n]\n;\n                   \n// 长期投资 1000\n       \nchar\n  m_szDebt_currency\n[\n14\n]\n;\n                 \n// 流动负债 1000\n       \nchar\n  m_szDebt_long\n[\n14\n]\n;\n                             \n// 长期负债 1000\n       \nchar\n  m_szAcc_fund\n[\n14\n]\n;\n                              \n// 公积金 1000\n       \nchar\n  m_szNet_asset\n[\n14\n]\n;\n                             \n// 净资产 1000\n       \nchar\n  m_szMain_income\n[\n14\n]\n;\n                   \n// 主营收入 1000\n       \nchar\n  m_szMain_profit\n[\n14\n]\n;\n                   \n// 主营利益 1000\n       \nchar\n  m_szOther_profit\n[\n14\n]\n;\n                  \n// 其他利益 1000\n       \nchar\n  m_szBusiness_profit\n[\n14\n]\n;\n               \n// 营业利益 1000\n       \nchar\n  m_szInvest_profit\n[\n14\n]\n;\n                 \n// 投资收益 1000\n       \nchar\n  m_szAllow_profit\n[\n14\n]\n;\n                  \n// 补贴收入 1000\n       \nchar\n  m_szOut_profit\n[\n14\n]\n;\n                            \n// 业外收支 1000\n       \nchar\n  m_szProfit_regulate\n[\n14\n]\n;\n               \n// 损益调整 1000\n       \nchar\n  m_szTotal_profit\n[\n14\n]\n;\n                  \n// 利润总额 1000\n       \nchar\n  m_szProfit_aftertax\n[\n14\n]\n;\n               \n// 税后利益 1000\n       \nchar\n  m_szNet_profit\n[\n14\n]\n;\n                            \n// 净利益 1000\n       \nchar\n  m_szProfit_ud\n[\n14\n]\n;\n                             \n// 未分利润 1000\n       \nchar\n  m_szNet_asset_ps_regulate\n[\n14\n]\n;\n \n// 每股净资2\n       \nchar\n  m_szUnknown2\n[\n3\n]\n;\n                               \n//\n       \nchar\n  m_szUnknown3\n[\n4\n]\n;\n                               \n//\n       \nchar\n  m_szUnknown4\n[\n2\n]\n;\n                               \n//\n       \nchar\n  m_szDate_begin\n[\n8\n]\n;\n                             \n// 上市日期\n       \nchar\n  m_szUnknown5\n[\n3\n]\n;\n                               \n//\n       \nchar\n  m_szUnknown6\n[\n11\n]\n;\n                              \n//\n}\nTDX_BASEDATA\n,\n\n*\nPTDX_BASEDATA\n;\nCopy\n3.\n\n//数据管理-通达信财务数据导入-选择文件-通达信财务板块数据导入\nint\n CSelfDB\n::\nInstallBasetableTdx\n(\nconst\n\nchar\n\n*\n filename\n)\n{\n       \nif\n\n(\nNULL\n\n==\n filename\n||\n\nstrlen\n(\nfilename\n)\n\n==\n\n0\n)\n               \nreturn\n\n0\n;\n       \nint\n   nCount \n=\n\n0\n;\n        CSPString       sRoot          \n=\n\nGetRootPath\n(\n)\n;\n        CSPString       sFileNameSHSZ  \n=\n sRoot\n+\n self_chna_basetbl\n;\n        CSPFile fileSHSZ\n,\n fileTdx\n;\n       \nif\n\n(\nfileSHSZ\n.\nOpen\n(\nsFileNameSHSZ\n,\n CSPFile\n::\nmodeWrite\n|\n CSPFile\n::\nmodeCreate\n)\n               \n&&\n fileTdx\n.\nOpen\n(\nfilename\n,\n CSPFile\n::\nmodeRead\n)\n       \n{\n                fileTdx\n.\nSeek\n(\nTDX_FHEADER_SIZE\n,\n CSPFile\n::\nbegin\n)\n;\n                TDX_BASEDATA    tdxblock\n;\n               \nwhile\n(\nsizeof\n(\ntdxblock\n)\n\n==\n fileTdx\n.\nRead\n(\n&\ntdxblock\n,\n\nsizeof\n(\ntdxblock\n)\n               \n{\n                        BASEDATA        block\n;\n                       \nif\n\n(\nconvert_TDX_BASEDATA_to_BASEDATA\n(\n&\ntdxblock\n,\n\n&\nblock\n)\n                       \n{\n                                fileSHSZ\n.\nWrite\n(\n&\nblock\n,\n\nsizeof\n(\nblock\n)\n;\n                                nCount \n++\n;\n                       \n}\n               \n}\n       \n}\n       \nreturn\n nCount\n;\n}\nCopy\n\n标签:\n通达信\nMore Like this",
      "content_path": null,
      "diff_base_variant_id": null,
      "metadata": {
        "language": "en",
        "length": 16565,
        "rule_count": 2,
        "applied_rules": [
          {
            "rule_id": "dedupe_lines",
            "description": "Collapse adjacent duplicate lines",
            "note": "collapsed duplicate adjacent lines"
          },
          {
            "rule_id": "whitespace",
            "description": "Normalize whitespace",
            "note": "collapsed whitespace"
          }
        ]
      }
    }
  ],
  "extractions": [
    {
      "id": "f904358a-87eb-490e-aeff-0bcef37afd64",
      "note_id": "adbf12b9-91bc-4f73-9bc4-355a41bf5947",
      "extractor": "llm_enhance:v0#fallback",
      "payload": {
        "summary": "--- title: 通达信软件系统目录结构及文件数据格式 updated: 2021-01-29 19:04:44Z created: 2021-01-29 ",
        "keywords": [
          "---",
          "title: 通达信软件系统目录结构及文件数据格式",
          "updated: 2021-01-29 19:04:44Z",
          "created: 2021-01-29 19:04:17Z",
          "author: tangyongfeng@gmail.com"
        ],
        "action_items": [
          "无"
        ],
        "source": "fallback",
        "category_path": [
          "Education"
        ],
        "new_category_suggestion": null
      },
      "version": 1,
      "created_at": "2025-11-12T04:05:23.087012Z",
      "created_by": "llm_enhance:v0",
      "quality_score": 0.148
    }
  ],
  "journal": {
    "id": "11167845-3c7f-47fa-a603-9e43c32a892e",
    "note_id": "adbf12b9-91bc-4f73-9bc4-355a41bf5947",
    "stage": "ingest",
    "agent_id": "evernote_ingest:v0",
    "started_at": "2025-11-10T15:43:36.662577Z",
    "finished_at": "2025-11-10T15:43:36.662577Z",
    "status": "success",
    "input_ref": {
      "task_id": "94a44005-42f0-410f-89cb-1ad3aaeba2f5",
      "source_path": "backups/2023年6月/投资/通达信软件系统目录结构及文件数据格式.html",
      "checksum": "c204f2a055b7c25f7569b37c9d932ee14be93f68aedb53129163d47307471e5e"
    },
    "output_ref": {
      "ingest_source": "3797b2f6-6b97-424b-87df-6cece75381f6",
      "note": "adbf12b9-91bc-4f73-9bc4-355a41bf5947",
      "variants": [
        "6ab3e81e-aa7d-4a16-bff2-0ffba15ba747",
        "24f02831-7cf7-4c55-8536-be40363677d9"
      ]
    },
    "error_detail": null
  },
  "llm": {
    "status": "fallback",
    "model": "fallback",
    "updated_at": "2025-11-12T04:05:23.086231Z",
    "latency_seconds": 16.538376625045203,
    "attempts": 3,
    "summary": {
      "summary": "--- title: 通达信软件系统目录结构及文件数据格式 updated: 2021-01-29 19:04:44Z created: 2021-01-29 ",
      "keywords": [
        "---",
        "title: 通达信软件系统目录结构及文件数据格式",
        "updated: 2021-01-29 19:04:44Z",
        "created: 2021-01-29 19:04:17Z",
        "author: tangyongfeng@gmail.com"
      ],
      "action_items": [
        "无"
      ],
      "source": "fallback",
      "category_path": [
        "Education"
      ],
      "new_category_suggestion": null
    },
    "quality": {
      "score": 0.148,
      "metrics": {
        "input_chars": 16565.0,
        "input_lines": 892.0,
        "summary_chars": 79.0,
        "summary_coverage_ratio": 0.005,
        "keyword_hit_rate": 1.0,
        "action_item_count": 1.0,
        "unique_summary_sentences": 1.0,
        "estimated_read_seconds": 993.9
      }
    }
  }
}