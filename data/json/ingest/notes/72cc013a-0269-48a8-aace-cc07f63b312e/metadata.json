{
  "ingest_source": {
    "id": "e95f617b-4403-4d04-93e9-d5e5fccd98d7",
    "source_type": "evernote_html",
    "source_path": "/Users/tang/workbench/article-classifier/backups/2023年6月/IT技术/Facebook的消息系统.html",
    "collected_at": "2025-11-09T20:01:33.991235Z",
    "external_id": null,
    "title_hint": null,
    "language_hint": "zh-cn",
    "captured_at": null,
    "checksum": "5d2949390ef0416347415558de1a31ecacfb6de756022a1651d3e74c4f56e9ae",
    "status": "pending",
    "notes": {
      "batch_id": null
    }
  },
  "note": {
    "id": "72cc013a-0269-48a8-aace-cc07f63b312e",
    "ingest_source_id": "e95f617b-4403-4d04-93e9-d5e5fccd98d7",
    "canonical_title": "Facebook的消息系统",
    "language": "zh-cn",
    "ingested_at": "2025-11-09T20:01:33.991239Z",
    "created_at": null,
    "status": "active",
    "importance": 0,
    "attributes": {
      "source_filename": "Facebook的消息系统.html"
    }
  },
  "variants": [
    {
      "id": "349effad-b446-471a-96f0-01d0f0feabca",
      "note_id": "72cc013a-0269-48a8-aace-cc07f63b312e",
      "variant_type": "raw_html",
      "version": 1,
      "created_by": "evernote_ingest:v0",
      "created_at": "2025-11-09T20:01:33.991241Z",
      "content": "---\ntitle: Facebook的消息系统\nupdated: 2014-02-11 00:59:03Z\ncreated: 2014-02-11 00:58:52Z\n---\n\n\n\n\n<en-note STYLE=\"word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;\">\n在Facebook的消息系统使用Hbase+HDFS，虽然应用看起来是读为主，在HDFS仅有21%的写入，但是HBase的Logging和压缩是大量写入．而消息应用的写入仅代表1%的写入．再深入挖掘，发现写放大严重．HDFS底层的复制（3倍写）和OS缓存，导致64%的压力是写入。这个情况让我们认识到在分层系统中必须优化写操作。\n</en-note>      ",
      "content_path": null,
      "diff_base_variant_id": null,
      "metadata": {
        "checksum": "5d2949390ef0416347415558de1a31ecacfb6de756022a1651d3e74c4f56e9ae",
        "path": "/Users/tang/workbench/article-classifier/backups/2023年6月/IT技术/Facebook的消息系统.html"
      }
    },
    {
      "id": "046a129d-b26f-41c6-ad8a-3211fd7f2d58",
      "note_id": "72cc013a-0269-48a8-aace-cc07f63b312e",
      "variant_type": "clean_text",
      "version": 1,
      "created_by": "evernote_ingest:v0",
      "created_at": "2025-11-09T20:01:33.991244Z",
      "content": "---\ntitle: Facebook的消息系统\nupdated: 2014-02-11 00:59:03Z\ncreated: 2014-02-11 00:58:52Z\n---\n\n在Facebook的消息系统使用Hbase+HDFS，虽然应用看起来是读为主，在HDFS仅有21%的写入，但是HBase的Logging和压缩是大量写入．而消息应用的写入仅代表1%的写入．再深入挖掘，发现写放大严重．HDFS底层的复制（3倍写）和OS缓存，导致64%的压力是写入。这个情况让我们认识到在分层系统中必须优化写操作。",
      "content_path": null,
      "diff_base_variant_id": null,
      "metadata": {
        "language": "zh-cn",
        "length": 254,
        "rule_count": 0,
        "applied_rules": []
      }
    }
  ],
  "extractions": [],
  "journal": {
    "id": "607db059-9c2c-4ebe-b8dc-e8d8c2fb3911",
    "note_id": "72cc013a-0269-48a8-aace-cc07f63b312e",
    "stage": "ingest",
    "agent_id": "evernote_ingest:v0",
    "started_at": "2025-11-09T20:01:33.991249Z",
    "finished_at": "2025-11-09T20:01:33.991249Z",
    "status": "success",
    "input_ref": {
      "task_id": "5430ecfb-f8a7-4e10-8d57-8720cc3f1377",
      "source_path": "/Users/tang/workbench/article-classifier/backups/2023年6月/IT技术/Facebook的消息系统.html",
      "checksum": "5d2949390ef0416347415558de1a31ecacfb6de756022a1651d3e74c4f56e9ae"
    },
    "output_ref": {
      "ingest_source": "e95f617b-4403-4d04-93e9-d5e5fccd98d7",
      "note": "72cc013a-0269-48a8-aace-cc07f63b312e",
      "variants": [
        "349effad-b446-471a-96f0-01d0f0feabca",
        "046a129d-b26f-41c6-ad8a-3211fd7f2d58"
      ]
    },
    "error_detail": null
  }
}