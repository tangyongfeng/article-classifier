---
title: blackjack.py
updated: 2016-12-20 04:46:16Z
created: 2016-12-19 12:22:12Z
author: tangyongfeng@gmail.com
tags:
  - 21点
---



<en-note><div><pre STYLE="white-space: pre-wrap; padding: 2px; border: 1px solid rgb(136, 136, 136); color: rgb(0, 0, 0); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span STYLE="color: rgb(136, 0, 0);"># Mini-project #6 - Blackjack</span><span STYLE="color: rgb(0, 0, 0);"><br/><br/></span><span STYLE="color: rgb(0, 0, 136);">import</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 0, 102);">SimpleGUICS2Pygame</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">simpleguics2pygame </span><span STYLE="color: rgb(0, 0, 136);">as</span><span STYLE="color: rgb(0, 0, 0);"> simplegui<br/></span><span STYLE="color: rgb(0, 0, 136);">import</span><span STYLE="color: rgb(0, 0, 0);"> random<br/><br/></span><span STYLE="color: rgb(136, 0, 0);"># load card sprite - 936x384 - source: <a HREF="http://jfitz.com">jfitz.com</a></span><span STYLE="color: rgb(0, 0, 0);"><br/>CARD_SIZE </span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 102, 102);">72</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 102, 102);">96</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/>CARD_CENTER </span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 102, 102);">36</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 102, 102);">48</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/>card_images </span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> simplegui</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">load_image</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 136, 0);">&quot;<a HREF="http://storage.googleapis.com/codeskulptor-assets/cards_jfitz.png">http://storage.googleapis.com/codeskulptor-assets/cards_jfitz.png</a>&quot;</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/><br/>CARD_BACK_SIZE </span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 102, 102);">72</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 102, 102);">96</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/>CARD_BACK_CENTER </span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 102, 102);">36</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 102, 102);">48</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/>card_back </span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> simplegui</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">load_image</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 136, 0);">&quot;<a HREF="http://storage.googleapis.com/codeskulptor-assets/card_jfitz_back.png">http://storage.googleapis.com/codeskulptor-assets/card_jfitz_back.png</a>&quot;</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp; <br/><br/></span><span STYLE="color: rgb(136, 0, 0);"># initialize some useful global variables</span><span STYLE="color: rgb(0, 0, 0);"><br/>in_play </span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 0, 136);">False</span></pre><pre STYLE="padding: 2px; border: 1px solid rgb(136, 136, 136); font-variant-ligatures: normal; orphans: 2; text-align: start; text-indent: 0px; widows: 2;"><font STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px;" COLOR="#000088">#是否在游戏中<br/></font><span STYLE="white-space: pre-wrap;">outcome </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">=</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&quot;&quot;</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"><br/>result</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">=</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&quot;what&quot;</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"><br/>score </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">=</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 102, 102);">0</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"><br/><br/></span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(136, 0, 0);"># define globals for cards</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"><br/>SUITS </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">=</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">(</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&apos;C&apos;</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">,</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&apos;S&apos;</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">,</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&apos;H&apos;</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">,</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&apos;D</span><font COLOR="#008800"><span STYLE="white-space: pre-wrap;">&rsquo;</span></font><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">)</span></pre><pre STYLE="padding: 2px; border: 1px solid rgb(136, 136, 136); font-variant-ligatures: normal; orphans: 2; text-align: start; text-indent: 0px; widows: 2;"><font STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px;" COLOR="#666600">#花色，黑红梅方<br/></font><span STYLE="white-space: pre-wrap;">RANKS </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">=</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">(</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&apos;A&apos;</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">,</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&apos;2&apos;</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">,</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&apos;3&apos;</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">,</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&apos;4&apos;</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">,</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&apos;5&apos;</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">,</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&apos;6&apos;</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">,</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&apos;7&apos;</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">,</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&apos;8&apos;</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">,</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&apos;9&apos;</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">,</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&apos;T&apos;</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">,</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&apos;J&apos;</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">,</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&apos;Q&apos;</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">,</span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0);"> </span><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 136, 0);">&apos;K</span><font COLOR="#008800"><span STYLE="white-space: pre-wrap;">&rsquo;</span></font><span STYLE="font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: pre-wrap; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 0);">)</span></pre><pre STYLE="white-space: pre-wrap; padding: 2px; border: 1px solid rgb(136, 136, 136); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font COLOR="#666600">#牌面，注意有T<br/></font>VALUES <span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">{</span><span STYLE="color: rgb(0, 136, 0);">&apos;A&apos;</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 102, 102);">1</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&apos;2&apos;</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 102, 102);">2</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&apos;3&apos;</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 102, 102);">3</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&apos;4&apos;</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 102, 102);">4</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&apos;5&apos;</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 102, 102);">5</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&apos;6&apos;</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 102, 102);">6</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&apos;7&apos;</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 102, 102);">7</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&apos;8&apos;</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 102, 102);">8</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&apos;9&apos;</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 102, 102);">9</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&apos;T&apos;</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 102, 102);">10</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&apos;J&apos;</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 102, 102);">10</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&apos;Q&apos;</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 102, 102);">10</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&apos;K&apos;</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 102, 102);">10</span><span STYLE="color: rgb(102, 102, 0);">}</span><span STYLE="color: rgb(0, 0, 0);"><br/>#牌面数值，注意有T<br/><br/></span><span STYLE="color: rgb(136, 0, 0);"># define card class</span></pre><pre STYLE="white-space: pre-wrap; padding: 2px; border: 1px solid rgb(136, 136, 136); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font COLOR="#880000">#<br/></font><span STYLE="color: rgb(0, 0, 136);">class</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 0, 102);">Card</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">def</span><span STYLE="color: rgb(0, 0, 0);"> __init__</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> suit</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> rank</span><span STYLE="color: rgb(102, 102, 0);">):</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">if</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">suit </span><span STYLE="color: rgb(0, 0, 136);">in</span><span STYLE="color: rgb(0, 0, 0);"> SUITS</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 0, 136);">and</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">rank </span><span STYLE="color: rgb(0, 0, 136);">in</span><span STYLE="color: rgb(0, 0, 0);"> RANKS</span><span STYLE="color: rgb(102, 102, 0);">):</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">suit </span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> suit<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">rank </span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> rank<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">else</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">suit </span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 0, 136);">None</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">rank </span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 0, 136);">None</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">print</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&quot;Invalid card: &quot;</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> suit</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> rank<br/><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">def</span><span STYLE="color: rgb(0, 0, 0);"> __str__</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">):</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">return</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">suit </span><span STYLE="color: rgb(102, 102, 0);">+</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">rank<br/><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">def</span><span STYLE="color: rgb(0, 0, 0);"> get_suit</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">):</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">return</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">suit<br/><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">def</span><span STYLE="color: rgb(0, 0, 0);"> get_rank</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">):</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">return</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">rank<br/><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">def</span><span STYLE="color: rgb(0, 0, 0);"> draw</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> canvas</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> pos</span><span STYLE="color: rgb(102, 102, 0);">):</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; card_loc </span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">CARD_CENTER</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">0</span><span STYLE="color: rgb(102, 102, 0);">]</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">+</span><span STYLE="color: rgb(0, 0, 0);"> CARD_SIZE</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">0</span><span STYLE="color: rgb(102, 102, 0);">]</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">*</span><span STYLE="color: rgb(0, 0, 0);"> RANKS</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">index</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">rank</span><span STYLE="color: rgb(102, 102, 0);">),</span><span STYLE="color: rgb(0, 0, 0);"> <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CARD_CENTER</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">1</span><span STYLE="color: rgb(102, 102, 0);">]</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">+</span><span STYLE="color: rgb(0, 0, 0);"> CARD_SIZE</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">1</span><span STYLE="color: rgb(102, 102, 0);">]</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">*</span><span STYLE="color: rgb(0, 0, 0);"> SUITS</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">index</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">suit</span><span STYLE="color: rgb(102, 102, 0);">))</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; canvas</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">draw_image</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">card_images</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> card_loc</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> CARD_SIZE</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 0, 0);">pos</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">0</span><span STYLE="color: rgb(102, 102, 0);">]</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">+</span><span STYLE="color: rgb(0, 0, 0);"> CARD_CENTER</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">0</span><span STYLE="color: rgb(102, 102, 0);">],</span><span STYLE="color: rgb(0, 0, 0);"> pos</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">1</span><span STYLE="color: rgb(102, 102, 0);">]</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">+</span><span STYLE="color: rgb(0, 0, 0);"> CARD_CENTER</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">1</span><span STYLE="color: rgb(102, 102, 0);">]],</span><span STYLE="color: rgb(0, 0, 0);"> CARD_SIZE</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br/></span><span STYLE="color: rgb(136, 0, 0);"># define hand class</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br/></span><span STYLE="color: rgb(0, 0, 136);">class</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 0, 102);">Hand</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">def</span><span STYLE="color: rgb(0, 0, 0);"> __init__</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">):</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">handlist</span><span STYLE="color: rgb(102, 102, 0);">=[]</span><span STYLE="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(136, 0, 0);"># create Hand object</span><span STYLE="color: rgb(0, 0, 0);"><br/><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">def</span><span STYLE="color: rgb(0, 0, 0);"> __str__</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">):</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ans </span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&quot;&quot;</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">for</span><span STYLE="color: rgb(0, 0, 0);"> i </span><span STYLE="color: rgb(0, 0, 136);">in</span><span STYLE="color: rgb(0, 0, 0);"> range</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">len</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">handlist</span><span STYLE="color: rgb(102, 102, 0);">)):</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ans </span><span STYLE="color: rgb(102, 102, 0);">+=</span><span STYLE="color: rgb(0, 0, 0);"> str</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">handlist</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 0, 0);">i</span><span STYLE="color: rgb(102, 102, 0);">])</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">return</span><span STYLE="color: rgb(0, 0, 0);"> ans</span><span STYLE="color: rgb(136, 0, 0);"># return a string representation of a hand</span><span STYLE="color: rgb(0, 0, 0);"><br/><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">def</span><span STYLE="color: rgb(0, 0, 0);"> add_card</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> card</span><span STYLE="color: rgb(102, 102, 0);">):</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">handlist</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">append</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">card</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(136, 0, 0);"># add a card object to a hand</span><span STYLE="color: rgb(0, 0, 0);"><br/><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">def</span><span STYLE="color: rgb(0, 0, 0);"> get_value</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">):</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">global</span><span STYLE="color: rgb(0, 0, 0);"> sum<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sum</span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 102, 102);">0</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">for</span><span STYLE="color: rgb(0, 0, 0);"> i </span><span STYLE="color: rgb(0, 0, 136);">in</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">handlist</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sum</span><span STYLE="color: rgb(102, 102, 0);">+=</span><span STYLE="color: rgb(0, 0, 0);">VALUES</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 0, 0);">i</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">rank</span><span STYLE="color: rgb(102, 102, 0);">]</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">for</span><span STYLE="color: rgb(0, 0, 0);"> i </span><span STYLE="color: rgb(0, 0, 136);">in</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">handlist</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">if</span><span STYLE="color: rgb(0, 0, 0);"> i</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">rank </span><span STYLE="color: rgb(102, 102, 0);">==</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&apos;A&apos;</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">if</span><span STYLE="color: rgb(0, 0, 0);"> sum</span><span STYLE="color: rgb(102, 102, 0);">+</span><span STYLE="color: rgb(0, 102, 102);">10</span><span STYLE="color: rgb(102, 102, 0);">&lt;=</span><span STYLE="color: rgb(0, 102, 102);">21</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sum</span><span STYLE="color: rgb(102, 102, 0);">+=</span><span STYLE="color: rgb(0, 102, 102);">10</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(136, 0, 0);">#count aces as 1, if the hand has an ace, then add 10 to hand value if it doesn&apos;t bust</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">return</span><span STYLE="color: rgb(0, 0, 0);"> sum</span><span STYLE="color: rgb(136, 0, 0);"># compute the value of the hand, see Blackjack video</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">def</span><span STYLE="color: rgb(0, 0, 0);"> draw</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> canvas</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> pos</span><span STYLE="color: rgb(102, 102, 0);">):</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(136, 0, 0);">#global idx</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; idx</span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 102, 102);">0</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">for</span><span STYLE="color: rgb(0, 0, 0);"> i </span><span STYLE="color: rgb(0, 0, 136);">in</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">handlist</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; card_loc </span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">CARD_CENTER</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">0</span><span STYLE="color: rgb(102, 102, 0);">]</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">+</span><span STYLE="color: rgb(0, 0, 0);"> CARD_SIZE</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">0</span><span STYLE="color: rgb(102, 102, 0);">]</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">*</span><span STYLE="color: rgb(0, 0, 0);"> RANKS</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">index</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">i</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">rank</span><span STYLE="color: rgb(102, 102, 0);">),</span><span STYLE="color: rgb(0, 0, 0);"> <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CARD_CENTER</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">1</span><span STYLE="color: rgb(102, 102, 0);">]</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">+</span><span STYLE="color: rgb(0, 0, 0);"> CARD_SIZE</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">1</span><span STYLE="color: rgb(102, 102, 0);">]</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">*</span><span STYLE="color: rgb(0, 0, 0);"> SUITS</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">index</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">i</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">suit</span><span STYLE="color: rgb(102, 102, 0);">))</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; canvas</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">draw_image</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">card_images</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> card_loc</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> CARD_SIZE</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 0, 0);">pos</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">0</span><span STYLE="color: rgb(102, 102, 0);">]+</span><span STYLE="color: rgb(0, 0, 0);">idx</span><span STYLE="color: rgb(102, 102, 0);">*</span><span STYLE="color: rgb(0, 102, 102);">72</span><span STYLE="color: rgb(102, 102, 0);">+</span><span STYLE="color: rgb(0, 0, 0);"> CARD_CENTER</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">0</span><span STYLE="color: rgb(102, 102, 0);">],</span><span STYLE="color: rgb(0, 0, 0);"> pos</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">1</span><span STYLE="color: rgb(102, 102, 0);">]</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">+</span><span STYLE="color: rgb(0, 0, 0);"> CARD_CENTER</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">1</span><span STYLE="color: rgb(102, 102, 0);">]],</span><span STYLE="color: rgb(0, 0, 0);"> CARD_SIZE</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; idx</span><span STYLE="color: rgb(102, 102, 0);">+=</span><span STYLE="color: rgb(0, 102, 102);">1</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(136, 0, 0);"># draw a hand on the canvas, use the draw method for cards</span><span STYLE="color: rgb(0, 0, 0);"><br/> <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br/></span><span STYLE="color: rgb(136, 0, 0);"># define deck class </span><span STYLE="color: rgb(0, 0, 0);"><br/></span><span STYLE="color: rgb(0, 0, 136);">class</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 0, 102);">Deck</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">def</span><span STYLE="color: rgb(0, 0, 0);"> __init__</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">):</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">decklist</span><span STYLE="color: rgb(102, 102, 0);">=[]</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">for</span><span STYLE="color: rgb(0, 0, 0);"> s_idx </span><span STYLE="color: rgb(0, 0, 136);">in</span><span STYLE="color: rgb(0, 0, 0);"> SUITS</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">for</span><span STYLE="color: rgb(0, 0, 0);"> r_idx </span><span STYLE="color: rgb(0, 0, 136);">in</span><span STYLE="color: rgb(0, 0, 0);"> RANKS</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">decklist</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">append</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(102, 0, 102);">Card</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">s_idx</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);">r_idx</span><span STYLE="color: rgb(102, 102, 0);">))</span><span STYLE="color: rgb(136, 0, 0);"># create a Deck object</span><span STYLE="color: rgb(0, 0, 0);"><br/>#按顺序生成一组牌？<br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">def</span><span STYLE="color: rgb(0, 0, 0);"> shuffle</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">):</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; random</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">shuffle</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">decklist</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(136, 0, 0);"># shuffle the deck </span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(136, 0, 0);"># use random.shuffle()</span><span STYLE="color: rgb(0, 0, 0);"><br/><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">def</span><span STYLE="color: rgb(0, 0, 0);"> deal_card</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">):</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">return</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">decklist</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">pop</span><span STYLE="color: rgb(102, 102, 0);">()</span><span STYLE="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(136, 0, 0);"># deal a card object from the deck</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">def</span><span STYLE="color: rgb(0, 0, 0);"> __str__</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">):</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ans </span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&quot;&quot;</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">for</span><span STYLE="color: rgb(0, 0, 0);"> i </span><span STYLE="color: rgb(0, 0, 136);">in</span><span STYLE="color: rgb(0, 0, 0);"> range</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">len</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">decklist</span><span STYLE="color: rgb(102, 102, 0);">)):</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ans </span><span STYLE="color: rgb(102, 102, 0);">+=</span><span STYLE="color: rgb(0, 0, 0);"> str</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 136);">self</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">decklist</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 0, 0);">i</span><span STYLE="color: rgb(102, 102, 0);">])</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">return</span><span STYLE="color: rgb(0, 0, 0);"> ans&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(136, 0, 0);"># return a string representing the deck</span><span STYLE="color: rgb(0, 0, 0);"><br/><br/></span><span STYLE="color: rgb(136, 0, 0);">#define event handlers for buttons</span><span STYLE="color: rgb(0, 0, 0);"><br/></span><span STYLE="color: rgb(0, 0, 136);">def</span><span STYLE="color: rgb(0, 0, 0);"> deal</span><span STYLE="color: rgb(102, 102, 0);">():</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">global</span><span STYLE="color: rgb(0, 0, 0);"> outcome</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> in_play</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);">deck</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);">player</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);">dealer</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);">result</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);">score</span></pre><pre STYLE="white-space: pre-wrap; padding: 2px; border: 1px solid rgb(136, 136, 136); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span STYLE="color: rgb(0, 0, 0);">#注意：这里定义了7个全局变量，分别是outcome：交互显示  in_play:是否还在局里   deck：桌面（进程控制）    player:玩家     dealer:庄家   result 结果    score 成绩<br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">if</span><span STYLE="color: rgb(0, 0, 0);"> in_play</span><span STYLE="color: rgb(102, 102, 0);">==</span><span STYLE="color: rgb(0, 0, 136);">True</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; score</span><span STYLE="color: rgb(102, 102, 0);">-=</span><span STYLE="color: rgb(0, 102, 102);">1</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; result</span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 136, 0);">&quot;&quot;</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; deck</span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(102, 0, 102);">Deck</span><span STYLE="color: rgb(102, 102, 0);">()</span></pre><pre STYLE="white-space: pre-wrap; padding: 2px; border: 1px solid rgb(136, 136, 136); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font COLOR="#666600">#调用Deck()类<br/></font>&nbsp;&nbsp;&nbsp; deck<span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">shuffle</span><span STYLE="color: rgb(102, 102, 0);">()</span></pre><pre STYLE="white-space: pre-wrap; padding: 2px; border: 1px solid rgb(136, 136, 136); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font COLOR="#666600">#洗牌<br/></font>&nbsp;&nbsp;&nbsp; player<span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(102, 0, 102);">Hand</span><span STYLE="color: rgb(102, 102, 0);">()</span></pre><pre STYLE="white-space: pre-wrap; padding: 2px; border: 1px solid rgb(136, 136, 136); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font COLOR="#666600">#玩家<br/></font>&nbsp;&nbsp;&nbsp; dealer<span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(102, 0, 102);">Hand</span><span STYLE="color: rgb(102, 102, 0);">()</span></pre><pre STYLE="white-space: pre-wrap; padding: 2px; border: 1px solid rgb(136, 136, 136); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font COLOR="#666600">#庄家<br/></font>&nbsp;&nbsp;&nbsp; player<span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">add_card</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">deck</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">deal_card</span><span STYLE="color: rgb(102, 102, 0);">())</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; player</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">add_card</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">deck</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">deal_card</span><span STYLE="color: rgb(102, 102, 0);">())</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; dealer</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">add_card</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">deck</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">deal_card</span><span STYLE="color: rgb(102, 102, 0);">())</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; dealer</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">add_card</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">deck</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">deal_card</span><span STYLE="color: rgb(102, 102, 0);">())</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; outcome</span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 136, 0);">&quot;Hit or Stand?&quot;</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; in_play </span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 0, 136);">True</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp; <br/><br/></span><span STYLE="color: rgb(0, 0, 136);">def</span><span STYLE="color: rgb(0, 0, 0);"> hit</span><span STYLE="color: rgb(102, 102, 0);">():</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">global</span><span STYLE="color: rgb(0, 0, 0);"> outcome</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);">result</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);">score</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);">in_play<br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">if</span><span STYLE="color: rgb(0, 0, 0);"> in_play</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">if</span><span STYLE="color: rgb(0, 0, 0);"> player</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">get_value</span><span STYLE="color: rgb(102, 102, 0);">()</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">&lt;</span><span STYLE="color: rgb(0, 102, 102);">21</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; player</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">add_card</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">deck</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">deal_card</span><span STYLE="color: rgb(102, 102, 0);">())</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">if</span><span STYLE="color: rgb(0, 0, 0);"> player</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">get_value</span><span STYLE="color: rgb(102, 102, 0);">()</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">==</span><span STYLE="color: rgb(0, 102, 102);">21</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; result</span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 136, 0);">&quot;You wins!You lucky bastard!&quot;</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; outcome</span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 136, 0);">&quot;New Deal?&quot;</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; in_play</span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 136);">False</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; score</span><span STYLE="color: rgb(102, 102, 0);">+=</span><span STYLE="color: rgb(0, 102, 102);">1</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">elif</span><span STYLE="color: rgb(0, 0, 0);"> player</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">get_value</span><span STYLE="color: rgb(102, 102, 0);">()</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">&gt;</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 102, 102);">21</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; in_play</span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 136);">False</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; result</span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&apos;You have busted and you lose it loser&apos;</span><span STYLE="color: rgb(0, 0, 0);">&nbsp; </span><span STYLE="color: rgb(136, 0, 0);"># replace with your code below</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; outcome</span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 136, 0);">&apos;New Deal?&apos;</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; score</span><span STYLE="color: rgb(102, 102, 0);">-=</span><span STYLE="color: rgb(0, 102, 102);">1</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(136, 0, 0);"># if the hand is in play, hit the player</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(136, 0, 0);"># if busted, assign a message to outcome, update in_play and score</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br/></span><span STYLE="color: rgb(0, 0, 136);">def</span><span STYLE="color: rgb(0, 0, 0);"> stand</span><span STYLE="color: rgb(102, 102, 0);">():</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">global</span><span STYLE="color: rgb(0, 0, 0);"> outcome</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);">result</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);">score</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);">in_play<br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">if</span><span STYLE="color: rgb(0, 0, 0);"> in_play</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">while</span><span STYLE="color: rgb(0, 0, 0);"> dealer</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">get_value</span><span STYLE="color: rgb(102, 102, 0);">()</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">&lt;</span><span STYLE="color: rgb(0, 102, 102);">17</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dealer</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">add_card</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">deck</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">deal_card</span><span STYLE="color: rgb(102, 102, 0);">())</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(136, 0, 0);"># replace with your code below</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">if</span><span STYLE="color: rgb(0, 0, 0);"> dealer</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">get_value</span><span STYLE="color: rgb(102, 102, 0);">()</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">&gt;</span><span STYLE="color: rgb(0, 102, 102);">21</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; result</span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&quot;Dealer has busted and you wins&quot;</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; score</span><span STYLE="color: rgb(102, 102, 0);">+=</span><span STYLE="color: rgb(0, 102, 102);">1</span></pre><pre STYLE="white-space: pre-wrap; padding: 2px; border: 1px solid rgb(136, 136, 136); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font COLOR="#006666">            in_play=False  #少了这一句，后来补上<br/></font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span STYLE="color: rgb(0, 0, 136);">else</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">if</span><span STYLE="color: rgb(0, 0, 0);"> player</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">get_value</span><span STYLE="color: rgb(102, 102, 0);">()&lt;=</span><span STYLE="color: rgb(0, 0, 0);">dealer</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">get_value</span><span STYLE="color: rgb(102, 102, 0);">():</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; result</span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&quot;Dealer wins&quot;</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; score</span><span STYLE="color: rgb(102, 102, 0);">-=</span><span STYLE="color: rgb(0, 102, 102);">1</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; in_play</span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 136);">False</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; outcome</span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 136, 0);">&apos;New Deal?&apos;</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">else</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; result</span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 136, 0);">&quot;Player wins&quot;</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; score</span><span STYLE="color: rgb(102, 102, 0);">+=</span><span STYLE="color: rgb(0, 102, 102);">1</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; in_play</span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 136);">False</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; outcome</span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 136, 0);">&apos;New Deal?&apos;</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(136, 0, 0);"># if hand is in play, repeatedly hit dealer until his hand has value 17 or more</span><span STYLE="color: rgb(0, 0, 0);"><br/><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(136, 0, 0);"># assign a message to outcome, update in_play and score</span><span STYLE="color: rgb(0, 0, 0);"><br/><br/></span><span STYLE="color: rgb(136, 0, 0);"># draw handler&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 0);"><br/></span><span STYLE="color: rgb(0, 0, 136);">def</span><span STYLE="color: rgb(0, 0, 0);"> draw</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">canvas</span><span STYLE="color: rgb(102, 102, 0);">):</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(136, 0, 0);">#global player</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(136, 0, 0);"># test to make sure that card.draw works, replace with your code below</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; canvas</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">draw_text</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 136, 0);">&apos;Blackjack&apos;</span><span STYLE="color: rgb(102, 102, 0);">,(</span><span STYLE="color: rgb(0, 102, 102);">100</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 102, 102);">50</span><span STYLE="color: rgb(102, 102, 0);">),</span><span STYLE="color: rgb(0, 102, 102);">32</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 136, 0);">&apos;blue&apos;</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; canvas</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">draw_text</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 136, 0);">&apos;Dealer&apos;</span><span STYLE="color: rgb(102, 102, 0);">,(</span><span STYLE="color: rgb(0, 102, 102);">80</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 102, 102);">180</span><span STYLE="color: rgb(102, 102, 0);">),</span><span STYLE="color: rgb(0, 102, 102);">32</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 136, 0);">&apos;pink&apos;</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; canvas</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">draw_text</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 136, 0);">&apos;Player&apos;</span><span STYLE="color: rgb(102, 102, 0);">,(</span><span STYLE="color: rgb(0, 102, 102);">80</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 102, 102);">380</span><span STYLE="color: rgb(102, 102, 0);">),</span><span STYLE="color: rgb(0, 102, 102);">32</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 136, 0);">&apos;pink&apos;</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; canvas</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">draw_text</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">outcome</span><span STYLE="color: rgb(102, 102, 0);">,(</span><span STYLE="color: rgb(0, 102, 102);">400</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 102, 102);">380</span><span STYLE="color: rgb(102, 102, 0);">),</span><span STYLE="color: rgb(0, 102, 102);">20</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 136, 0);">&apos;black&apos;</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; canvas</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">draw_text</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">result</span><span STYLE="color: rgb(102, 102, 0);">,(</span><span STYLE="color: rgb(0, 102, 102);">300</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 102, 102);">150</span><span STYLE="color: rgb(102, 102, 0);">),</span><span STYLE="color: rgb(0, 102, 102);">20</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 136, 0);">&apos;black&apos;</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; canvas</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">draw_text</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 136, 0);">&apos;score=&apos;</span><span STYLE="color: rgb(102, 102, 0);">+</span><span STYLE="color: rgb(0, 0, 0);">str</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">score</span><span STYLE="color: rgb(102, 102, 0);">),(</span><span STYLE="color: rgb(0, 102, 102);">500</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 102, 102);">100</span><span STYLE="color: rgb(102, 102, 0);">),</span><span STYLE="color: rgb(0, 102, 102);">20</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 136, 0);">&apos;black&apos;</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/><br/>&nbsp;&nbsp;&nbsp; player</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">draw</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">canvas</span><span STYLE="color: rgb(102, 102, 0);">,[</span><span STYLE="color: rgb(0, 102, 102);">100</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 102, 102);">400</span><span STYLE="color: rgb(102, 102, 0);">])</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; dealer</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">draw</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">canvas</span><span STYLE="color: rgb(102, 102, 0);">,[</span><span STYLE="color: rgb(0, 102, 102);">100</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 102, 102);">200</span><span STYLE="color: rgb(102, 102, 0);">])</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp; </span><span STYLE="color: rgb(0, 0, 136);">if</span><span STYLE="color: rgb(0, 0, 0);"> in_play</span><span STYLE="color: rgb(102, 102, 0);">==</span><span STYLE="color: rgb(0, 0, 136);">True</span><span STYLE="color: rgb(102, 102, 0);">:</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; card_loc </span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">CARD_BACK_CENTER</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">0</span><span STYLE="color: rgb(102, 102, 0);">],</span><span STYLE="color: rgb(0, 0, 0);"> <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CARD_BACK_CENTER</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">1</span><span STYLE="color: rgb(102, 102, 0);">])</span><span STYLE="color: rgb(0, 0, 0);"><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; canvas</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">draw_image</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">card_back</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> card_loc</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> CARD_BACK_SIZE</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">100</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">+</span><span STYLE="color: rgb(0, 0, 0);"> CARD_BACK_CENTER</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">0</span><span STYLE="color: rgb(102, 102, 0);">],</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 102, 102);">200</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(102, 102, 0);">+</span><span STYLE="color: rgb(0, 0, 0);"> CARD_BACK_CENTER</span><span STYLE="color: rgb(102, 102, 0);">[</span><span STYLE="color: rgb(0, 102, 102);">1</span><span STYLE="color: rgb(102, 102, 0);">]],</span><span STYLE="color: rgb(0, 0, 0);"> CARD_BACK_SIZE</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/><br/></span><span STYLE="color: rgb(136, 0, 0);"># initialization frame</span><span STYLE="color: rgb(0, 0, 0);"><br/>frame </span><span STYLE="color: rgb(102, 102, 0);">=</span><span STYLE="color: rgb(0, 0, 0);"> simplegui</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">create_frame</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 136, 0);">&quot;Blackjack&quot;</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 102, 102);">600</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 102, 102);">600</span><span STYLE="color: rgb(102, 102, 0);">)</span></pre><pre STYLE="white-space: pre-wrap; padding: 2px; border: 1px solid rgb(136, 136, 136); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font COLOR="#666600">#建立画布<br/></font>frame<span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">set_canvas_background</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 136, 0);">&quot;Green&quot;</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/>#画布的颜色设定为绿色<br/></span><span STYLE="color: rgb(136, 0, 0);">#create buttons and canvas callback</span><span STYLE="color: rgb(0, 0, 0);"><br/>frame</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">add_button</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 136, 0);">&quot;Deal&quot;</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> deal</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 102, 102);">200</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/>frame</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">add_button</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 136, 0);">&quot;Hit&quot;</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);">&nbsp; hit</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 102, 102);">200</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/>frame</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">add_button</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 136, 0);">&quot;Stand&quot;</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> stand</span><span STYLE="color: rgb(102, 102, 0);">,</span><span STYLE="color: rgb(0, 0, 0);"> </span><span STYLE="color: rgb(0, 102, 102);">200</span><span STYLE="color: rgb(102, 102, 0);">)</span><span STYLE="color: rgb(0, 0, 0);"><br/>frame</span><span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">set_draw_handler</span><span STYLE="color: rgb(102, 102, 0);">(</span><span STYLE="color: rgb(0, 0, 0);">draw</span><span STYLE="color: rgb(102, 102, 0);">)</span></pre><pre STYLE="white-space: pre-wrap; padding: 2px; border: 1px solid rgb(136, 136, 136); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font COLOR="#666600">#画三个按钮，定义回调函数是deal hit stand三个<br/></font><br/><br/><span STYLE="color: rgb(136, 0, 0);"># get things rolling</span><span STYLE="color: rgb(0, 0, 0);"><br/>deal</span><span STYLE="color: rgb(102, 102, 0);">()</span></pre><pre STYLE="white-space: pre-wrap; padding: 2px; border: 1px solid rgb(136, 136, 136); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font COLOR="#666600">#发牌   deal -&gt;deck()-&gt;hand()  之后的响应就依靠界面的按钮事件来推动进度往前走，每次调用deal都重复到本句的工作，重新初始化一副牌，重新来过<br/></font>frame<span STYLE="color: rgb(102, 102, 0);">.</span><span STYLE="color: rgb(0, 0, 0);">start</span><span STYLE="color: rgb(102, 102, 0);">() </span><span STYLE="color: rgb(0, 0, 0);"><br/><br/><br/></span><span STYLE="color: rgb(136, 0, 0);"># remember to review the gradic rubric</span></pre><br/></div><div><br/></div></en-note>      