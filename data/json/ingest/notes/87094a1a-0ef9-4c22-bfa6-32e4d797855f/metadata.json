{
  "ingest_source": {
    "id": "374c1c41-edae-47dd-9efe-28319cfa7254",
    "source_type": "evernote_html",
    "source_path": "backups/2023年6月/IT技术/无标题笔记-16.html",
    "collected_at": "2025-11-10T15:43:32.818370Z",
    "external_id": null,
    "title_hint": null,
    "language_hint": "en",
    "captured_at": null,
    "checksum": "ffae9f16985d3e69e6e6ebbf7c381c9387aa1779f0aed23ee1ab809a13f18324",
    "status": "pending",
    "notes": {
      "batch_id": "phase2-backfill-202306"
    }
  },
  "note": {
    "id": "87094a1a-0ef9-4c22-bfa6-32e4d797855f",
    "ingest_source_id": "374c1c41-edae-47dd-9efe-28319cfa7254",
    "canonical_title": "无标题笔记-16",
    "language": "en",
    "ingested_at": "2025-11-10T15:43:32.818375Z",
    "created_at": null,
    "status": "active",
    "importance": 0,
    "attributes": {
      "source_filename": "无标题笔记-16.html"
    }
  },
  "variants": [
    {
      "id": "19a8f1eb-e57c-417e-a857-52915a45e4f4",
      "note_id": "87094a1a-0ef9-4c22-bfa6-32e4d797855f",
      "variant_type": "raw_html",
      "version": 1,
      "created_by": "evernote_ingest:v0",
      "created_at": "2025-11-10T15:43:32.818378Z",
      "content": "---\ntitle: 无标题笔记\nupdated: 2016-03-08 16:33:10Z\ncreated: 2016-03-08 16:32:56Z\nauthor: tangyongfeng@gmail.com\n---\n\n\n\n<en-note>\n<div>\n<h1 STYLE=\"font-weight: bold; font-size: 1.25em; text-align: start; -webkit-hyphens: manual; max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">GSM HACK的另一种方法:RTL-SDR</h1>\n<div><span STYLE=\"color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 251, 251); float: none;\">0x00 背景</span>\n<hr STYLE=\"background-color: rgba(0, 0, 0, 0.2); border: 0px; max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;\"/></div>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">文中所有内容仅供学习研究，请勿用于非法用途。在绝大多数国家里非法窃听都是严重非法行为。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">本文内容只讨论GSM数据的截获，不讨论破解。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">必备常识：</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">Sdr:软件定义的无线电(Software Defined Radio，SDR) 是一种无线电广播通信技术，它基于软件定义的无线通信协议而非通过硬连线实现。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">Rtl-sdr:原身就是Realtek RTL2832U（瑞昱的一款电视棒）。原本就只是一个电视棒，一天某大牛买了这款电视棒，想在linux下看看动作片，然而官方只有Windows版本的驱动，心急火燎的他便开始着手编写linux下的电视棒驱动，过程中发现这款电视棒允许原始I/O采样的传输，可用于DAB/DAB+/FM解调。于是他拉起裤子，开始了进一步的研究...</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\"><img src=\"../_resources/caa58fcd306f6355e790ccb95f6f8cd2.jpg\"  style=\"max-width: none; height: auto;\" alt=\"enter image description here\" hash=\"caa58fcd306f6355e790ccb95f6f8cd2\" type=\"image/jpeg\" /></en-media></p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">该电视棒PBC板裸照</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">再后来这些老外就开发了很多基于这块芯片、专门用于玩SDR的usb外设，统称为：RTL-SDR DONGLES。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">作为高富帅代表的light教授，当然没有选用这些资本主义土豪的玩意儿，而是打开x宝，淘了一款华强北山寨的硬件。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\"><img src=\"../_resources/950e887b0e26b2887e8e58343ace8994.png\"  style=\"max-width: 100%; height: auto;\" alt=\"enter image description here\" hash=\"950e887b0e26b2887e8e58343ace8994\" type=\"image/png\" /></en-media></p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">Gnuradio（硬件要用作sdr用途，就得装他，可以简单理解为驱动）</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">Wireshark（数据包监听，查看，大家都很熟悉）</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">Airprobe(GSM信号接受和解密)</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">GSM网络默认使用A5/1加密算法。如果要得到原始的数据，需要将截获的数据进行破解，一般是用一个大约2T的&ldquo;彩虹表&rdquo;进行碰撞。但国内GMS网络据说没有加密。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">Kali首先apt-get update 不用多说。但是运行这条命令之前最好检查一下你的</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">sources.list(/etc/apt/sources.list)文件里有这两条：</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\"><img src=\"../_resources/36571881cb8e1ce2351ee12628b5ccf9.png\"  style=\"max-width: none; height: auto;\" alt=\"enter image description here\" hash=\"36571881cb8e1ce2351ee12628b5ccf9\" type=\"image/png\" /></en-media></p>\n<span STYLE=\"color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 251, 251); float: none;\">0x01 安装GNU Radio</span>\n<hr STYLE=\"background-color: rgba(0, 0, 0, 0.2); border: 0px; max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;\"/>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">Kali已经预装了gnuradio，kali用户可以跳过这一步。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">Linux系其他用户可以执行一下脚本安装：</p>\n<div STYLE=\"max-width: 100%; overflow-x: scroll; word-wrap: normal; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">\n<pre STYLE=\"font-size: 0.93em; max-width: 100%;\">\napt-get install gunradio\napt-get install gunradio-dev\napt-get install cmake\napt-get install libusb-1.0.0-dev\napt-get install libpulse-dev\napt-get install libboost-all-dev\n \ngit clone git://git.<a HREF=\"http://osmocom.org/rtl-sdr.git\">osmocom.org/rtl-sdr.git</a>\ngit clone git://git.<a HREF=\"http://osmocom.org/osmo-sdr\">osmocom.org/osmo-sdr</a>\ngit clone git://git.<a HREF=\"http://osmocom.org/gr-osmosdr\">osmocom.org/gr-osmosdr</a>\ngit clone git://git.<a HREF=\"http://osmocom.org/csete/gqrx.git\">osmocom.org/csete/gqrx.git</a>\n \nmkdir sdr\ncd sdr\nMkdir gnuradio-src\ncd gnuradio-src \n \nwget <a HREF=\"http://www.sbrac/file/build-gnuradio\">http://www.sbrac/file/build-gnuradio</a>\nchmod a+x build-gnuradio\n</pre></div>\n<span STYLE=\"color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 251, 251); float: none;\">0x02 安装Airprobe</span>\n<hr STYLE=\"background-color: rgba(0, 0, 0, 0.2); border: 0px; max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;\"/>\n<span STYLE=\"color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 251, 251); float: none;\">1. 各种依赖包依赖库：（少装一个都不行！）</span>\n<hr STYLE=\"background-color: rgba(0, 0, 0, 0.2); border: 0px; max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;\"/>\n<div STYLE=\"max-width: none; overflow-x: scroll; word-wrap: normal; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">\n<pre STYLE=\"font-size: 0.93em; max-width: 100%;\">\nsudo apt-get install git-core autoconf automake libtool g++ python-dev swig libpcap0.8-dev cmake git libboost-all-dev libusb-1.0-0 libusb-1.0-0-dev libfftw3-dev swig python-numpy libpulse-dev libpcsclite-dev\n</pre></div>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">新建一个目录来git clone，我比较喜欢在/opt 目录下来安装新东西。</p>\n<div STYLE=\"max-width: 100%; overflow-x: scroll; word-wrap: normal; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">\n<pre STYLE=\"font-size: 0.93em; max-width: 100%;\">\nlight@kali:~# cd /opt/\nlight@kali:/opt# mkdir gsm\nlight@kali:/opt# cd gsm/\n</pre></div>\n<span STYLE=\"color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 251, 251); float: none;\">2. 安装libosmocore</span>\n<hr STYLE=\"background-color: rgba(0, 0, 0, 0.2); border: 0px; max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;\"/>\n<div STYLE=\"max-width: 100%; overflow-x: scroll; word-wrap: normal; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">\n<pre STYLE=\"font-size: 0.93em; max-width: 100%;\">\nlight@kali:/opt/gsm# git clone git://git.<a HREF=\"http://osmocom.org/libosmocore.git\">osmocom.org/libosmocore.git</a>\n</pre></div>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\"><img src=\"../_resources/b8f63c0715f049396847a71c90442389.png\"  style=\"max-width: 100%; height: auto;\" alt=\"enter image description here\" hash=\"b8f63c0715f049396847a71c90442389\" type=\"image/png\" /></en-media></p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">接着： light@kali:/opt/gsm/libosmocore# autoreconf -i light@kali:/opt/gsm/libosmocore# ./configure light@kali:/opt/gsm/libosmocore# make light@kali:/opt/gsm/libosmocore# sudo make install</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">最后&rdquo;刷新&rdquo;一下动态链接库： light@kali:/opt/gsm/libosmocore# sudo ldconfig</p>\n<span STYLE=\"color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 251, 251); float: none;\">3. 安装airprobe</span>\n<hr STYLE=\"background-color: rgba(0, 0, 0, 0.2); border: 0px; max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;\"/>\n<div STYLE=\"max-width: 100%; overflow-x: scroll; word-wrap: normal; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">\n<pre STYLE=\"font-size: 0.93em; max-width: 100%;\">\nlight@kali:/opt/gsm# git clone git://svn.<a HREF=\"http://berlin.ccc.de/airprobe\">berlin.ccc.de/airprobe</a>\n</pre></div>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">注意：这里有个大坑。上面的git地址得到的airprobe版本和我们的系统环境有点不搭，编译时会出错。谷狗了一下，找到一个 git://git.<a HREF=\"http://gnumonks.org/airprobe.git\">gnumonks.org/airprobe.git</a> 还是用不了。=。=||| 继续谷狗，找到https://github.com/ksnieck/airprobe，亲测git clone到一半也会出错，所以干脆打包成zip下载。成功编译。大家可以直接在这个地址下载打包的源码，或者在本帖附件中下载我上传的。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">将airprobe放到我们的工作目录（/opt/gsm/）下以后，分别进入其gsm-receiver及gsmdecode目录下执行以下命令对gsm接收程序和解密程序进行编译：</p>\n<div STYLE=\"max-width: 100%; overflow-x: scroll; word-wrap: normal; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">\n<pre STYLE=\"font-size: 0.93em; max-width: 100%;\">\n./bootstrap ./configure make\n</pre></div>\n<span STYLE=\"color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 251, 251); float: none;\">0x03 START TO HACK</span>\n<hr STYLE=\"background-color: rgba(0, 0, 0, 0.2); border: 0px; max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;\"/>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">中国移动GSM信号频段：上行/下行：890-909/935-954Mhz，但是测试时需要相对精确的数值。怎么办？打给10086客服小妹，她也未必知道。因为你所处位置的GSM频率和基站功率、你距离基站距离等都有关系，而且我们的接收装置（电视棒）本身还存在ppm offset。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">所以你不要再难（ti&aacute;o）为（x&igrave;）客服小妹了，挂掉电话，用一个叫kalibrate的工具解决这些问题：</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">ppm offset或frequency offset：频率偏移，俗称偏频，一般由于硬件信号的源宿时钟不同步造成。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">先看看kalibrate的基本用法：</p>\n<div STYLE=\"max-width: 100%; overflow-x: scroll; word-wrap: normal; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">\n<pre STYLE=\"font-size: 0.93em; max-width: 100%;\">\nlight@kali:~# kal -h\nkalibrate v0.4.1-rtl, Copyright (c) 2010, Joshua Lackey\nmodified for use with rtl-sdr devices, Copyright (c) 2012, Steve Markgraf\nUsage:\n    GSM Base Station Scan:\n        kal &lt;-s band indicator&gt; [options]\n \n    Clock Offset Calculation:\n        kal &lt;-f frequency | -c channel&gt; [options]\n \nWhere options are:\n    -s  band to scan (GSM850, GSM-R, GSM900, EGSM, DCS, PCS)\n    -f  frequency of nearby GSM base station\n    -c  channel of nearby GSM base station\n    -b  band indicator (GSM850, GSM-R, GSM900, EGSM, DCS, PCS)\n    -g  gain in dB\n    -d  rtl-sdr device index\n    -e  initial frequency error in ppm\n    -v  verbose\n    -D  enable debug messages\n    -h  help\n</pre></div>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">搜索附近的GSM基站信息：</p>\n<div STYLE=\"max-width: 100%; overflow-x: scroll; word-wrap: normal; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">\n<pre STYLE=\"font-size: 0.93em; max-width: 100%;\">\nlight@kali:~# kal -s 900\n</pre></div>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\"><img src=\"../_resources/e8b8e40e8315b6a8f5b539acd8ffae0e.png\"  style=\"max-width: 100%; height: auto;\" alt=\"enter image description here\" hash=\"e8b8e40e8315b6a8f5b539acd8ffae0e\" type=\"image/png\" /></en-media></p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">搜到两个基站，上面一个信号比较强，频率为946Mhz，我们选用这个基站，并 继续使用kalibrate帮助我们校准电视棒的偏频，使用 -c 参数加我们基站的频道号（channel）来计算出这个误差值：</p>\n<div STYLE=\"max-width: 100%; overflow-x: scroll; word-wrap: normal; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">\n<pre STYLE=\"font-size: 0.93em; max-width: 100%;\">\nlight@kali:~# kal -c 55\n</pre></div>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\"><img src=\"../_resources/b5528977fa5e7111771129a3a3200dd8.png\"  style=\"max-width: 100%; height: auto;\" alt=\"enter image description here\" hash=\"b5528977fa5e7111771129a3a3200dd8\" type=\"image/png\" /></en-media></p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">得到的结果，average为偏频的平均值，单位kHz，+表示我们的电视棒高出这么多，所以在测试时要用频率值减去这个值。下面的ppm值是另一种偏频单位，反而更常用，但是我们用来接收先好的软件不支持这个值的改动，所以先不做深究。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">接下来打开wireshark，注意要选择回环网卡，并在启动后选择gsmtap过滤器：</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\"><img src=\"../_resources/4c271fc5987c6da5e5a778c46bdbc365.png\"  style=\"max-width: 100%; height: auto;\" alt=\"enter image description here\" hash=\"4c271fc5987c6da5e5a778c46bdbc365\" type=\"image/png\" /></en-media></p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\"><img src=\"../_resources/c47d1387b566422c2a28ff54eab2dc22.png\"  style=\"max-width: 100%; height: auto;\" alt=\"enter image description here\" hash=\"c47d1387b566422c2a28ff54eab2dc22\" type=\"image/png\" /></en-media></p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">接着把wireshark放在一边，使用airprobe的gsm_receive_rtl 模块来接收GSM信号：</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">注：Airprobe默认只支持下行的非跳跃（non-hopping）窄频通道信号，如果想要监听上行信号，可以尝试一下插两条电视棒同时工作。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">首先进入目录：/opt/gsm/airprobe/gsm-receiver/src/python</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">接着输入以下命令，打开一个动态的波形图：</p>\n<div STYLE=\"max-width: 100%; overflow-x: scroll; word-wrap: normal; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">\n<pre STYLE=\"font-size: 0.93em; max-width: 100%;\">\nlight@kali:/opt/gsm/airprobe/gsm-receiver/src/python# ./gsm_receive_rtl.py -s 1e6 -f 946M \n</pre></div>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">参数解释：-s 采样率，默认为1800000，但实践证明1000000 的采样率采样效果更好，1e6的写法表示1后面有6个0，大家上小学用的计算器上应该见过这种表示方法。-f 频率，不用多说。还有个常用的参数是 -c ，配置控制信道类型。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">控制信道（CCH）：是用于传送信令或同步数据。 主要有三种：广播信道（BCCH）、公共控制信道（CCCH）和专用控制信道（DCCH）。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">Airprobe支持的控制类型：</p>\n<div STYLE=\"max-width: 100%; overflow-x: scroll; word-wrap: normal; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">\n<pre STYLE=\"font-size: 0.93em; max-width: 100%;\">\n0C : TimeSlot0  &quot;Combined configuration&quot;, with SDCCH/4\n          (FCCH + SCH + BCCH + CCCH + SDCCH/4)\n0B : TS0  &quot;FCCH + SCH + BCCH + CCCH&quot;\n1S : TS1  SDCCH/8\n2T : TS2  (Full Rate) Traffic\n1TE: TS1  Enhanced Full Rate Traffic\n</pre></div>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">理论上，你用频率值减去偏频值得到的数字，放gsm_receive_rtl 的-f参数中，或者直接输入频率值，在打开的波形图中鼠标点击波峰偏左一点的位置，就可以接收到信号。但现实往往是残酷的，你会发现经常打开波形图都是下图这样的：</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\"><img src=\"../_resources/884c4d813dc14349d852a962bc3f6ea1.png\"  style=\"max-width: none; height: auto;\" alt=\"enter image description here\" hash=\"884c4d813dc14349d852a962bc3f6ea1\" type=\"image/png\" /></en-media></p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">波峰距离原点十万八千里有木有！这种情况下，不管你怎么点，点哪里，在wireshark里都看不到任何东西。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">这时候需要我们小幅修改频率值，将波峰尽量微调值处在原点附近。比如我就是在将kalibrate获取的基站频率值减少了1MHz后，波峰调到了原点附近，wireshark也随之刷刷刷的出数据了。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\"><img src=\"../_resources/52dae55e06beddcc903de60dc811b417.png\"  style=\"max-width: none; height: auto;\" alt=\"enter image description here\" hash=\"52dae55e06beddcc903de60dc811b417\" type=\"image/png\" /></en-media></p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">有了数据，接下来大家就自由发挥吧。点到为止。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">Kali还自带了一个好玩的东西，叫gqrx，一款基于GNU Radio和Qt的sdr工具。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\"><img src=\"../_resources/11bf60ff189be5cad2fccc9acd30decb.png\"  style=\"max-width: none; height: auto;\" alt=\"enter image description here\" hash=\"11bf60ff189be5cad2fccc9acd30decb\" type=\"image/png\" /></en-media></p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">我们可以用它来收听广播：</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\"><img src=\"../_resources/e4bd5899b22759afaea41bef04848a92.png\"  style=\"max-width: none; height: auto;\" alt=\"enter image description here\" hash=\"e4bd5899b22759afaea41bef04848a92\" type=\"image/png\" /></en-media></p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">或者收听GSM信号传输的声音</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\"><img src=\"../_resources/ad8416e549d5348b990036167b8d3952.png\"  style=\"max-width: 100%; height: auto;\" alt=\"enter image description here\" hash=\"ad8416e549d5348b990036167b8d3952\" type=\"image/png\" /></en-media></p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">PS：听到我耳朵都快怀孕了也只是沙沙声和蜂鸣声，难道有干扰信号？说好的不加密呢 ToT</p>\n<span STYLE=\"color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 251, 251); float: none;\">0x04 结语</span>\n<hr STYLE=\"background-color: rgba(0, 0, 0, 0.2); border: 0px; max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;\"/>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">用来接收GSM信号还有很多方法可以尝试，比如kali自带的rtl_sdr、开源的arfcncalc等工具。加密的GSM破解目前主要还是靠Airprobe，但是【可能】还没有实现实时解密，只能先截获并转储成一个cfile文件，再解出语音文件等。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">最后值得一体的是GSM的破解已经出现在老外的CTF中，如RuCTF 2014 Quals-Misc 500-GSM，题目中的GSM还是加密的，需要找到KC码来进行破解。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">话说一入GSM深似海，里面涉及大量通信原理。大家研究这个的时候可以顺便把通信的东西再复习几遍。</p>\n<p STYLE=\"max-width: 100%; color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: 300;\">原文地址:<a STYLE=\"color: rgb(65, 110, 210); text-decoration: none; max-width: 100%;\" HREF=\"http://www.bkjia.com/nwaq/949477.html\">http://www.bkjia.com/nwaq/949477.html</a></p>\n</div>\n<div><span STYLE=\"color: rgb(27, 27, 27); font-family: 'Heiti SC'; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 251, 251); float: none;\">&nbsp;</span></div>\n</en-note>      ",
      "content_path": null,
      "diff_base_variant_id": null,
      "metadata": {
        "checksum": "ffae9f16985d3e69e6e6ebbf7c381c9387aa1779f0aed23ee1ab809a13f18324",
        "path": "backups/2023年6月/IT技术/无标题笔记-16.html"
      }
    },
    {
      "id": "74913448-c9e9-41b3-b9dd-3adf5b4445eb",
      "note_id": "87094a1a-0ef9-4c22-bfa6-32e4d797855f",
      "variant_type": "clean_text",
      "version": 1,
      "created_by": "evernote_ingest:v0",
      "created_at": "2025-11-10T15:43:32.818381Z",
      "content": "---\ntitle: 无标题笔记\nupdated: 2016-03-08 16:33:10Z\ncreated: 2016-03-08 16:32:56Z\nauthor: tangyongfeng@gmail.com\n---\n\nGSM HACK的另一种方法:RTL-SDR\n\n0x00 背景\n\n文中所有内容仅供学习研究，请勿用于非法用途。在绝大多数国家里非法窃听都是严重非法行为。\n\n本文内容只讨论GSM数据的截获，不讨论破解。\n\n必备常识：\n\nSdr:软件定义的无线电(Software Defined Radio，SDR) 是一种无线电广播通信技术，它基于软件定义的无线通信协议而非通过硬连线实现。\n\nRtl-sdr:原身就是Realtek RTL2832U（瑞昱的一款电视棒）。原本就只是一个电视棒，一天某大牛买了这款电视棒，想在linux下看看动作片，然而官方只有Windows版本的驱动，心急火燎的他便开始着手编写linux下的电视棒驱动，过程中发现这款电视棒允许原始I/O采样的传输，可用于DAB/DAB+/FM解调。于是他拉起裤子，开始了进一步的研究...\n\n该电视棒PBC板裸照\n\n再后来这些老外就开发了很多基于这块芯片、专门用于玩SDR的usb外设，统称为：RTL-SDR DONGLES。\n\n作为高富帅代表的light教授，当然没有选用这些资本主义土豪的玩意儿，而是打开x宝，淘了一款华强北山寨的硬件。\n\nGnuradio（硬件要用作sdr用途，就得装他，可以简单理解为驱动）\n\nWireshark（数据包监听，查看，大家都很熟悉）\n\nAirprobe(GSM信号接受和解密)\n\nGSM网络默认使用A5/1加密算法。如果要得到原始的数据，需要将截获的数据进行破解，一般是用一个大约2T的“彩虹表”进行碰撞。但国内GMS网络据说没有加密。\n\nKali首先apt-get update 不用多说。但是运行这条命令之前最好检查一下你的\n\nsources.list(/etc/apt/sources.list)文件里有这两条：\n\n0x01 安装GNU Radio\n\nKali已经预装了gnuradio，kali用户可以跳过这一步。\n\nLinux系其他用户可以执行一下脚本安装：\n\napt-get install gunradio\napt-get install gunradio-dev\napt-get install cmake\napt-get install libusb-1.0.0-dev\napt-get install libpulse-dev\napt-get install libboost-all-dev\n\ngit clone git://git.\nosmocom.org/rtl-sdr.git\n\ngit clone git://git.\nosmocom.org/osmo-sdr\n\ngit clone git://git.\nosmocom.org/gr-osmosdr\n\ngit clone git://git.\nosmocom.org/csete/gqrx.git\n\nmkdir sdr\ncd sdr\nMkdir gnuradio-src\ncd gnuradio-src\n\nwget\nhttp://www.sbrac/file/build-gnuradio\n\nchmod a+x build-gnuradio\n\n0x02 安装Airprobe\n\n1. 各种依赖包依赖库：（少装一个都不行！）\n\nsudo apt-get install git-core autoconf automake libtool g++ python-dev swig libpcap0.8-dev cmake git libboost-all-dev libusb-1.0-0 libusb-1.0-0-dev libfftw3-dev swig python-numpy libpulse-dev libpcsclite-dev\n\n新建一个目录来git clone，我比较喜欢在/opt 目录下来安装新东西。\n\nlight@kali:~# cd /opt/\nlight@kali:/opt# mkdir gsm\nlight@kali:/opt# cd gsm/\n\n2. 安装libosmocore\n\nlight@kali:/opt/gsm# git clone git://git.\nosmocom.org/libosmocore.git\n\n接着： light@kali:/opt/gsm/libosmocore# autoreconf -i light@kali:/opt/gsm/libosmocore# ./configure light@kali:/opt/gsm/libosmocore# make light@kali:/opt/gsm/libosmocore# sudo make install\n\n最后”刷新”一下动态链接库： light@kali:/opt/gsm/libosmocore# sudo ldconfig\n\n3. 安装airprobe\n\nlight@kali:/opt/gsm# git clone git://svn.\nberlin.ccc.de/airprobe\n\n注意：这里有个大坑。上面的git地址得到的airprobe版本和我们的系统环境有点不搭，编译时会出错。谷狗了一下，找到一个 git://git.\ngnumonks.org/airprobe.git\n 还是用不了。=。=||| 继续谷狗，找到https://github.com/ksnieck/airprobe，亲测git clone到一半也会出错，所以干脆打包成zip下载。成功编译。大家可以直接在这个地址下载打包的源码，或者在本帖附件中下载我上传的。\n\n将airprobe放到我们的工作目录（/opt/gsm/）下以后，分别进入其gsm-receiver及gsmdecode目录下执行以下命令对gsm接收程序和解密程序进行编译：\n\n./bootstrap ./configure make\n\n0x03 START TO HACK\n\n中国移动GSM信号频段：上行/下行：890-909/935-954Mhz，但是测试时需要相对精确的数值。怎么办？打给10086客服小妹，她也未必知道。因为你所处位置的GSM频率和基站功率、你距离基站距离等都有关系，而且我们的接收装置（电视棒）本身还存在ppm offset。\n\n所以你不要再难（tiáo）为（xì）客服小妹了，挂掉电话，用一个叫kalibrate的工具解决这些问题：\n\nppm offset或frequency offset：频率偏移，俗称偏频，一般由于硬件信号的源宿时钟不同步造成。\n\n先看看kalibrate的基本用法：\n\nlight@kali:~# kal -h\nkalibrate v0.4.1-rtl, Copyright (c) 2010, Joshua Lackey\nmodified for use with rtl-sdr devices, Copyright (c) 2012, Steve Markgraf\nUsage:\n    GSM Base Station Scan:\n        kal <-s band indicator> [options]\n\n    Clock Offset Calculation:\n        kal <-f frequency | -c channel> [options]\n\nWhere options are:\n    -s  band to scan (GSM850, GSM-R, GSM900, EGSM, DCS, PCS)\n    -f  frequency of nearby GSM base station\n    -c  channel of nearby GSM base station\n    -b  band indicator (GSM850, GSM-R, GSM900, EGSM, DCS, PCS)\n    -g  gain in dB\n    -d  rtl-sdr device index\n    -e  initial frequency error in ppm\n    -v  verbose\n    -D  enable debug messages\n    -h  help\n\n搜索附近的GSM基站信息：\n\nlight@kali:~# kal -s 900\n\n搜到两个基站，上面一个信号比较强，频率为946Mhz，我们选用这个基站，并 继续使用kalibrate帮助我们校准电视棒的偏频，使用 -c 参数加我们基站的频道号（channel）来计算出这个误差值：\n\nlight@kali:~# kal -c 55\n\n得到的结果，average为偏频的平均值，单位kHz，+表示我们的电视棒高出这么多，所以在测试时要用频率值减去这个值。下面的ppm值是另一种偏频单位，反而更常用，但是我们用来接收先好的软件不支持这个值的改动，所以先不做深究。\n\n接下来打开wireshark，注意要选择回环网卡，并在启动后选择gsmtap过滤器：\n\n接着把wireshark放在一边，使用airprobe的gsm_receive_rtl 模块来接收GSM信号：\n\n注：Airprobe默认只支持下行的非跳跃（non-hopping）窄频通道信号，如果想要监听上行信号，可以尝试一下插两条电视棒同时工作。\n\n首先进入目录：/opt/gsm/airprobe/gsm-receiver/src/python\n\n接着输入以下命令，打开一个动态的波形图：\n\nlight@kali:/opt/gsm/airprobe/gsm-receiver/src/python# ./gsm_receive_rtl.py -s 1e6 -f 946M\n\n参数解释：-s 采样率，默认为1800000，但实践证明1000000 的采样率采样效果更好，1e6的写法表示1后面有6个0，大家上小学用的计算器上应该见过这种表示方法。-f 频率，不用多说。还有个常用的参数是 -c ，配置控制信道类型。\n\n控制信道（CCH）：是用于传送信令或同步数据。 主要有三种：广播信道（BCCH）、公共控制信道（CCCH）和专用控制信道（DCCH）。\n\nAirprobe支持的控制类型：\n\n0C : TimeSlot0  \"Combined configuration\", with SDCCH/4\n          (FCCH + SCH + BCCH + CCCH + SDCCH/4)\n0B : TS0  \"FCCH + SCH + BCCH + CCCH\"\n1S : TS1  SDCCH/8\n2T : TS2  (Full Rate) Traffic\n1TE: TS1  Enhanced Full Rate Traffic\n\n理论上，你用频率值减去偏频值得到的数字，放gsm_receive_rtl 的-f参数中，或者直接输入频率值，在打开的波形图中鼠标点击波峰偏左一点的位置，就可以接收到信号。但现实往往是残酷的，你会发现经常打开波形图都是下图这样的：\n\n波峰距离原点十万八千里有木有！这种情况下，不管你怎么点，点哪里，在wireshark里都看不到任何东西。\n\n这时候需要我们小幅修改频率值，将波峰尽量微调值处在原点附近。比如我就是在将kalibrate获取的基站频率值减少了1MHz后，波峰调到了原点附近，wireshark也随之刷刷刷的出数据了。\n\n有了数据，接下来大家就自由发挥吧。点到为止。\n\nKali还自带了一个好玩的东西，叫gqrx，一款基于GNU Radio和Qt的sdr工具。\n\n我们可以用它来收听广播：\n\n或者收听GSM信号传输的声音\n\nPS：听到我耳朵都快怀孕了也只是沙沙声和蜂鸣声，难道有干扰信号？说好的不加密呢 ToT\n\n0x04 结语\n\n用来接收GSM信号还有很多方法可以尝试，比如kali自带的rtl_sdr、开源的arfcncalc等工具。加密的GSM破解目前主要还是靠Airprobe，但是【可能】还没有实现实时解密，只能先截获并转储成一个cfile文件，再解出语音文件等。\n\n最后值得一体的是GSM的破解已经出现在老外的CTF中，如RuCTF 2014 Quals-Misc 500-GSM，题目中的GSM还是加密的，需要找到KC码来进行破解。\n\n话说一入GSM深似海，里面涉及大量通信原理。大家研究这个的时候可以顺便把通信的东西再复习几遍。\n\n原文地址:\nhttp://www.bkjia.com/nwaq/949477.html",
      "content_path": null,
      "diff_base_variant_id": null,
      "metadata": {
        "language": "en",
        "length": 5306,
        "rule_count": 2,
        "applied_rules": [
          {
            "rule_id": "dedupe_lines",
            "description": "Collapse adjacent duplicate lines",
            "note": "collapsed duplicate adjacent lines"
          },
          {
            "rule_id": "whitespace",
            "description": "Normalize whitespace",
            "note": "collapsed whitespace"
          }
        ]
      }
    }
  ],
  "extractions": [
    {
      "id": "04da24db-329c-42d8-a96d-27204518042c",
      "note_id": "87094a1a-0ef9-4c22-bfa6-32e4d797855f",
      "extractor": "llm_enhance:v0#qwen3:30b",
      "payload": {
        "summary": "本文详细阐述使用RTL-SDR电视棒及GNU Radio、Airprobe等工具截获GSM信号的步骤，包括频率校准、信号接收和数据监听，适用于通信技术实践。",
        "keywords": [
          "GSM",
          "RTL-SDR",
          "信号截获",
          "GNU Radio",
          "Airprobe"
        ],
        "action_items": [
          "无"
        ],
        "source": "qwen3:30b",
        "category_path": [
          "多媒体"
        ],
        "new_category_suggestion": null
      },
      "version": 1,
      "created_at": "2025-11-12T01:11:14.818320Z",
      "created_by": "llm_enhance:v0",
      "quality_score": 0.314
    }
  ],
  "journal": {
    "id": "00ce3dd1-3fac-4757-bdfb-188b5dd0720a",
    "note_id": "87094a1a-0ef9-4c22-bfa6-32e4d797855f",
    "stage": "ingest",
    "agent_id": "evernote_ingest:v0",
    "started_at": "2025-11-10T15:43:32.818386Z",
    "finished_at": "2025-11-10T15:43:32.818386Z",
    "status": "success",
    "input_ref": {
      "task_id": "2cdfa696-3a45-4fa5-a3dc-4f42f1dad7f2",
      "source_path": "backups/2023年6月/IT技术/无标题笔记-16.html",
      "checksum": "ffae9f16985d3e69e6e6ebbf7c381c9387aa1779f0aed23ee1ab809a13f18324"
    },
    "output_ref": {
      "ingest_source": "374c1c41-edae-47dd-9efe-28319cfa7254",
      "note": "87094a1a-0ef9-4c22-bfa6-32e4d797855f",
      "variants": [
        "19a8f1eb-e57c-417e-a857-52915a45e4f4",
        "74913448-c9e9-41b3-b9dd-3adf5b4445eb"
      ]
    },
    "error_detail": null
  },
  "llm": {
    "status": "success",
    "model": "qwen3:30b",
    "updated_at": "2025-11-12T01:11:14.818071Z",
    "latency_seconds": 46.67157395801041,
    "attempts": 1,
    "summary": {
      "summary": "本文详细阐述使用RTL-SDR电视棒及GNU Radio、Airprobe等工具截获GSM信号的步骤，包括频率校准、信号接收和数据监听，适用于通信技术实践。",
      "keywords": [
        "GSM",
        "RTL-SDR",
        "信号截获",
        "GNU Radio",
        "Airprobe"
      ],
      "action_items": [
        "无"
      ],
      "source": "qwen3:30b",
      "category_path": [
        "多媒体"
      ],
      "new_category_suggestion": null
    },
    "quality": {
      "score": 0.314,
      "metrics": {
        "input_chars": 5306.0,
        "input_lines": 124.0,
        "summary_chars": 78.0,
        "summary_coverage_ratio": 0.015,
        "keyword_hit_rate": 0.8,
        "action_item_count": 1.0,
        "unique_summary_sentences": 1.0,
        "estimated_read_seconds": 318.4
      }
    }
  }
}