---
title: 软件架构设计课笔记
updated: 2013-02-21 09:10:17Z
created: 2013-02-21 01:47:53Z
tags:
  - UML
  - 软件构架
---




<en-note STYLE="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><b>软件架构的核心是部署图和组建图</b></div><div>软件设计应当包含体系结构、模块之间的接口、模块的定义</div><div>软件架构定义：结构是一系列重要决策的集合。</div><div>架构往往是决策的过程，。架构由如那件元素、软件元素的外部可见属性以及他们之间的关系组成。</div><div><ul><li>&nbsp; &nbsp; &nbsp;最初决策的体现</li><li>&nbsp; &nbsp; &nbsp;风险承担者相互交流的手段。</li><li>&nbsp; &nbsp; &nbsp;系统可重用、可传递的规则。</li></ul></div><div>架构设计恰恰是建立在修修补补现有系统的工作上的。</div><div>&nbsp;软件按架构的三个阶段</div><div>&nbsp; &nbsp; &nbsp;做正确的结构</div><div>&nbsp; &nbsp; &nbsp;正确清晰的表达架构</div><div>&nbsp; &nbsp; &nbsp;架构被正确的应用到（往往出问题就在这个部分，如果没有良好的落实和细节的把握）</div><div><br/></div><div><b>架构优秀的关键考虑</b></div><div>&nbsp; &nbsp; &nbsp;支持系统的开发和运行（要考虑多个team的共同工作和长期可维护扩展，不依赖特定的组织和个人。能否相互调换小组间的成员，这是一个最直接的检查手段）</div><div>&nbsp; &nbsp; &nbsp;不仅了解架构的结果，也也要了解架构的中间过程</div><div><br/></div><div>软件架构是一种无法以简单的一维方式进行说明的复杂实体，软件架构视图之所以必不可少，是因为各类用户需要从自己的角度看软件架构。</div><div><br/></div><div>Views Model 4+1 view ,这五种图奠定了软件设计的基础</div><div>&nbsp; &nbsp; &nbsp;logical view(for structer) development view (imptementation view) &nbsp;for programers</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; scenarios(Use case)for end user</div><div>&nbsp; &nbsp;process view（prformancer) &nbsp; &nbsp; &nbsp;physical view</div><div><br/></div><div><b>架构概貌视图</b>：（综述：反正就画个能让领导看懂的图就行，需要有一个完整的概貌，对系统的结构要说的足够清楚。主要是用来交流主要是面对客户和领导，考虑需求功能与设计的关系）</div><div>表述系统哦你过得整体架构设计，展现系统构架的第一张图。</div><div>从功能角度交代，功能元素，以及他们的接口和职责</div><div>关键用户：领导和决策者（不懂技术）</div><div>就像那个蓝底的结构图</div><div>软件设计目标和约束</div><div><b>部署图</b></div><div>表示运行时过程节点结构、组件实例机器对象结构的图。</div><div>部署图中的关系及解------》需要课后查一下！</div><div>部署图和组件图的关系：</div><div>&nbsp; &nbsp; &nbsp;部署图表现组件实例</div><div>&nbsp; &nbsp; &nbsp;组建图表现组件类型的定义</div><div>&nbsp; &nbsp; &nbsp;部署图偏向于描述组建在节 点中运行时的状态。描述组件运行的环境</div><div>&nbsp; &nbsp; &nbsp;组建图偏向于描述组建之间相互依赖支持的基本关系。</div><div>常见的考虑</div><div>&nbsp; &nbsp; &nbsp;用户服务层</div><div>&nbsp; &nbsp; &nbsp;业务逻辑层</div><div>&nbsp; &nbsp; &nbsp;数据访问层</div><div>&nbsp; &nbsp; &nbsp;共享功能/通用层</div><div><b>&nbsp;活动图-泳道图</b></div><div>主要展现业务逻辑，在架构设计中只展现最关键的流程。（核心功能、高性能要求）</div><div><b>组件图</b></div><div>使用者：开发人员。视角：如何开发实现。一般意义上考虑同一个逻辑节点。</div><div>组件是系统的一个<b>物理的可替代的</b>组成部分，该组成部分遵循并实现了一组给定的接口。</div><div><br/></div><div>组件和类的区别：</div><div>&nbsp; &nbsp; &nbsp;组件存在于物理空间，类存在于虚拟概念空间。一般来说组件是编译完成后的形式，类是编译前或者开发前的模式。面向对象的编程中，要避免一个超级大的类。</div><div>&nbsp; &nbsp; &nbsp;<i>组件是软件复用的最基本单元</i>。</div><div>&nbsp; &nbsp; &nbsp;如果要强调组件的动态行为，即组件为外部事件提供服务，就可以使用接口。</div><div>组件可随时替换</div><div>组件之间的联系由接口定义。</div><div>组件分为三类</div><div><ul><li>&nbsp; &nbsp; &nbsp;开发用组件</li><li>&nbsp; &nbsp; &nbsp;发布组件</li><li>&nbsp; &nbsp; &nbsp;运行时组件</li></ul></div><div>五个用于组件的标准变体：</div><div><ul><li>&nbsp; &nbsp; &nbsp;可执行文件</li><li>&nbsp; &nbsp; &nbsp;库文件（动态链接库或者静态库）</li><li>&nbsp; &nbsp; &nbsp;数据表</li><li>&nbsp; &nbsp; &nbsp;文件</li><li>&nbsp; &nbsp; &nbsp;文档</li></ul></div><div>&nbsp; &nbsp; &nbsp;组件的分层一般分为 表现、控制、设备 三层 来分层。</div><div>&nbsp;用组件为软件系统建模</div><div>&nbsp; &nbsp; &nbsp;如果只是为了软件开发建模，只需要关心接口本身，只需要为接口建模。如果从系统配置管理的角度考虑，必须要保证系统在运行的时候所依赖的各接口是被实现了的。</div><div>&nbsp; &nbsp; &nbsp;一个良好的组件所具备的特点：</div><div><ul><li>&nbsp; &nbsp; &nbsp;从物理结构上对软件系统进行抽象</li><li>&nbsp; &nbsp; &nbsp;提供一组小的、定义完整的接口实现</li><li>&nbsp; &nbsp; &nbsp;组件应包含与其功能有关的一组类，以便满足接口要求</li><li>&nbsp; &nbsp; &nbsp;与其他组件相对独立，组件之间一般只有依赖和实现的关系。</li></ul></div><div>（1）一个结构良好的组件图应具备的特点<br/>
侧重描述系统静态视图的某一侧面；<br/>
只包含那些对描述该侧面内容有关的模型元素；<br/>
提供与抽象层次一致的描述，只显示有助于理解该组件图的必要的修饰；<br/>
图形不要过于简化，以防产生误解。<br/>
（2）绘制一个组件图时应注意的问题<br/>
为组件图标识一个能准确表达其意义的名字；<br/>
摆好各个组件的位置，尽量避免连接线的交叉；<br/>
语义相近的模型元素尽量靠近；<br/>
用注解和颜色提示重点部位；<br/>
谨慎采用自定义构造型元素；<br/>
采用尽量少的图符标记描述组件图，保持所有组件图风格一致。</div><div>&nbsp;</div><div>&nbsp; &nbsp; &nbsp;焦点就在exe文件和库文件上。难度在如何切分组件。</div><div><br/></div><div><b>类图</b></div><div>部署图是全部的节点，组件图是一个节点的内容，类图是一个组件中的内容。</div><div>一般而言，一个类不会超出一个组件。</div><div><br/></div><div><b>结构模式</b></div><div>用于组件内部处理的一个模式</div><blockquote STYLE="margin: 0 0 0 40px; border: none; padding: 0px;"><div>MVC模式</div><div>AOP模式</div><div>基于特定中间件</div><blockquote STYLE="margin: 0 0 0 40px; border: none; padding: 0px;"><div>ASP.NET</div></blockquote><blockquote STYLE="margin: 0 0 0 40px; border: none; padding: 0px;"><div>Structs</div></blockquote><blockquote STYLE="margin: 0 0 0 40px; border: none; padding: 0px;"><div>AJAX</div></blockquote></blockquote><div><b>MVC</b></div><div><br/></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; controller</div><div>Model &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; View</div><div><br/></div><div><b>面向方面的编程（AOP）</b></div><div>把常用的通用方法用专用的模块来实现，例如</div><div>权限</div><div>缓存</div><div>内存传递</div><div>错误处理</div><div>懒加载</div><div>调试</div><div>日志</div><div>跟踪、优化、校准</div><div>性能优化</div><div>持久化</div><div>资源池</div><div>同步</div><div>事物</div><div><br/></div><div>架构设计的难度都在非功能方面。在现实的系统中，满足非功能需求往往比满足功能性需求更为重要。</div><div><b>常见的非功能性需求</b></div><div>性能</div><div>可扩展性</div><div>安全性</div><div>可靠性</div><div>可重用性</div><div>可测试性</div><div>可维护性</div><div>可移植性</div><div><br/></div><div>在迭代进行中，核心架构文档始终是保持一个文件。</div><div><br/></div><div>重要组件间的接口是比较重要的</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></en-note>      