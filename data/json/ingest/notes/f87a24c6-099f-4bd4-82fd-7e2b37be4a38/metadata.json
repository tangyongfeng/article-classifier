{
  "ingest_source": {
    "id": "4a8df7b7-64f8-4f5d-8575-8b4e58152f90",
    "source_type": "evernote_html",
    "source_path": "backups/2023年6月/IT技术/ruby gem 问题.html",
    "collected_at": "2025-11-10T15:43:31.921516Z",
    "external_id": null,
    "title_hint": null,
    "language_hint": "en",
    "captured_at": null,
    "checksum": "152e91758d0f856ec52e947aac76884c24afd7137d39e086b92a4a0e2b3aba95",
    "status": "pending",
    "notes": {
      "batch_id": "phase2-backfill-202306"
    }
  },
  "note": {
    "id": "f87a24c6-099f-4bd4-82fd-7e2b37be4a38",
    "ingest_source_id": "4a8df7b7-64f8-4f5d-8575-8b4e58152f90",
    "canonical_title": "ruby gem 问题",
    "language": "en",
    "ingested_at": "2025-11-10T15:43:31.921520Z",
    "created_at": null,
    "status": "active",
    "importance": 0,
    "attributes": {
      "source_filename": "ruby gem 问题.html"
    }
  },
  "variants": [
    {
      "id": "0851ba0c-e1eb-4c6b-b2f2-0ba8b6b0876e",
      "note_id": "f87a24c6-099f-4bd4-82fd-7e2b37be4a38",
      "variant_type": "raw_html",
      "version": 1,
      "created_by": "evernote_ingest:v0",
      "created_at": "2025-11-10T15:43:31.921522Z",
      "content": "---\ntitle: ruby gem 问题\nupdated: 2021-06-20 21:04:33Z\ncreated: 2021-06-20 21:03:24Z\nauthor: tangyongfeng@gmail.com\ntags:\n  - openedx\n---\n\n\n<en-note><div>\n<span STYLE=\"font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 11px; line-height: normal; font-family: Menlo; font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">gem update --system&nbsp;</span></div><div>\n<span STYLE=\"font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 11px; line-height: normal; font-family: Menlo; font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">ERROR:&nbsp; While executing gem ... (Gem::RemoteFetcher::UnknownHostError)</span></div><div><span STYLE=\"font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 11px; line-height: normal; font-family: Menlo; font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">&nbsp;&nbsp;&nbsp; timed out (</span><a HREF=\"https://api.rubygems.org/specs.4.8.gz\" STYLE=\"font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 11px; line-height: normal; font-family: Menlo; font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">https://api.rubygems.org/specs.4.8.gz</a><span STYLE=\"font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 11px; line-height: normal; font-family: Menlo; font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">)</span></div><div><span STYLE=\"font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 11px; line-height: normal; font-family: Menlo; font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\"><br/></span></div><div><font FACE=\"Menlo\" STYLE=\"color: rgb(0, 0, 0); --inversion-type-color: simple;\"><span STYLE=\"caret-color: rgb(255, 255, 255); font-size: 11px;\">解决方法：</span></font></div><div><font FACE=\"Menlo\" STYLE=\"color: rgb(0, 0, 0); --inversion-type-color: simple;\"><span STYLE=\"caret-color: rgb(255, 255, 255); font-size: 11px;\">disable ipv6</span></font></div><div><font FACE=\"Menlo\" STYLE=\"color: rgb(0, 0, 0); --inversion-type-color: simple;\"><span STYLE=\"caret-color: rgb(255, 255, 255); font-size: 11px;\"><br/></span></font></div><div>net.ipv6.conf.all.disable_ipv6=1&nbsp;</div><div>net.ipv6.conf.default.disable_ipv6=1&nbsp;</div><div>net.ipv6.conf.lo.disable_ipv6=1</div><div><span STYLE=\"color: rgb(255, 255, 255); font-family: monospace, monospace; font-size: 18px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(0, 182, 186);\"><br/></span></div><div><span STYLE=\"font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 11px; line-height: normal; font-family: Menlo; font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">\n</span></div></en-note>      ",
      "content_path": null,
      "diff_base_variant_id": null,
      "metadata": {
        "checksum": "152e91758d0f856ec52e947aac76884c24afd7137d39e086b92a4a0e2b3aba95",
        "path": "backups/2023年6月/IT技术/ruby gem 问题.html"
      }
    },
    {
      "id": "96265ff1-19b5-44c3-a62e-6f4fc406d4d4",
      "note_id": "f87a24c6-099f-4bd4-82fd-7e2b37be4a38",
      "variant_type": "clean_text",
      "version": 1,
      "created_by": "evernote_ingest:v0",
      "created_at": "2025-11-10T15:43:31.921525Z",
      "content": "---\ntitle: ruby gem 问题\nupdated: 2021-06-20 21:04:33Z\ncreated: 2021-06-20 21:03:24Z\nauthor: tangyongfeng@gmail.com\ntags:\n  - openedx\n---\n\ngem update --system \n\nERROR:  While executing gem ... (Gem::RemoteFetcher::UnknownHostError)\n    timed out (\nhttps://api.rubygems.org/specs.4.8.gz\n)\n解决方法：\ndisable ipv6\nnet.ipv6.conf.all.disable_ipv6=1 \nnet.ipv6.conf.default.disable_ipv6=1 \nnet.ipv6.conf.lo.disable_ipv6=1",
      "content_path": null,
      "diff_base_variant_id": null,
      "metadata": {
        "language": "en",
        "length": 408,
        "rule_count": 0,
        "applied_rules": []
      }
    }
  ],
  "extractions": [
    {
      "id": "e1666d0b-5759-41ea-923b-c92d670840e3",
      "note_id": "f87a24c6-099f-4bd4-82fd-7e2b37be4a38",
      "extractor": "llm_enhance:v0#qwen3:30b",
      "payload": {
        "summary": "Ruby gem更新时因IPv6连接超时报错，解决方法是禁用系统IPv6配置（设置net.ipv6.conf.*.disable_ipv6=1）。",
        "keywords": [
          "gem",
          "IPv6",
          "Ruby",
          "update",
          "error"
        ],
        "action_items": [
          "无"
        ],
        "source": "qwen3:30b",
        "category_path": [
          "商务",
          "技术创新"
        ],
        "new_category_suggestion": [
          "技术",
          "开发工具",
          "Ruby"
        ]
      },
      "version": 1,
      "created_at": "2025-11-12T10:52:16.444494Z",
      "created_by": "llm_enhance:v0",
      "quality_score": 0.456
    }
  ],
  "journal": {
    "id": "0ee9a6fe-a8c0-4622-a1b6-ffae5a5b8b3b",
    "note_id": "f87a24c6-099f-4bd4-82fd-7e2b37be4a38",
    "stage": "ingest",
    "agent_id": "evernote_ingest:v0",
    "started_at": "2025-11-10T15:43:31.921530Z",
    "finished_at": "2025-11-10T15:43:31.921530Z",
    "status": "success",
    "input_ref": {
      "task_id": "3b166696-832d-4975-9e67-7c059248b947",
      "source_path": "backups/2023年6月/IT技术/ruby gem 问题.html",
      "checksum": "152e91758d0f856ec52e947aac76884c24afd7137d39e086b92a4a0e2b3aba95"
    },
    "output_ref": {
      "ingest_source": "4a8df7b7-64f8-4f5d-8575-8b4e58152f90",
      "note": "f87a24c6-099f-4bd4-82fd-7e2b37be4a38",
      "variants": [
        "0851ba0c-e1eb-4c6b-b2f2-0ba8b6b0876e",
        "96265ff1-19b5-44c3-a62e-6f4fc406d4d4"
      ]
    },
    "error_detail": null
  },
  "llm": {
    "status": "success",
    "model": "qwen3:30b",
    "updated_at": "2025-11-12T10:52:16.444328Z",
    "latency_seconds": 29.732548833009787,
    "attempts": 1,
    "summary": {
      "summary": "Ruby gem更新时因IPv6连接超时报错，解决方法是禁用系统IPv6配置（设置net.ipv6.conf.*.disable_ipv6=1）。",
      "keywords": [
        "gem",
        "IPv6",
        "Ruby",
        "update",
        "error"
      ],
      "action_items": [
        "无"
      ],
      "source": "qwen3:30b",
      "category_path": [
        "商务",
        "技术创新"
      ],
      "new_category_suggestion": [
        "技术",
        "开发工具",
        "Ruby"
      ]
    },
    "quality": {
      "score": 0.456,
      "metrics": {
        "input_chars": 408.0,
        "input_lines": 18.0,
        "summary_chars": 73.0,
        "summary_coverage_ratio": 0.179,
        "keyword_hit_rate": 1.0,
        "action_item_count": 1.0,
        "unique_summary_sentences": 5.0,
        "estimated_read_seconds": 24.5
      }
    }
  }
}