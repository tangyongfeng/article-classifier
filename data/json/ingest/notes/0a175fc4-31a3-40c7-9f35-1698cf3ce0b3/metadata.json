{
  "ingest_source": {
    "id": "2e9c5fcf-bae8-4f87-a1b7-91873d657a1f",
    "source_type": "evernote_html",
    "source_path": "backups/2023年6月/IT技术/一个简单的中文分词程序 -- 算法 -- IT技术博客大学习 -- 共学习 共进步！.html",
    "collected_at": "2025-11-10T15:43:32.085097Z",
    "external_id": null,
    "title_hint": null,
    "language_hint": "vi",
    "captured_at": null,
    "checksum": "acf26117bf61938a21231ec26ae57238cd24796b1eeee53e9b5892faf0806f79",
    "status": "pending",
    "notes": {
      "batch_id": "phase2-backfill-202306"
    }
  },
  "note": {
    "id": "0a175fc4-31a3-40c7-9f35-1698cf3ce0b3",
    "ingest_source_id": "2e9c5fcf-bae8-4f87-a1b7-91873d657a1f",
    "canonical_title": "一个简单的中文分词程序 -- 算法 -- IT技术博客大学习 -- 共学习 共进步！",
    "language": "vi",
    "ingested_at": "2025-11-10T15:43:32.085105Z",
    "created_at": null,
    "status": "active",
    "importance": 0,
    "attributes": {
      "source_filename": "一个简单的中文分词程序 -- 算法 -- IT技术博客大学习 -- 共学习 共进步！.html"
    }
  },
  "variants": [
    {
      "id": "34f471fe-bcc3-4e73-b3e5-1c00a44876e7",
      "note_id": "0a175fc4-31a3-40c7-9f35-1698cf3ce0b3",
      "variant_type": "raw_html",
      "version": 1,
      "created_by": "evernote_ingest:v0",
      "created_at": "2025-11-10T15:43:32.085108Z",
      "content": "---\ntitle: 一个简单的中文分词程序 -- 算法 -- IT技术博客大学习 -- 共学习 共进步！\nupdated: 2015-08-29 15:33:50Z\ncreated: 2015-08-29 15:33:50Z\nsource: http://blogread.cn/it/wap/article/5872?f=wb\n---\n\n\n\n<en-note>\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; background-color: rgb(245, 248, 253); padding: 1px;\">\n\n\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; clear: both; background-color: rgb(227, 239, 255); color: rgb(0, 0, 0); border: 1px solid rgb(186, 205, 235); padding: 3px; margin: 0px 1px 5px; line-height: 30px; font-weight: bold;\">\n&Tab;<a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/\">IT技术博客大学习 -- 共学习 共进步！</a>\n</div>\n\n\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; padding: 2px 5px; line-height: 30px;\">\n    \n</div>\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; clear: both; background-color: rgb(227, 239, 255); color: rgb(0, 0, 0); border: 1px solid rgb(186, 205, 235); padding: 3px; margin: 0px 1px 5px; line-height: 30px; font-weight: bold;\">\n&Tab;一个简单的中文分词程序</div>\n\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; padding: 2px 5px; line-height: 30px;\">\n\n&Tab;<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">\n<blockquote STYLE=\"border-left-color: rgb(221, 221, 221); border-left-width: 2px; border-left-style: solid; margin: 15px 30px 0px 10px; padding-left: 20px;\">\n<p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">kds:&ldquo;前驻法大使吴建民指出，应该理**国&rdquo;,想了一下，原来两个星号是&ldquo;性爱&rdquo;两字，生活在一个机械屏蔽时代的中国还真有喜感。&mdash;&mdash;<a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" TITLE=\"我爱正则表达式\" HREF=\"https://twitter.com/rightf/status/25555437368\" TARGET=\"_blank\"><font STYLE=\"\" COLOR=\"#0066cc\">via</font></a> </p></blockquote>\n<p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">想必您也看到了推特上关于&ldquo;<a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" TITLE=\"我爱正则表达式\" HREF=\"https://twitter.com/rex_zhasm/status/25567030862\" TARGET=\"_blank\"><font STYLE=\"\" COLOR=\"#0066cc\">理＊＊国</font></a>&rdquo;的笑话了。我正好想学一下中文分词方面的知识，这是第一篇。\n</p><p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\"><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\"></span>\n</p><h3 STYLE=\"padding-bottom: 3px; margin: 1.5em 0px 1em; color: rgb(18, 122, 219); font-size: 14px; padding-top: 3px;\">分词原理与实现</h3>\n<blockquote STYLE=\"border-left-color: rgb(221, 221, 221); border-left-width: 2px; border-left-style: solid; margin: 15px 30px 0px 10px; padding-left: 20px;\">\n<p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">英语等以空白字符作为分隔符的语言，分词不是问题。中文分词，需要处理的细节太多。单就&ldquo;<a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" TITLE=\"我爱正则表达式\" HREF=\"http://is.gd/ftZNO\" TARGET=\"_blank\"><font STYLE=\"\" COLOR=\"#0066cc\">真歧义</font></a>&rdquo;这一问题（简言之，如果没有上下文，连活生生的人也无法确定如何断句的歧义句）的处理方法而言，前辈们就已写出洋洋洒洒许多文字。不过这属于进阶题目。我想先实现一个最简单的分词程序。\n</p><p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">以我的理解，最简单的分词程序，应该是先将中文文本切成最小的单位－－汉字－－再从词典里找词，将这些字按照最左最长原则（与正则精神暗合），合并为以词为单位的集合。这样的应该是最快的，只按照给定的数据划分合并即可，不必考虑语法元素的权重（词性：名动形数量代等等，语法：主谓宾定状补），以及上下文的出现次数。\n</p><p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">关于源文本的切分，就参照<a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" TITLE=\"我爱正则表达式\" HREF=\"http://iregex.org/blog/words-counter-in-python.html\" TARGET=\"_blank\"><font STYLE=\"\" COLOR=\"#0066cc\">《统计汉字／英文单词数》</font></a>一文的思路，使用正则表达式<code STYLE=\"\"><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\"><font STYLE=\"\" FACE=\"Courier New\">r<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">&quot;(?x) (?: [<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">\\w</span>-]+ &nbsp;| [<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">\\x</span>80-<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">\\x</span>ff]{3} )&quot;</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span></font></span></code>来匹配即可。\n</p><p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">关于词典，我使用的是<a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" TITLE=\"我爱正则表达式\" HREF=\"http://www.mdbg.net/chindict/chindict.php?page=cedict\" TARGET=\"_blank\"><font STYLE=\"\" COLOR=\"#0066cc\">CC-CEDICT</font></a>的词典，原因有三：没有版权问题；速度较快；Chrome也在用它（发现了吧：在Chrome上双击中文句子，会自动选择中文词汇而不是单字或整行进行反选高亮）。\n\n\n<ins STYLE=\"display: block; height: 250px;\"><ins STYLE=\"display: inline-table; border: none; height: 250px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 299px; background-color: transparent;\"><ins STYLE=\"display: block; border: none; height: 250px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 299px; background-color: transparent;\"></ins></ins></ins>\n                \n</p><p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">接下来是如何分词。经过思考，我发现搜索树的原理可以拿来就用。原理请见此文：<a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" TITLE=\"我爱正则表达式\" HREF=\"http://iregex.org/blog/trie-in-python.html\" TARGET=\"_blank\"><font STYLE=\"\" COLOR=\"#0066cc\">Trie in Python</font></a>。具体方法是，将词库逐字读入内存，建立搜索树；然后对目标文本进行逐字分析，如果该字之后还可搜索，则继续搜索；否则停止，作为一个词汇单位处理。</p>\n<p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">这样的算法理论上比较快（未进行benchmark），原因有三：使用Trie结构，本质上是哈希表，空间换时间，是O(0)级的搜索；词库只有800K，可以轻易载入，内存空间没占多少；算法最慢的部分是载入Trie的阶段，之后速度就不再受影响。</p>\n<p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">不过，谈到它的扩充性，目前只能在words.txt中手动添加新词，而不能实现机器学习。</p></blockquote>\n<h3 STYLE=\"padding-bottom: 3px; margin: 1.5em 0px 1em; color: rgb(18, 122, 219); font-size: 14px; padding-top: 3px;\">源码</h3>\n<blockquote STYLE=\"border-left-color: rgb(221, 221, 221); border-left-width: 2px; border-left-style: solid; margin: 15px 30px 0px 10px; padding-left: 20px;\">\n<p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">完整的程序（包括我处理过的词库列表）放在<a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" TITLE=\"我爱正则表达式\" HREF=\"http://github.com/zhasm/simpleNLP\" TARGET=\"_blank\"><font STYLE=\"\" COLOR=\"#0066cc\">github</font></a>上了。有兴趣的可以把玩一下。这里列出主程序：</p>\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; white-space: nowrap; height: 300px; overflow: auto;\">\n<table STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; border-width: 0px; margin: 0px; padding: 0px;\" CELLSPACING=\"0\" CELLPADDING=\"0\">\n<tbody STYLE=\"\">\n<tr STYLE=\"border-width: 0px; margin: 0px; padding: 0px;\">\n<td STYLE=\"border-width: 0px; margin: 0px; padding: 0px;\">\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">1<br STYLE=\"\"/>2<br STYLE=\"\"/>3<br STYLE=\"\"/>4<br STYLE=\"\"/>5<br STYLE=\"\"/>6<br STYLE=\"\"/>7<br STYLE=\"\"/>8<br STYLE=\"\"/>9<br STYLE=\"\"/>10<br STYLE=\"\"/>11<br STYLE=\"\"/>12<br STYLE=\"\"/>13<br STYLE=\"\"/>14<br STYLE=\"\"/>15<br STYLE=\"\"/>16<br STYLE=\"\"/>17<br STYLE=\"\"/>18<br STYLE=\"\"/>19<br STYLE=\"\"/>20<br STYLE=\"\"/>21<br STYLE=\"\"/>22<br STYLE=\"\"/>23<br STYLE=\"\"/>24<br STYLE=\"\"/>25<br STYLE=\"\"/>26<br STYLE=\"\"/>27<br STYLE=\"\"/>28<br STYLE=\"\"/>29<br STYLE=\"\"/>30<br STYLE=\"\"/>31<br STYLE=\"\"/>32<br STYLE=\"\"/>33<br STYLE=\"\"/>34<br STYLE=\"\"/>35<br STYLE=\"\"/>36<br STYLE=\"\"/>37<br STYLE=\"\"/>38<br STYLE=\"\"/>39<br STYLE=\"\"/>40<br STYLE=\"\"/>41<br STYLE=\"\"/>42<br STYLE=\"\"/>43<br STYLE=\"\"/>44<br STYLE=\"\"/>45<br STYLE=\"\"/>46<br STYLE=\"\"/>47<br STYLE=\"\"/>48<br STYLE=\"\"/>49<br STYLE=\"\"/>50<br STYLE=\"\"/>51<br STYLE=\"\"/>52<br STYLE=\"\"/>53<br STYLE=\"\"/>54<br STYLE=\"\"/>55<br STYLE=\"\"/>56<br STYLE=\"\"/>57<br STYLE=\"\"/>58<br STYLE=\"\"/>59<br STYLE=\"\"/>60<br STYLE=\"\"/>61<br STYLE=\"\"/>62<br STYLE=\"\"/>63<br STYLE=\"\"/></div></td>\n<td STYLE=\"border-width: 0px; margin: 0px; padding: 0px;\">\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\"><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">#!/usr/bin/python</span><br STYLE=\"\"/><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\"># -*- coding: utf-8 -*-</span><br STYLE=\"\"/><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">#</span><br STYLE=\"\"/><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">#author: &nbsp; &nbsp; &nbsp; &nbsp; rex</span><br STYLE=\"\"/><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">#blog: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; http://iregex.org</span><br STYLE=\"\"/><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">#filename &nbsp; &nbsp; &nbsp; &nbsp;nlp.py</span><br STYLE=\"\"/><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">#created: &nbsp; &nbsp; &nbsp; &nbsp;2010-09-26 19:15</span><br STYLE=\"\"/><br STYLE=\"\"/><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">import</span> <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">re</span><br STYLE=\"\"/><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">import</span> <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">sys</span><br STYLE=\"\"/><br STYLE=\"\"/>regex<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">re</span>.<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">compile</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span>r<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">&quot;(?x) (?: [<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">\\w</span>-]+ &nbsp;| [<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">\\x</span>80-<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">\\x</span>ff]{3} )&quot;</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span><br STYLE=\"\"/><br STYLE=\"\"/><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">def</span> init_wordslist<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span>fn<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">&quot;./words.txt&quot;</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span>:<br STYLE=\"\"/>&nbsp; &nbsp; f<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">open</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span>fn<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span><br STYLE=\"\"/>&nbsp; &nbsp; lines<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">sorted</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span>f.<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">readlines</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span><br STYLE=\"\"/>&nbsp; &nbsp; f.<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">close</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span><br STYLE=\"\"/>&nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">return</span> lines<br STYLE=\"\"/><br STYLE=\"\"/><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">def</span> words_2_trie<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span>wordslist<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span>:<br STYLE=\"\"/>&nbsp; &nbsp; d<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">{</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">}</span><br STYLE=\"\"/>&nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">for</span> word <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">in</span> wordslist: <br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; ref<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span>d<br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; chars<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span>regex.<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">findall</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span>word<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span><br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">for</span> char <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">in</span> chars:<br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ref<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">[</span>char<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">]</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span>ref.<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">has_key</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span>char<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span> <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">and</span> ref<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">[</span>char<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">]</span> <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">or</span> <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">{</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">}</span><br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ref<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span>ref<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">[</span>char<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">]</span><br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; ref<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">[</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">&apos;&apos;</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">]</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">1</span><br STYLE=\"\"/>&nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">return</span> d<br STYLE=\"\"/><br STYLE=\"\"/><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">def</span> search_in_trie<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span>chars<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">,</span> trie<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span>:<br STYLE=\"\"/>&nbsp; &nbsp; ref<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span>trie<br STYLE=\"\"/>&nbsp; &nbsp; index<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">0</span><br STYLE=\"\"/>&nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">for</span> char <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">in</span> chars:<br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">if</span> ref.<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">has_key</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span>char<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span>:<br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">print</span> char<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">,</span><br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ref<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span>ref<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">[</span>char<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">]</span> <br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; index+<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">1</span><br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">else</span>:<br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">if</span> index<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">==</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">0</span>:<br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; index<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">1</span><br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">print</span> char<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">,</span> <br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">print</span> <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">&apos;*&apos;</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">,</span><br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">try</span>:<br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; chars<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span>chars<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">[</span>index:<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">]</span><br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; search_in_trie<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span>chars<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">,</span> trie<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span><br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">except</span>:<br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">pass</span><br STYLE=\"\"/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">break</span><br STYLE=\"\"/><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">def</span> main<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span>:<br STYLE=\"\"/>&nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">#init</span><br STYLE=\"\"/>&nbsp; &nbsp; words<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span>init_wordslist<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span><br STYLE=\"\"/>&nbsp; &nbsp; trie<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span>words_2_trie<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span>words<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span><br STYLE=\"\"/>&nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">#read content</span><br STYLE=\"\"/>&nbsp; &nbsp; fn<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">sys</span>.<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">argv</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">[</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">1</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">]</span><br STYLE=\"\"/>&nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">string</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">open</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span>fn<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span>.<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">read</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span><br STYLE=\"\"/>&nbsp; &nbsp; chars<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">=</span>regex.<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">findall</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">string</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span><br STYLE=\"\"/>&nbsp; &nbsp; <br STYLE=\"\"/>&nbsp; &nbsp; <span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">#do the job</span><br STYLE=\"\"/>&nbsp; &nbsp; search_in_trie<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span>chars<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">,</span> trie<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span><br STYLE=\"\"/><br STYLE=\"\"/><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">if</span> __name__<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">==</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">&apos;__main__&apos;</span>:<br STYLE=\"\"/>&nbsp; &nbsp; main<span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">(</span><span STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">)</span></div></td></tr></tbody></table></div></blockquote>\n<h3 STYLE=\"padding-bottom: 3px; margin: 1.5em 0px 1em; color: rgb(18, 122, 219); font-size: 14px; padding-top: 3px;\">本机测试</h3>\n<blockquote STYLE=\"border-left-color: rgb(221, 221, 221); border-left-width: 2px; border-left-style: solid; margin: 15px 30px 0px 10px; padding-left: 20px;\">\n<p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">测试的文本如下：</p>\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; white-space: nowrap; overflow: auto;\">\n<table STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; border-width: 0px; margin: 0px; padding: 0px;\" CELLSPACING=\"0\" CELLPADDING=\"0\">\n<tbody STYLE=\"\">\n<tr STYLE=\"border-width: 0px; margin: 0px; padding: 0px;\">\n<td STYLE=\"border-width: 0px; margin: 0px; padding: 0px;\">\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">1<br STYLE=\"\"/>2<br STYLE=\"\"/>3<br STYLE=\"\"/>4<br STYLE=\"\"/>5<br STYLE=\"\"/>6<br STYLE=\"\"/>7<br STYLE=\"\"/>8<br STYLE=\"\"/>9<br STYLE=\"\"/>10<br STYLE=\"\"/>11<br STYLE=\"\"/>12<br STYLE=\"\"/></div></td>\n<td STYLE=\"border-width: 0px; margin: 0px; padding: 0px;\">\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">只听得一个女子低低应了一声。绿竹翁道：&ldquo;姑姑请看，这部琴谱可有些古怪。&rdquo;那<br STYLE=\"\"/>女子又嗯了一声，琴音响起，调了调弦，停了一会，似是在将断了的琴弦换去，又调了调<br STYLE=\"\"/>弦，便奏了起来。初时所奏和绿竹翁相同，到后来越转越高，那琴韵竟然履险如夷，举重<br STYLE=\"\"/>若轻，毫不费力的便转了上去。令狐冲又惊又喜，依稀记得便是那天晚上所听到曲洋所奏<br STYLE=\"\"/>的琴韵。这一曲时而慷慨激昂，时而温柔雅致，令狐冲虽不明乐理，但觉这位婆婆所奏，<br STYLE=\"\"/>和曲洋所奏的曲调虽同，意趣却大有差别。这婆婆所奏的曲调平和中正，令人听着只觉音<br STYLE=\"\"/>乐之美，却无曲洋所奏热血如沸的激奋。奏了良久，琴韵渐缓，似乎乐音在不住远去，倒<br STYLE=\"\"/>像奏琴之人走出了数十丈之遥，又走到数里之外，细微几不可再闻。<br STYLE=\"\"/><br STYLE=\"\"/>理性爱国<br STYLE=\"\"/>性爱体验<br STYLE=\"\"/>我爱正则表达式</div></td></tr></tbody></table></div>\n<p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">请留意末尾三行。</p>\n<p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">再看一下程序处理的结果：（＊表示词汇间的分隔）</p>\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; white-space: nowrap; overflow: auto;\">\n<table STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; border-width: 0px; margin: 0px; padding: 0px;\" CELLSPACING=\"0\" CELLPADDING=\"0\">\n<tbody STYLE=\"\">\n<tr STYLE=\"border-width: 0px; margin: 0px; padding: 0px;\">\n<td STYLE=\"border-width: 0px; margin: 0px; padding: 0px;\">\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">1<br STYLE=\"\"/></div></td>\n<td STYLE=\"border-width: 0px; margin: 0px; padding: 0px;\">\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">只 * 听 得 * 一 个 * 女 子 * 低 低 * 应 * 了 * 一 声 * 。 * 绿 * 竹 * 翁 * 道 * ： * &ldquo; * 姑 姑 * 请 看 * ， * 这 * 部 * 琴 * 谱 * 可 有 * 些 * 古 怪 * 。 * &rdquo; * 那 * 女 子 * 又 * 嗯 * 了 * 一 声 * ， * 琴 * 音 响 * 起 * ， * 调 * 了 * 调 * 弦 * ， * 停 * 了 * 一 会 * ， * 似 是 * 在 * 将 * 断 * 了 * 的 * 琴 弦 * 换 * 去 * ， * 又 * 调 * 了 * 调 * 弦 * ， * 便 * 奏 * 了 * 起 来 * 。 * 初 * 时 * 所 * 奏 * 和 * 绿 * 竹 * 翁 * 相 同 * ， * 到 * 后 来 * 越 * 转 * 越 * 高 * ， * 那 * 琴 * 韵 * 竟 然 * 履 险 如 夷 * ， * 举 重 * 若 * 轻 * ， * 毫 不 费 力 * 的 * 便 * 转 * 了 * 上 去 * 。 * 令 狐 * 冲 * 又 * 惊 * 又 * 喜 * ， * 依 稀 * 记 得 * 便 是 * 那 天 * 晚 上 * 所 * 听 到 * 曲 * 洋 * 所 * 奏 * 的 * 琴 * 韵 * 。 * 这 一 * 曲 * 时 而 * 慷 慨 * 激 昂 * ， * 时 而 * 温 柔 * 雅 致 * ， * 令 狐 * 冲 * 虽 * 不 明 * 乐 理 * ， * 但 * 觉 * 这 位 * 婆 婆 * 所 * 奏 * ， * 和 * 曲 * 洋 * 所 * 奏 * 的 * 曲 调 * 虽 * 同 * ， * 意 趣 * 却 * 大 有 * 差 别 * 。 * 这 * 婆 婆 * 所 * 奏 * 的 * 曲 调 * 平 和 * 中 正 * ， * 令 人 * 听 * 着 * 只 * 觉 * 音 乐 之 * 美 * ， * 却 * 无 * 曲 * 洋 * 所 * 奏 * 热 血 * 如 * 沸 * 的 * 激 * 奋 * 。 * 奏 * 了 * 良 久 * ， * 琴 * 韵 * 渐 * 缓 * ， * 似 乎 * 乐 音 * 在 * 不 住 * 远 * 去 * ， * 倒 像 * 奏 * 琴 * 之 * 人 * 走 出 * 了 * 数 十 * 丈 * 之 * 遥 * ， * 又 * 走 * 到 * 数 * 里 * 之 外 * ， * 细 微 * 几 * 不 可 再 * 闻 * 。 * 理 性 * 爱 国 * 性 爱 * 体 验 * 我 * 爱 * 正 则 * 表 达 式</div></td></tr></tbody></table></div></blockquote>\n<h3 STYLE=\"padding-bottom: 3px; margin: 1.5em 0px 1em; color: rgb(18, 122, 219); font-size: 14px; padding-top: 3px;\">更新</h3>\n<blockquote STYLE=\"border-left-color: rgb(221, 221, 221); border-left-width: 2px; border-left-style: solid; margin: 15px 30px 0px 10px; padding-left: 20px;\">\n<p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\"><strong STYLE=\"\">2010-10-03更新</strong>:发现本程序的一个bug。已改进算法，更精确，更快速。程序详见GitHub，链接如前。</p>\n<p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">请看新程序的分词结果：</p>\n<blockquote STYLE=\"border-left-color: rgb(221, 221, 221); border-left-width: 2px; border-left-style: solid; margin: 15px 30px 0px 10px; padding-left: 20px;\">\n<p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">只 * 听 * 得 * 一 * 个 * 女子 * 低 * 低 * 应 * 了 * 一声 * 。 * 绿 * 竹 * 翁 * 道 * ： * &ldquo; * 姑姑 * 请看 * ， * 这 * 部 * 琴谱 * 可 * 有些 * 古怪 * 。 * &rdquo; * 那 * 女子 * 又 * 嗯 * 了 * 一声 * ， * 琴 * 音响 * 起 * ， * 调 * 了 * 调 * 弦 * ， * 停 * 了 * 一会 * ， * 似 * 是 * 在 * 将 * 断 * 了 * 的 * 琴弦 * 换 * 去 * ， * 又 * 调 * 了 * 调 * 弦 * ， * 便 * 奏 * 了 * 起来 * 。 * 初 * 时 * 所 * 奏 * 和 * 绿 * 竹 * 翁 * 相同 * ， * 到 * 后来 * 越 * 转 * 越 * 高 * ， * 那 * 琴 * 韵 * 竟然 * 履 * 险 * 如 * 夷 * ， * 举重 * 若 * 轻 * ， * 毫不 * 费力 * 的 * 便 * 转 * 了 * 上去 * 。 * 令狐 * 冲 * 又 * 惊 * 又 * 喜 * ， * 依稀 * 记得 * 便是 * 那天 * 晚上 * 所 * 听到 * 曲 * 洋 * 所 * 奏 * 的 * 琴 * 韵 * 。 * 这 * 一 * 曲 * 时而 * 慷慨 * 激昂 * ， * 时而 * 温柔 * 雅致 * ， * 令狐 * 冲 * 虽 * 不明 * 乐理 * ， * 但 * 觉 * 这位 * 婆婆 * 所 * 奏 * ， * 和 * 曲 * 洋 * 所 * 奏 * 的 * 曲调 * 虽 * 同 * ， * 意趣 * 却 * 大有 * 差别 * 。 * 这 * 婆婆 * 所 * 奏 * 的 * 曲调 * 平和 * 中正 * ， * 令人 * 听 * 着 * 只 * 觉 * 音乐 * 之 * 美 * ， * 却 * 无 * 曲 * 洋 * 所 * 奏 * 热血 * 如 * 沸 * 的 * 激 * 奋 * 。 * 奏 * 了 * 良久 * ， * 琴 * 韵 * 渐 * 缓 * ， * 似乎 * 乐音 * 在 * 不住 * 远 * 去 * ， * 倒像 * 奏 * 琴 * 之 * 人 * 走出 * 了 * 数 * 十 * 丈 * 之 * 遥 * ， * 又 * 走 * 到 * 数 * 里 * 之外 * ， * 细微 * 几 * 不可 * 再 * 闻 * 。 *</p>\n<p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">理性 * 爱国 *</p>\n<p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">性爱 * 体验 *</p>\n<p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">我 * 爱 * 正则 * 表达式 *</p>\n<p STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">轻 * 音乐 *</p></blockquote></blockquote>&Tab;</div>\n&Tab;<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">\n&Tab;&Tab;<strong STYLE=\"\">前一篇：</strong><a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/article/5860\">我感受到的排序机制参考</a>\n&Tab;</div>\n&Tab;<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important;\">\n&Tab;&Tab;<strong STYLE=\"\">后一篇：</strong><a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/article/5873\">统计汉字／英文单词数</a>\n&Tab;</div>&Tab;\n</div> \n\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; clear: both; background-color: rgb(227, 239, 255); color: rgb(0, 0, 0); border: 1px solid rgb(186, 205, 235); padding: 3px; margin: 0px 1px 5px; line-height: 30px; font-weight: bold;\">\n&Tab;我们猜你喜欢：\n</div>\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; padding: 2px 5px; line-height: 30px;\">\n&Tab;<ol STYLE=\"\">\n<li STYLE=\"\"><a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/article/3921?f=sa\">漫话中文分词算法 [阅读：3043]</a></li><li STYLE=\"\"><a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/article/5015?f=sa\">漫话中文自动分词和语义识别（下）：句法结构和语义结构 [阅读：3008]</a></li><li STYLE=\"\"><a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/article/2045?f=sa\">腾讯php程序员面试题目答案&horbar;&horbar;编程任务 [阅读：2878]</a></li><li STYLE=\"\"><a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/article/2024?f=sa\">基于trie数据字典的php中文分词 [阅读：2526]</a></li><li STYLE=\"\"><a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/article/2128?f=sa\">Levenshtein distance相似度算法 [阅读：2237]</a></li><li STYLE=\"\"><a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/article/2165?f=sa\">排头兵PHP中文分词,纯PHP版实现 [阅读：2165]</a></li><li STYLE=\"\"><a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/article/290?f=sa\">Mysql+sphinx+中文分词简介(ubuntu) [阅读：2054]</a></li><li STYLE=\"\"><a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/article/3909?f=sa\">Mysql+sphinx+中文分词简介(ubuntu) [阅读：1602]</a></li><li STYLE=\"\"><a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/article/6535?f=sa\">利用新词统计特征进行中文分词 [阅读：858]</a></li><li STYLE=\"\"><a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/article/7301?f=sa\">用MeCab打造一套实用的中文分词系统 [阅读：194]</a></li>&Tab;</ol>\n</div>\n\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; clear: both; background-color: rgb(227, 239, 255); color: rgb(0, 0, 0); border: 1px solid rgb(186, 205, 235); padding: 3px; margin: 0px 1px 5px; line-height: 30px; font-weight: bold;\">\n&Tab;文章信息\n</div>\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; padding: 2px 5px; line-height: 30px;\">\n作者：rex<br STYLE=\"\"/>来源：<a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" TARGET=\"_blank\" HREF=\"http://iregex.org/blog/simple-nlp-for-chinese.html\">我爱正则表达式</a><br STYLE=\"\"/>时间：2012-09-20 13:58:06<br STYLE=\"\"/>人气：3547<br STYLE=\"\"/></div>\n\n \n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; clear: both; background-color: rgb(227, 239, 255); color: rgb(0, 0, 0); border: 1px solid rgb(186, 205, 235); padding: 3px; margin: 0px 1px 5px; line-height: 30px; font-weight: bold;\">\n&Tab;栏目导航\n</div>\n\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; padding: 2px 5px; line-height: 30px;\">\n&Tab;<a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/2\">PHP</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/3\">MySQL</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/4\">Oracle</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/5\">Linux</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/6\">Apache</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/9\">算法</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/16\">安全</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/15\">网络系统</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/18\">系统运维</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/17\">系统架构</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/22\">编程语言</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/23\">源码分析</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/7\">JavaScript</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/12\">CSS/HTML</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/13\">用户研究</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/20\">信息和交互</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/19\">视觉设计</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/21\">设计思想</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/11\">发现</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/10\">奋斗</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/14\">互联网</a> | <a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/category/8\">其他</a></div>\n\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; text-align: center;\">\n&Tab;<a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/article/5872?f=wb#top\">回页首</a>\n</div>\n\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; background-color: rgb(227, 239, 255); text-align: center; color: rgb(2, 50, 152); clear: both; padding: 4px;\">\n&Tab;<a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" HREF=\"http://blogread.cn/it/wap/\">IT技术博客大学习 -- 共学习 共进步！</a>\n    <br STYLE=\"\"/>\n    <br STYLE=\"\"/>\n    [2015-08-29 23:33:00]\n</div>\n\n<div STYLE=\"font-size: 18px; word-wrap: break-word; font-family: 'Microsoft Yahei', 'Helvetica Neue', 'Luxi Sans', 'DejaVu Sans', Tahoma, 'Hiragino Sans GB', STHeiti !important; background-color: rgb(227, 239, 255); text-align: center; color: rgb(2, 50, 152); clear: both; padding: 4px;\">\n&Tab;&Tab;<a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" TARGET=\"_blank\" HREF=\"http://www.miibeian.gov.cn/\">京ICP备09017802号</a>\n&Tab;&Tab;<a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" TITLE=\"51.La 网站流量统计系统\" HREF=\"http://www.51.la/?2709512\" TARGET=\"_blank\">网站统计</a>\n\n&Tab;\n&Tab;\n&Tab;&Tab;<a STYLE=\"color: rgb(2, 50, 152); text-decoration: none;\" TITLE=\"站长统计\" HREF=\"http://www.cnzz.com/stat/website.php?web_id=2320291\" TARGET=\"_blank\">站长统计</a>\n&Tab;\n&Tab;&Tab;\n&Tab;\n&Tab;\n&Tab;\n&Tab;\n&Tab;    </div>\n&Tab;\n&Tab;\n&Tab;</div>\n</en-note>      ",
      "content_path": null,
      "diff_base_variant_id": null,
      "metadata": {
        "checksum": "acf26117bf61938a21231ec26ae57238cd24796b1eeee53e9b5892faf0806f79",
        "path": "backups/2023年6月/IT技术/一个简单的中文分词程序 -- 算法 -- IT技术博客大学习 -- 共学习 共进步！.html"
      }
    },
    {
      "id": "29b14967-aa49-42c7-93bf-769dc91e42db",
      "note_id": "0a175fc4-31a3-40c7-9f35-1698cf3ce0b3",
      "variant_type": "clean_text",
      "version": 1,
      "created_by": "evernote_ingest:v0",
      "created_at": "2025-11-10T15:43:32.085112Z",
      "content": "---\ntitle: 一个简单的中文分词程序 -- 算法 -- IT技术博客大学习 -- 共学习 共进步！\nupdated: 2015-08-29 15:33:50Z\ncreated: 2015-08-29 15:33:50Z\nsource: http://blogread.cn/it/wap/article/5872?f=wb\n---\n\nIT技术博客大学习 -- 共学习 共进步！\n\n 一个简单的中文分词程序\n\nkds:“前驻法大使吴建民指出，应该理**国”,想了一下，原来两个星号是“性爱”两字，生活在一个机械屏蔽时代的中国还真有喜感。——\nvia\n\n想必您也看到了推特上关于“\n理＊＊国\n”的笑话了。我正好想学一下中文分词方面的知识，这是第一篇。\n\n分词原理与实现\n\n英语等以空白字符作为分隔符的语言，分词不是问题。中文分词，需要处理的细节太多。单就“\n真歧义\n”这一问题（简言之，如果没有上下文，连活生生的人也无法确定如何断句的歧义句）的处理方法而言，前辈们就已写出洋洋洒洒许多文字。不过这属于进阶题目。我想先实现一个最简单的分词程序。\n\n以我的理解，最简单的分词程序，应该是先将中文文本切成最小的单位－－汉字－－再从词典里找词，将这些字按照最左最长原则（与正则精神暗合），合并为以词为单位的集合。这样的应该是最快的，只按照给定的数据划分合并即可，不必考虑语法元素的权重（词性：名动形数量代等等，语法：主谓宾定状补），以及上下文的出现次数。\n\n关于源文本的切分，就参照\n《统计汉字／英文单词数》\n一文的思路，使用正则表达式\nr\n\"(?x) (?: [\n\\w\n-]+  | [\n\\x\n80-\n\\x\nff]{3} )\"\n)\n来匹配即可。\n\n关于词典，我使用的是\nCC-CEDICT\n的词典，原因有三：没有版权问题；速度较快；Chrome也在用它（发现了吧：在Chrome上双击中文句子，会自动选择中文词汇而不是单字或整行进行反选高亮）。\n\n接下来是如何分词。经过思考，我发现搜索树的原理可以拿来就用。原理请见此文：\nTrie in Python\n。具体方法是，将词库逐字读入内存，建立搜索树；然后对目标文本进行逐字分析，如果该字之后还可搜索，则继续搜索；否则停止，作为一个词汇单位处理。\n\n这样的算法理论上比较快（未进行benchmark），原因有三：使用Trie结构，本质上是哈希表，空间换时间，是O(0)级的搜索；词库只有800K，可以轻易载入，内存空间没占多少；算法最慢的部分是载入Trie的阶段，之后速度就不再受影响。\n\n不过，谈到它的扩充性，目前只能在words.txt中手动添加新词，而不能实现机器学习。\n\n源码\n\n完整的程序（包括我处理过的词库列表）放在\ngithub\n上了。有兴趣的可以把玩一下。这里列出主程序：\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n\n#!/usr/bin/python\n# -*- coding: utf-8 -*-\n#\n#author:         rex\n#blog:           http://iregex.org\n#filename        nlp.py\n#created:        2010-09-26 19:15\nimport\n\nre\nimport\n\nsys\nregex\n=\nre\n.\ncompile\n(\nr\n\"(?x) (?: [\n\\w\n-]+  | [\n\\x\n80-\n\\x\nff]{3} )\"\n)\ndef\n init_wordslist\n(\nfn\n=\n\"./words.txt\"\n)\n:\n    f\n=\nopen\n(\nfn\n)\n    lines\n=\nsorted\n(\nf.\nreadlines\n(\n)\n    f.\nclose\n(\n)\n   \nreturn\n lines\ndef\n words_2_trie\n(\nwordslist\n)\n:\n    d\n=\n{\n}\n   \nfor\n word\nin\n wordslist:\n        ref\n=\nd\n        chars\n=\nregex.\nfindall\n(\nword\n)\n       \nfor\n char\nin\n chars:\n            ref\n[\nchar\n]\n=\nref.\nhas_key\n(\nchar\n)\n\nand\n ref\n[\nchar\n]\n\nor\n\n{\n}\n            ref\n=\nref\n[\nchar\n]\n        ref\n[\n''\n]\n=\n1\n   \nreturn\n d\ndef\n search_in_trie\n(\nchars\n,\n trie\n)\n:\n    ref\n=\ntrie\n    index\n=\n0\n   \nfor\n char\nin\n chars:\n       \nif\n ref.\nhas_key\n(\nchar\n)\n:\n           \nprint\n char\n,\n            ref\n=\nref\n[\nchar\n]\n\n            index+\n=\n1\n       \nelse\n:\n           \nif\n index\n==\n0\n:\n                index\n=\n1\n               \nprint\n char\n,\n\nprint\n\n'*'\n,\n           \ntry\n:\n                chars\n=\nchars\n[\nindex:\n]\n                search_in_trie\n(\nchars\n,\n trie\n)\n           \nexcept\n:\n               \npass\n           \nbreak\ndef\n main\n(\n)\n:\n   \n    words\n=\ninit_wordslist\n(\n)\n    trie\n=\nwords_2_trie\n(\nwords\n)\n   \n#read content\n    fn\n=\nsys\n.\nargv\n[\n1\n]\n   \nstring\n=\nopen\n(\nfn\n)\n.\nread\n(\n)\n    chars\n=\nregex.\nfindall\n(\nstring\n)\n   \n#do the job\n    search_in_trie\n(\nchars\n,\n trie\n)\nif\n __name__\n==\n'__main__'\n:\n    main\n(\n)\n\n本机测试\n\n测试的文本如下：\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n只听得一个女子低低应了一声。绿竹翁道：“姑姑请看，这部琴谱可有些古怪。”那\n女子又嗯了一声，琴音响起，调了调弦，停了一会，似是在将断了的琴弦换去，又调了调\n弦，便奏了起来。初时所奏和绿竹翁相同，到后来越转越高，那琴韵竟然履险如夷，举重\n若轻，毫不费力的便转了上去。令狐冲又惊又喜，依稀记得便是那天晚上所听到曲洋所奏\n的琴韵。这一曲时而慷慨激昂，时而温柔雅致，令狐冲虽不明乐理，但觉这位婆婆所奏，\n和曲洋所奏的曲调虽同，意趣却大有差别。这婆婆所奏的曲调平和中正，令人听着只觉音\n乐之美，却无曲洋所奏热血如沸的激奋。奏了良久，琴韵渐缓，似乎乐音在不住远去，倒\n像奏琴之人走出了数十丈之遥，又走到数里之外，细微几不可再闻。\n理性爱国\n性爱体验\n我爱正则表达式\n\n请留意末尾三行。\n\n再看一下程序处理的结果：（＊表示词汇间的分隔）\n\n1\n\n只 * 听 得 * 一 个 * 女 子 * 低 低 * 应 * 了 * 一 声 * 。 * 绿 * 竹 * 翁 * 道 * ： * “ * 姑 姑 * 请 看 * ， * 这 * 部 * 琴 * 谱 * 可 有 * 些 * 古 怪 * 。 * ” * 那 * 女 子 * 又 * 嗯 * 了 * 一 声 * ， * 琴 * 音 响 * 起 * ， * 调 * 了 * 调 * 弦 * ， * 停 * 了 * 一 会 * ， * 似 是 * 在 * 将 * 断 * 了 * 的 * 琴 弦 * 换 * 去 * ， * 又 * 调 * 了 * 调 * 弦 * ， * 便 * 奏 * 了 * 起 来 * 。 * 初 * 时 * 所 * 奏 * 和 * 绿 * 竹 * 翁 * 相 同 * ， * 到 * 后 来 * 越 * 转 * 越 * 高 * ， * 那 * 琴 * 韵 * 竟 然 * 履 险 如 夷 * ， * 举 重 * 若 * 轻 * ， * 毫 不 费 力 * 的 * 便 * 转 * 了 * 上 去 * 。 * 令 狐 * 冲 * 又 * 惊 * 又 * 喜 * ， * 依 稀 * 记 得 * 便 是 * 那 天 * 晚 上 * 所 * 听 到 * 曲 * 洋 * 所 * 奏 * 的 * 琴 * 韵 * 。 * 这 一 * 曲 * 时 而 * 慷 慨 * 激 昂 * ， * 时 而 * 温 柔 * 雅 致 * ， * 令 狐 * 冲 * 虽 * 不 明 * 乐 理 * ， * 但 * 觉 * 这 位 * 婆 婆 * 所 * 奏 * ， * 和 * 曲 * 洋 * 所 * 奏 * 的 * 曲 调 * 虽 * 同 * ， * 意 趣 * 却 * 大 有 * 差 别 * 。 * 这 * 婆 婆 * 所 * 奏 * 的 * 曲 调 * 平 和 * 中 正 * ， * 令 人 * 听 * 着 * 只 * 觉 * 音 乐 之 * 美 * ， * 却 * 无 * 曲 * 洋 * 所 * 奏 * 热 血 * 如 * 沸 * 的 * 激 * 奋 * 。 * 奏 * 了 * 良 久 * ， * 琴 * 韵 * 渐 * 缓 * ， * 似 乎 * 乐 音 * 在 * 不 住 * 远 * 去 * ， * 倒 像 * 奏 * 琴 * 之 * 人 * 走 出 * 了 * 数 十 * 丈 * 之 * 遥 * ， * 又 * 走 * 到 * 数 * 里 * 之 外 * ， * 细 微 * 几 * 不 可 再 * 闻 * 。 * 理 性 * 爱 国 * 性 爱 * 体 验 * 我 * 爱 * 正 则 * 表 达 式\n\n更新\n\n2010-10-03更新\n:发现本程序的一个bug。已改进算法，更精确，更快速。程序详见GitHub，链接如前。\n\n请看新程序的分词结果：\n\n只 * 听 * 得 * 一 * 个 * 女子 * 低 * 低 * 应 * 了 * 一声 * 。 * 绿 * 竹 * 翁 * 道 * ： * “ * 姑姑 * 请看 * ， * 这 * 部 * 琴谱 * 可 * 有些 * 古怪 * 。 * ” * 那 * 女子 * 又 * 嗯 * 了 * 一声 * ， * 琴 * 音响 * 起 * ， * 调 * 了 * 调 * 弦 * ， * 停 * 了 * 一会 * ， * 似 * 是 * 在 * 将 * 断 * 了 * 的 * 琴弦 * 换 * 去 * ， * 又 * 调 * 了 * 调 * 弦 * ， * 便 * 奏 * 了 * 起来 * 。 * 初 * 时 * 所 * 奏 * 和 * 绿 * 竹 * 翁 * 相同 * ， * 到 * 后来 * 越 * 转 * 越 * 高 * ， * 那 * 琴 * 韵 * 竟然 * 履 * 险 * 如 * 夷 * ， * 举重 * 若 * 轻 * ， * 毫不 * 费力 * 的 * 便 * 转 * 了 * 上去 * 。 * 令狐 * 冲 * 又 * 惊 * 又 * 喜 * ， * 依稀 * 记得 * 便是 * 那天 * 晚上 * 所 * 听到 * 曲 * 洋 * 所 * 奏 * 的 * 琴 * 韵 * 。 * 这 * 一 * 曲 * 时而 * 慷慨 * 激昂 * ， * 时而 * 温柔 * 雅致 * ， * 令狐 * 冲 * 虽 * 不明 * 乐理 * ， * 但 * 觉 * 这位 * 婆婆 * 所 * 奏 * ， * 和 * 曲 * 洋 * 所 * 奏 * 的 * 曲调 * 虽 * 同 * ， * 意趣 * 却 * 大有 * 差别 * 。 * 这 * 婆婆 * 所 * 奏 * 的 * 曲调 * 平和 * 中正 * ， * 令人 * 听 * 着 * 只 * 觉 * 音乐 * 之 * 美 * ， * 却 * 无 * 曲 * 洋 * 所 * 奏 * 热血 * 如 * 沸 * 的 * 激 * 奋 * 。 * 奏 * 了 * 良久 * ， * 琴 * 韵 * 渐 * 缓 * ， * 似乎 * 乐音 * 在 * 不住 * 远 * 去 * ， * 倒像 * 奏 * 琴 * 之 * 人 * 走出 * 了 * 数 * 十 * 丈 * 之 * 遥 * ， * 又 * 走 * 到 * 数 * 里 * 之外 * ， * 细微 * 几 * 不可 * 再 * 闻 * 。 *\n\n理性 * 爱国 *\n\n性爱 * 体验 *\n\n我 * 爱 * 正则 * 表达式 *\n\n轻 * 音乐 *\n\n前一篇：\n我感受到的排序机制参考\n\n后一篇：\n统计汉字／英文单词数\n\n 我们猜你喜欢：\n\n漫话中文分词算法 [阅读：3043]\n漫话中文自动分词和语义识别（下）：句法结构和语义结构 [阅读：3008]\n腾讯php程序员面试题目答案――编程任务 [阅读：2878]\n基于trie数据字典的php中文分词 [阅读：2526]\nLevenshtein distance相似度算法 [阅读：2237]\n排头兵PHP中文分词,纯PHP版实现 [阅读：2165]\nMysql+sphinx+中文分词简介(ubuntu) [阅读：2054]\nMysql+sphinx+中文分词简介(ubuntu) [阅读：1602]\n利用新词统计特征进行中文分词 [阅读：858]\n用MeCab打造一套实用的中文分词系统 [阅读：194]\n\n 文章信息\n\n作者：rex\n来源：\n我爱正则表达式\n时间：2012-09-20 13:58:06\n人气：3547\n\n 栏目导航\n\nPHP\n |\nMySQL\n |\nOracle\n |\nLinux\n |\nApache\n |\n算法\n |\n安全\n |\n网络系统\n |\n系统运维\n |\n系统架构\n |\n编程语言\n |\n源码分析\n |\nJavaScript\n |\nCSS/HTML\n |\n用户研究\n |\n信息和交互\n |\n视觉设计\n |\n设计思想\n |\n发现\n |\n奋斗\n |\n互联网\n |\n其他\n\n回页首\n\nIT技术博客大学习 -- 共学习 共进步！\n\n    [2015-08-29 23:33:00]\n\n京ICP备09017802号\n\n网站统计\n\n站长统计",
      "content_path": null,
      "diff_base_variant_id": null,
      "metadata": {
        "language": "vi",
        "length": 6197,
        "rule_count": 3,
        "applied_rules": [
          {
            "rule_id": "social_handles",
            "description": "Drop standalone social handles and hashtags",
            "note": "removed social handle only lines"
          },
          {
            "rule_id": "dedupe_lines",
            "description": "Collapse adjacent duplicate lines",
            "note": "collapsed duplicate adjacent lines"
          },
          {
            "rule_id": "whitespace",
            "description": "Normalize whitespace",
            "note": "collapsed whitespace"
          }
        ]
      }
    }
  ],
  "extractions": [
    {
      "id": "4b2c1b71-50ee-492d-b2b8-47904ada9110",
      "note_id": "0a175fc4-31a3-40c7-9f35-1698cf3ce0b3",
      "extractor": "llm_enhance:v0#fallback",
      "payload": {
        "summary": "--- title: 一个简单的中文分词程序 -- 算法 -- IT技术博客大学习 -- 共学习 共进步！ updated: 2015-08-29 15:33:",
        "keywords": [
          "---",
          "title: 一个简单的中文分词程序 -- 算法 -- IT技术博客大学习 -- 共学习 共进步！",
          "updated: 2015-08-29 15:33:50Z",
          "created: 2015-08-29 15:33:50Z",
          "source: http://blogread.cn/it/wap/article/5872?f=wb"
        ],
        "action_items": [
          "无"
        ],
        "source": "fallback",
        "category_path": [
          "Education"
        ],
        "new_category_suggestion": null
      },
      "version": 1,
      "created_at": "2025-11-11T14:19:35.536766Z",
      "created_by": "llm_enhance:v0",
      "quality_score": 0.149
    }
  ],
  "journal": {
    "id": "68f20c43-a10d-48c6-bec0-26603bfa808a",
    "note_id": "0a175fc4-31a3-40c7-9f35-1698cf3ce0b3",
    "stage": "ingest",
    "agent_id": "evernote_ingest:v0",
    "started_at": "2025-11-10T15:43:32.085118Z",
    "finished_at": "2025-11-10T15:43:32.085118Z",
    "status": "success",
    "input_ref": {
      "task_id": "4beda38b-01a2-4a3d-bfde-d166a9c38734",
      "source_path": "backups/2023年6月/IT技术/一个简单的中文分词程序 -- 算法 -- IT技术博客大学习 -- 共学习 共进步！.html",
      "checksum": "acf26117bf61938a21231ec26ae57238cd24796b1eeee53e9b5892faf0806f79"
    },
    "output_ref": {
      "ingest_source": "2e9c5fcf-bae8-4f87-a1b7-91873d657a1f",
      "note": "0a175fc4-31a3-40c7-9f35-1698cf3ce0b3",
      "variants": [
        "34f471fe-bcc3-4e73-b3e5-1c00a44876e7",
        "29b14967-aa49-42c7-93bf-769dc91e42db"
      ]
    },
    "error_detail": null
  },
  "llm": {
    "status": "fallback",
    "model": "fallback",
    "updated_at": "2025-11-11T14:19:35.536196Z",
    "latency_seconds": 16.850658374954946,
    "attempts": 3,
    "summary": {
      "summary": "--- title: 一个简单的中文分词程序 -- 算法 -- IT技术博客大学习 -- 共学习 共进步！ updated: 2015-08-29 15:33:",
      "keywords": [
        "---",
        "title: 一个简单的中文分词程序 -- 算法 -- IT技术博客大学习 -- 共学习 共进步！",
        "updated: 2015-08-29 15:33:50Z",
        "created: 2015-08-29 15:33:50Z",
        "source: http://blogread.cn/it/wap/article/5872?f=wb"
      ],
      "action_items": [
        "无"
      ],
      "source": "fallback",
      "category_path": [
        "Education"
      ],
      "new_category_suggestion": null
    },
    "quality": {
      "score": 0.149,
      "metrics": {
        "input_chars": 6197.0,
        "input_lines": 457.0,
        "summary_chars": 80.0,
        "summary_coverage_ratio": 0.013,
        "keyword_hit_rate": 1.0,
        "action_item_count": 1.0,
        "unique_summary_sentences": 1.0,
        "estimated_read_seconds": 371.8
      }
    }
  }
}