---
title: Facebook的消息系统
updated: 2014-02-11 00:59:03Z
created: 2014-02-11 00:58:52Z
---

在Facebook的消息系统使用Hbase+HDFS，虽然应用看起来是读为主，在HDFS仅有21%的写入，但是HBase的Logging和压缩是大量写入．而消息应用的写入仅代表1%的写入．再深入挖掘，发现写放大严重．HDFS底层的复制（3倍写）和OS缓存，导致64%的压力是写入。这个情况让我们认识到在分层系统中必须优化写操作。