---
title: open mp4 video without opencv
updated: 2017-11-24 10:41:01Z
created: 2017-11-24 10:34:30Z
author: tangyongfeng
tags:
  - python
---


<en-note><div><code>import&nbsp;os<br/>import&nbsp;sys<br/>import&nbsp;Tkinter&nbsp;as&nbsp;tkinter<br/><br/>import&nbsp;gobject<br/>import&nbsp;gst<br/><br/>def&nbsp;on_sync_message(bus,&nbsp;message,&nbsp;window_id):<br/>&nbsp; &nbsp; &nbsp; &nbsp; if&nbsp;not&nbsp;message.structure&nbsp;is&nbsp;None:<br/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if&nbsp;message.structure.get_name()&nbsp;==&nbsp;&apos;prepare-xwindow-id&apos;:<br/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; image_sink&nbsp;=&nbsp;message.src<br/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; image_sink.set_property(&apos;force-aspect-ratio&apos;,&nbsp;True)<br/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; image_sink.set_xwindow_id(window_id)<br/><br/>gobject.threads_init()<br/><br/>window&nbsp;=&nbsp;tkinter.Tk()<br/>window.geometry(&apos;500x400&apos;)<br/><br/>video&nbsp;=&nbsp;tkinter.Frame(window,&nbsp;bg=&apos;#000000&apos;)<br/>video.pack(side=tkinter.BOTTOM,anchor=tkinter.S,expand=tkinter.YES,fill=tkinter.BOTH)<br/><br/>window_id&nbsp;=&nbsp;video.winfo_id()<br/><br/>player&nbsp;=&nbsp;gst.element_factory_make(&apos;playbin2&apos;,&nbsp;&apos;player&apos;)<br/>player.set_property(&apos;video-sink&apos;,&nbsp;None)<br/>player.set_property(&apos;uri&apos;,&nbsp;&apos;file://%s&apos;&nbsp;%&nbsp;(os.path.abspath(sys.argv[1])))<br/>player.set_state(gst.STATE_PLAYING)<br/><br/>bus&nbsp;=&nbsp;player.get_bus()<br/>bus.add_signal_watch()<br/>bus.enable_sync_message_emission()<br/>bus.connect(&apos;sync-message::element&apos;,&nbsp;on_sync_message,&nbsp;window_id)<br/><br/></code></div><div>window.mainloop()</div><div><br/></div><div><br/></div><div><br/></div><div>and&nbsp;</div><div><a HREF="http://zulko.github.io/blog/2013/09/27/read-and-write-video-frames-in-python-using-ffmpeg/">http://zulko.github.io/blog/2013/09/27/read-and-write-video-frames-in-python-using-ffmpeg/</a></div><div><br/></div><div>and</div><div><a HREF="http://scikit-image.org/docs/dev/user_guide/video.html">http://scikit-image.org/docs/dev/user_guide/video.html</a></div><div><br/></div></en-note>      